import{Q as t0}from"./secret-utils-kw504jar.js";import{V as $0,X as n0}from"./index-ppx2q8vn.js";import{$ as _,_ as i0,ba as d}from"./index-z7h8chkt.js";var K=_((T4)=>{var dq=Symbol.for("yaml.alias"),H2=Symbol.for("yaml.document"),e0=Symbol.for("yaml.map"),X2=Symbol.for("yaml.pair"),lq=Symbol.for("yaml.scalar"),qq=Symbol.for("yaml.seq"),m=Symbol.for("yaml.node.type"),Y4=(q)=>!!q&&typeof q==="object"&&q[m]===dq,I4=(q)=>!!q&&typeof q==="object"&&q[m]===H2,O4=(q)=>!!q&&typeof q==="object"&&q[m]===e0,V4=(q)=>!!q&&typeof q==="object"&&q[m]===X2,Z2=(q)=>!!q&&typeof q==="object"&&q[m]===lq,W4=(q)=>!!q&&typeof q==="object"&&q[m]===qq;function G2(q){if(q&&typeof q==="object")switch(q[m]){case e0:case qq:return!0}return!1}function _4(q){if(q&&typeof q==="object")switch(q[m]){case dq:case e0:case lq:case qq:return!0}return!1}var L4=(q)=>(Z2(q)||G2(q))&&!!q.anchor;T4.ALIAS=dq;T4.DOC=H2;T4.MAP=e0;T4.NODE_TYPE=m;T4.PAIR=X2;T4.SCALAR=lq;T4.SEQ=qq;T4.hasAnchor=L4;T4.isAlias=Y4;T4.isCollection=G2;T4.isDocument=I4;T4.isMap=O4;T4.isNode=_4;T4.isPair=V4;T4.isScalar=Z2;T4.isSeq=W4});var P0=_((g4)=>{var j=K(),C=Symbol("break visit"),Q2=Symbol("skip children"),h=Symbol("remove node");function $q(q,$){let H=J2($);if(j.isDocument(q)){if(O0(null,q.contents,H,Object.freeze([q]))===h)q.contents=null}else O0(null,q,H,Object.freeze([]))}$q.BREAK=C;$q.SKIP=Q2;$q.REMOVE=h;function O0(q,$,H,X){let Z=z2(q,$,H,X);if(j.isNode(Z)||j.isPair(Z))return B2(q,X,Z),O0(q,Z,H,X);if(typeof Z!=="symbol"){if(j.isCollection($)){X=Object.freeze(X.concat($));for(let G=0;G<$.items.length;++G){let Q=O0(G,$.items[G],H,X);if(typeof Q==="number")G=Q-1;else if(Q===C)return C;else if(Q===h)$.items.splice(G,1),G-=1}}else if(j.isPair($)){X=Object.freeze(X.concat($));let G=O0("key",$.key,H,X);if(G===C)return C;else if(G===h)$.key=null;let Q=O0("value",$.value,H,X);if(Q===C)return C;else if(Q===h)$.value=null}}return Z}async function Hq(q,$){let H=J2($);if(j.isDocument(q)){if(await V0(null,q.contents,H,Object.freeze([q]))===h)q.contents=null}else await V0(null,q,H,Object.freeze([]))}Hq.BREAK=C;Hq.SKIP=Q2;Hq.REMOVE=h;async function V0(q,$,H,X){let Z=await z2(q,$,H,X);if(j.isNode(Z)||j.isPair(Z))return B2(q,X,Z),V0(q,Z,H,X);if(typeof Z!=="symbol"){if(j.isCollection($)){X=Object.freeze(X.concat($));for(let G=0;G<$.items.length;++G){let Q=await V0(G,$.items[G],H,X);if(typeof Q==="number")G=Q-1;else if(Q===C)return C;else if(Q===h)$.items.splice(G,1),G-=1}}else if(j.isPair($)){X=Object.freeze(X.concat($));let G=await V0("key",$.key,H,X);if(G===C)return C;else if(G===h)$.key=null;let Q=await V0("value",$.value,H,X);if(Q===C)return C;else if(Q===h)$.value=null}}return Z}function J2(q){if(typeof q==="object"&&(q.Collection||q.Node||q.Value))return Object.assign({Alias:q.Node,Map:q.Node,Scalar:q.Node,Seq:q.Node},q.Value&&{Map:q.Value,Scalar:q.Value,Seq:q.Value},q.Collection&&{Map:q.Collection,Seq:q.Collection},q);return q}function z2(q,$,H,X){if(typeof H==="function")return H(q,$,X);if(j.isMap($))return H.Map?.(q,$,X);if(j.isSeq($))return H.Seq?.(q,$,X);if(j.isPair($))return H.Pair?.(q,$,X);if(j.isScalar($))return H.Scalar?.(q,$,X);if(j.isAlias($))return H.Alias?.(q,$,X);return}function B2(q,$,H){let X=$[$.length-1];if(j.isCollection(X))X.items[q]=H;else if(j.isPair(X))if(q==="key")X.key=H;else X.value=H;else if(j.isDocument(X))X.contents=H;else{let Z=j.isAlias(X)?"alias":"scalar";throw Error(`Cannot replace node with ${Z} parent`)}}g4.visit=$q;g4.visitAsync=Hq});var sq=_((m4)=>{var U2=K(),u4=P0(),h4={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},v4=(q)=>q.replace(/[!,[\]{}]/g,($)=>h4[$]);class f{constructor(q,$){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},f.defaultYaml,q),this.tags=Object.assign({},f.defaultTags,$)}clone(){let q=new f(this.yaml,this.tags);return q.docStart=this.docStart,q}atDocument(){let q=new f(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:f.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},f.defaultTags);break}return q}add(q,$){if(this.atNextDocument)this.yaml={explicit:f.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},f.defaultTags),this.atNextDocument=!1;let H=q.trim().split(/[ \t]+/),X=H.shift();switch(X){case"%TAG":{if(H.length!==2){if($(0,"%TAG directive should contain exactly two parts"),H.length<2)return!1}let[Z,G]=H;return this.tags[Z]=G,!0}case"%YAML":{if(this.yaml.explicit=!0,H.length!==1)return $(0,"%YAML directive should contain exactly one part"),!1;let[Z]=H;if(Z==="1.1"||Z==="1.2")return this.yaml.version=Z,!0;else{let G=/^\d+\.\d+$/.test(Z);return $(6,`Unsupported YAML version ${Z}`,G),!1}}default:return $(0,`Unknown directive ${X}`,!0),!1}}tagName(q,$){if(q==="!")return"!";if(q[0]!=="!")return $(`Not a valid tag: ${q}`),null;if(q[1]==="<"){let G=q.slice(2,-1);if(G==="!"||G==="!!")return $(`Verbatim tags aren't resolved, so ${q} is invalid.`),null;if(q[q.length-1]!==">")$("Verbatim tags must end with a >");return G}let[,H,X]=q.match(/^(.*!)([^!]*)$/s);if(!X)$(`The ${q} tag has no suffix`);let Z=this.tags[H];if(Z)try{return Z+decodeURIComponent(X)}catch(G){return $(String(G)),null}if(H==="!")return q;return $(`Could not resolve tag: ${q}`),null}tagString(q){for(let[$,H]of Object.entries(this.tags))if(q.startsWith(H))return $+v4(q.substring(H.length));return q[0]==="!"?q:`!<${q}>`}toString(q){let $=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],H=Object.entries(this.tags),X;if(q&&H.length>0&&U2.isNode(q.contents)){let Z={};u4.visit(q.contents,(G,Q)=>{if(U2.isNode(Q)&&Q.tag)Z[Q.tag]=!0}),X=Object.keys(Z)}else X=[];for(let[Z,G]of H){if(Z==="!!"&&G==="tag:yaml.org,2002:")continue;if(!q||X.some((Q)=>Q.startsWith(G)))$.push(`%TAG ${Z} ${G}`)}return $.join(`
`)}}f.defaultYaml={explicit:!1,version:"1.2"};f.defaultTags={"!!":"tag:yaml.org,2002:"};m4.Directives=f});var Xq=_((c4)=>{var Y2=K(),d4=P0();function l4(q){if(/[\x00-\x19\s,[\]{}]/.test(q)){let H=`Anchor must not contain whitespace or control characters: ${JSON.stringify(q)}`;throw Error(H)}return!0}function I2(q){let $=new Set;return d4.visit(q,{Value(H,X){if(X.anchor)$.add(X.anchor)}}),$}function O2(q,$){for(let H=1;;++H){let X=`${q}${H}`;if(!$.has(X))return X}}function s4(q,$){let H=[],X=new Map,Z=null;return{onAnchor:(G)=>{H.push(G),Z??(Z=I2(q));let Q=O2($,Z);return Z.add(Q),Q},setAnchors:()=>{for(let G of H){let Q=X.get(G);if(typeof Q==="object"&&Q.anchor&&(Y2.isScalar(Q.node)||Y2.isCollection(Q.node)))Q.node.anchor=Q.anchor;else{let J=Error("Failed to resolve repeated object (this should not happen)");throw J.source=G,J}}},sourceObjects:X}}c4.anchorIsValid=l4;c4.anchorNames=I2;c4.createNodeAnchors=s4;c4.findNewAnchor=O2});var cq=_((o4)=>{function K0(q,$,H,X){if(X&&typeof X==="object")if(Array.isArray(X))for(let Z=0,G=X.length;Z<G;++Z){let Q=X[Z],J=K0(q,X,String(Z),Q);if(J===void 0)delete X[Z];else if(J!==Q)X[Z]=J}else if(X instanceof Map)for(let Z of Array.from(X.keys())){let G=X.get(Z),Q=K0(q,X,Z,G);if(Q===void 0)X.delete(Z);else if(Q!==G)X.set(Z,Q)}else if(X instanceof Set)for(let Z of Array.from(X)){let G=K0(q,X,Z,Z);if(G===void 0)X.delete(Z);else if(G!==Z)X.delete(Z),X.add(G)}else for(let[Z,G]of Object.entries(X)){let Q=K0(q,X,Z,G);if(Q===void 0)delete X[Z];else if(Q!==G)X[Z]=Q}return q.call($,H,X)}o4.applyReviver=K0});var c=_((qH)=>{var e4=K();function V2(q,$,H){if(Array.isArray(q))return q.map((X,Z)=>V2(X,String(Z),H));if(q&&typeof q.toJSON==="function"){if(!H||!e4.hasAnchor(q))return q.toJSON($,H);let X={aliasCount:0,count:1,res:void 0};H.anchors.set(q,X),H.onCreate=(G)=>{X.res=G,delete H.onCreate};let Z=q.toJSON($,H);if(H.onCreate)H.onCreate(Z);return Z}if(typeof q==="bigint"&&!H?.keep)return Number(q);return q}qH.toJS=V2});var Zq=_((ZH)=>{var HH=cq(),W2=K(),XH=c();class _2{constructor(q){Object.defineProperty(this,W2.NODE_TYPE,{value:q})}clone(){let q=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));if(this.range)q.range=this.range.slice();return q}toJS(q,{mapAsMap:$,maxAliasCount:H,onAnchor:X,reviver:Z}={}){if(!W2.isDocument(q))throw TypeError("A document argument is required");let G={anchors:new Map,doc:q,keep:!0,mapAsMap:$===!0,mapKeyWarned:!1,maxAliasCount:typeof H==="number"?H:100},Q=XH.toJS(this,"",G);if(typeof X==="function")for(let{count:J,res:z}of G.anchors.values())X(z,J);return typeof Z==="function"?HH.applyReviver(Z,{"":Q},"",Q):Q}}ZH.NodeBase=_2});var w0=_((UH)=>{var QH=Xq(),JH=P0(),W0=K(),zH=Zq(),BH=c();class L2 extends zH.NodeBase{constructor(q){super(W0.ALIAS);this.source=q,Object.defineProperty(this,"tag",{set(){throw Error("Alias nodes cannot have tags")}})}resolve(q,$){let H;if($?.aliasResolveCache)H=$.aliasResolveCache;else if(H=[],JH.visit(q,{Node:(Z,G)=>{if(W0.isAlias(G)||W0.hasAnchor(G))H.push(G)}}),$)$.aliasResolveCache=H;let X=void 0;for(let Z of H){if(Z===this)break;if(Z.anchor===this.source)X=Z}return X}toJSON(q,$){if(!$)return{source:this.source};let{anchors:H,doc:X,maxAliasCount:Z}=$,G=this.resolve(X,$);if(!G){let J=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw ReferenceError(J)}let Q=H.get(G);if(!Q)BH.toJS(G,null,$),Q=H.get(G);if(!Q||Q.res===void 0)throw ReferenceError("This should not happen: Alias anchor was not resolved?");if(Z>=0){if(Q.count+=1,Q.aliasCount===0)Q.aliasCount=Gq(X,G,H);if(Q.count*Q.aliasCount>Z)throw ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return Q.res}toString(q,$,H){let X=`*${this.source}`;if(q){if(QH.anchorIsValid(this.source),q.options.verifyAliasOrder&&!q.anchors.has(this.source)){let Z=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw Error(Z)}if(q.implicitKey)return`${X} `}return X}}function Gq(q,$,H){if(W0.isAlias($)){let X=$.resolve(q),Z=H&&X&&H.get(X);return Z?Z.count*Z.aliasCount:0}else if(W0.isCollection($)){let X=0;for(let Z of $.items){let G=Gq(q,Z,H);if(G>X)X=G}return X}else if(W0.isPair($)){let X=Gq(q,$.key,H),Z=Gq(q,$.value,H);return Math.max(X,Z)}return 1}UH.Alias=L2});var N=_((_H)=>{var IH=K(),OH=Zq(),VH=c(),WH=(q)=>!q||typeof q!=="function"&&typeof q!=="object";class X0 extends OH.NodeBase{constructor(q){super(IH.SCALAR);this.value=q}toJSON(q,$){return $?.keep?this.value:VH.toJS(this.value,q,$)}toString(){return String(this.value)}}X0.BLOCK_FOLDED="BLOCK_FOLDED";X0.BLOCK_LITERAL="BLOCK_LITERAL";X0.PLAIN="PLAIN";X0.QUOTE_DOUBLE="QUOTE_DOUBLE";X0.QUOTE_SINGLE="QUOTE_SINGLE";_H.Scalar=X0;_H.isScalarValue=WH});var N0=_((MH)=>{var RH=w0(),Z0=K(),T2=N(),DH="tag:yaml.org,2002:";function FH(q,$,H){if($){let X=H.filter((G)=>G.tag===$),Z=X.find((G)=>!G.format)??X[0];if(!Z)throw Error(`Tag ${$} not found`);return Z}return H.find((X)=>X.identify?.(q)&&!X.format)}function AH(q,$,H){if(Z0.isDocument(q))q=q.contents;if(Z0.isNode(q))return q;if(Z0.isPair(q)){let U=H.schema[Z0.MAP].createNode?.(H.schema,null,H);return U.items.push(q),U}if(q instanceof String||q instanceof Number||q instanceof Boolean||typeof BigInt<"u"&&q instanceof BigInt)q=q.valueOf();let{aliasDuplicateObjects:X,onAnchor:Z,onTagObj:G,schema:Q,sourceObjects:J}=H,z=void 0;if(X&&q&&typeof q==="object")if(z=J.get(q),z)return z.anchor??(z.anchor=Z(q)),new RH.Alias(z.anchor);else z={anchor:null,node:null},J.set(q,z);if($?.startsWith("!!"))$=DH+$.slice(2);let B=FH(q,$,Q.tags);if(!B){if(q&&typeof q.toJSON==="function")q=q.toJSON();if(!q||typeof q!=="object"){let U=new T2.Scalar(q);if(z)z.node=U;return U}B=q instanceof Map?Q[Z0.MAP]:(Symbol.iterator in Object(q))?Q[Z0.SEQ]:Q[Z0.MAP]}if(G)G(B),delete H.onTagObj;let O=B?.createNode?B.createNode(H.schema,q,H):typeof B?.nodeClass?.from==="function"?B.nodeClass.from(H.schema,q,H):new T2.Scalar(q);if($)O.tag=$;else if(!B.default)O.tag=B.tag;if(z)z.node=O;return O}MH.createNode=AH});var Qq=_((NH)=>{var KH=N0(),v=K(),wH=Zq();function aq(q,$,H){let X=H;for(let Z=$.length-1;Z>=0;--Z){let G=$[Z];if(typeof G==="number"&&Number.isInteger(G)&&G>=0){let Q=[];Q[G]=X,X=Q}else X=new Map([[G,X]])}return KH.createNode(X,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw Error("This should not happen, please report a bug.")},schema:q,sourceObjects:new Map})}var R2=(q)=>q==null||typeof q==="object"&&!!q[Symbol.iterator]().next().done;class D2 extends wH.NodeBase{constructor(q,$){super(q);Object.defineProperty(this,"schema",{value:$,configurable:!0,enumerable:!1,writable:!0})}clone(q){let $=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));if(q)$.schema=q;if($.items=$.items.map((H)=>v.isNode(H)||v.isPair(H)?H.clone(q):H),this.range)$.range=this.range.slice();return $}addIn(q,$){if(R2(q))this.add($);else{let[H,...X]=q,Z=this.get(H,!0);if(v.isCollection(Z))Z.addIn(X,$);else if(Z===void 0&&this.schema)this.set(H,aq(this.schema,X,$));else throw Error(`Expected YAML collection at ${H}. Remaining path: ${X}`)}}deleteIn(q){let[$,...H]=q;if(H.length===0)return this.delete($);let X=this.get($,!0);if(v.isCollection(X))return X.deleteIn(H);else throw Error(`Expected YAML collection at ${$}. Remaining path: ${H}`)}getIn(q,$){let[H,...X]=q,Z=this.get(H,!0);if(X.length===0)return!$&&v.isScalar(Z)?Z.value:Z;else return v.isCollection(Z)?Z.getIn(X,$):void 0}hasAllNullValues(q){return this.items.every(($)=>{if(!v.isPair($))return!1;let H=$.value;return H==null||q&&v.isScalar(H)&&H.value==null&&!H.commentBefore&&!H.comment&&!H.tag})}hasIn(q){let[$,...H]=q;if(H.length===0)return this.has($);let X=this.get($,!0);return v.isCollection(X)?X.hasIn(H):!1}setIn(q,$){let[H,...X]=q;if(X.length===0)this.set(H,$);else{let Z=this.get(H,!0);if(v.isCollection(Z))Z.setIn(X,$);else if(Z===void 0&&this.schema)this.set(H,aq(this.schema,X,$));else throw Error(`Expected YAML collection at ${H}. Remaining path: ${X}`)}}}NH.Collection=D2;NH.collectionFromPath=aq;NH.isEmptyPath=R2});var b0=_((yH)=>{var CH=(q)=>q.replace(/^(?!$)(?: $)?/gm,"#");function iq(q,$){if(/^\n+$/.test(q))return q.substring(1);return $?q.replace(/^(?! *$)/gm,$):q}var EH=(q,$,H)=>q.endsWith(`
`)?iq(H,$):H.includes(`
`)?`
`+iq(H,$):(q.endsWith(" ")?"":" ")+H;yH.indentComment=iq;yH.lineComment=EH;yH.stringifyComment=CH});var A2=_((uH)=>{function kH(q,$,H="flow",{indentAtStart:X,lineWidth:Z=80,minContentWidth:G=20,onFold:Q,onOverflow:J}={}){if(!Z||Z<0)return q;if(Z<G)G=0;let z=Math.max(1+G,1+Z-$.length);if(q.length<=z)return q;let B=[],O={},U=Z-$.length;if(typeof X==="number")if(X>Z-Math.max(2,G))B.push(0);else U=Z-X;let Y=void 0,W=void 0,L=!1,I=-1,V=-1,T=-1;if(H==="block"){if(I=F2(q,I,$.length),I!==-1)U=I+z}for(let F;F=q[I+=1];){if(H==="quoted"&&F==="\\"){switch(V=I,q[I+1]){case"x":I+=3;break;case"u":I+=5;break;case"U":I+=9;break;default:I+=1}T=I}if(F===`
`){if(H==="block")I=F2(q,I,$.length);U=I+$.length+z,Y=void 0}else{if(F===" "&&W&&W!==" "&&W!==`
`&&W!=="\t"){let A=q[I+1];if(A&&A!==" "&&A!==`
`&&A!=="\t")Y=I}if(I>=U)if(Y)B.push(Y),U=Y+z,Y=void 0;else if(H==="quoted"){while(W===" "||W==="\t")W=F,F=q[I+=1],L=!0;let A=I>T+1?I-2:V-1;if(O[A])return q;B.push(A),O[A]=!0,U=A+z,Y=void 0}else L=!0}W=F}if(L&&J)J();if(B.length===0)return q;if(Q)Q();let D=q.slice(0,B[0]);for(let F=0;F<B.length;++F){let A=B[F],M=B[F+1]||q.length;if(A===0)D=`
${$}${q.slice(0,M)}`;else{if(H==="quoted"&&O[A])D+=`${q[A]}\\`;D+=`
${$}${q.slice(A+1,M)}`}}return D}function F2(q,$,H){let X=$,Z=$+1,G=q[Z];while(G===" "||G==="\t")if($<Z+H)G=q[++$];else{do G=q[++$];while(G&&G!==`
`);X=$,Z=$+1,G=q[Z]}return X}uH.FOLD_BLOCK="block";uH.FOLD_FLOW="flow";uH.FOLD_QUOTED="quoted";uH.foldFlowLines=kH});var j0=_((cH)=>{var k=N(),a=A2(),zq=(q,$)=>({indentAtStart:$?q.indent.length:q.indentAtStart,lineWidth:q.options.lineWidth,minContentWidth:q.options.minContentWidth}),Bq=(q)=>/^(%|---|\.\.\.)/m.test(q);function dH(q,$,H){if(!$||$<0)return!1;let X=$-H,Z=q.length;if(Z<=X)return!1;for(let G=0,Q=0;G<Z;++G)if(q[G]===`
`){if(G-Q>X)return!0;if(Q=G+1,Z-Q<=X)return!1}return!0}function S0(q,$){let H=JSON.stringify(q);if($.options.doubleQuotedAsJSON)return H;let{implicitKey:X}=$,Z=$.options.doubleQuotedMinMultiLineLength,G=$.indent||(Bq(q)?"  ":""),Q="",J=0;for(let z=0,B=H[z];B;B=H[++z]){if(B===" "&&H[z+1]==="\\"&&H[z+2]==="n")Q+=H.slice(J,z)+"\\ ",z+=1,J=z,B="\\";if(B==="\\")switch(H[z+1]){case"u":{Q+=H.slice(J,z);let O=H.substr(z+2,4);switch(O){case"0000":Q+="\\0";break;case"0007":Q+="\\a";break;case"000b":Q+="\\v";break;case"001b":Q+="\\e";break;case"0085":Q+="\\N";break;case"00a0":Q+="\\_";break;case"2028":Q+="\\L";break;case"2029":Q+="\\P";break;default:if(O.substr(0,2)==="00")Q+="\\x"+O.substr(2);else Q+=H.substr(z,6)}z+=5,J=z+1}break;case"n":if(X||H[z+2]==='"'||H.length<Z)z+=1;else{Q+=H.slice(J,z)+`

`;while(H[z+2]==="\\"&&H[z+3]==="n"&&H[z+4]!=='"')Q+=`
`,z+=2;if(Q+=G,H[z+2]===" ")Q+="\\";z+=1,J=z+1}break;default:z+=1}}return Q=J?Q+H.slice(J):H,X?Q:a.foldFlowLines(Q,G,a.FOLD_QUOTED,zq($,!1))}function rq(q,$){if($.options.singleQuote===!1||$.implicitKey&&q.includes(`
`)||/[ \t]\n|\n[ \t]/.test(q))return S0(q,$);let H=$.indent||(Bq(q)?"  ":""),X="'"+q.replace(/'/g,"''").replace(/\n+/g,`$&
${H}`)+"'";return $.implicitKey?X:a.foldFlowLines(X,H,a.FOLD_FLOW,zq($,!1))}function _0(q,$){let{singleQuote:H}=$.options,X;if(H===!1)X=S0;else{let Z=q.includes('"'),G=q.includes("'");if(Z&&!G)X=rq;else if(G&&!Z)X=S0;else X=H?rq:S0}return X(q,$)}var nq;try{nq=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{nq=/\n+(?!\n|$)/g}function Jq({comment:q,type:$,value:H},X,Z,G){let{blockQuote:Q,commentString:J,lineWidth:z}=X.options;if(!Q||/\n[\t ]+$/.test(H))return _0(H,X);let B=X.indent||(X.forceBlockIndent||Bq(H)?"  ":""),O=Q==="literal"?!0:Q==="folded"||$===k.Scalar.BLOCK_FOLDED?!1:$===k.Scalar.BLOCK_LITERAL?!0:!dH(H,z,B.length);if(!H)return O?`|
`:`>
`;let U,Y;for(Y=H.length;Y>0;--Y){let M=H[Y-1];if(M!==`
`&&M!=="\t"&&M!==" ")break}let W=H.substring(Y),L=W.indexOf(`
`);if(L===-1)U="-";else if(H===W||L!==W.length-1){if(U="+",G)G()}else U="";if(W){if(H=H.slice(0,-W.length),W[W.length-1]===`
`)W=W.slice(0,-1);W=W.replace(nq,`$&${B}`)}let I=!1,V,T=-1;for(V=0;V<H.length;++V){let M=H[V];if(M===" ")I=!0;else if(M===`
`)T=V;else break}let D=H.substring(0,T<V?T+1:V);if(D)H=H.substring(D.length),D=D.replace(/\n+/g,`$&${B}`);let A=(I?B?"2":"1":"")+U;if(q){if(A+=" "+J(q.replace(/ ?[\r\n]+/g," ")),Z)Z()}if(!O){let M=H.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${B}`),P=!1,w=zq(X,!0);if(Q!=="folded"&&$!==k.Scalar.BLOCK_FOLDED)w.onOverflow=()=>{P=!0};let R=a.foldFlowLines(`${D}${M}${W}`,B,a.FOLD_BLOCK,w);if(!P)return`>${A}
${B}${R}`}return H=H.replace(/\n+/g,`$&${B}`),`|${A}
${B}${D}${H}${W}`}function lH(q,$,H,X){let{type:Z,value:G}=q,{actualString:Q,implicitKey:J,indent:z,indentStep:B,inFlow:O}=$;if(J&&G.includes(`
`)||O&&/[[\]{},]/.test(G))return _0(G,$);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(G))return J||O||!G.includes(`
`)?_0(G,$):Jq(q,$,H,X);if(!J&&!O&&Z!==k.Scalar.PLAIN&&G.includes(`
`))return Jq(q,$,H,X);if(Bq(G)){if(z==="")return $.forceBlockIndent=!0,Jq(q,$,H,X);else if(J&&z===B)return _0(G,$)}let U=G.replace(/\n+/g,`$&
${z}`);if(Q){let Y=(I)=>I.default&&I.tag!=="tag:yaml.org,2002:str"&&I.test?.test(U),{compat:W,tags:L}=$.doc.schema;if(L.some(Y)||W?.some(Y))return _0(G,$)}return J?U:a.foldFlowLines(U,z,a.FOLD_FLOW,zq($,!1))}function sH(q,$,H,X){let{implicitKey:Z,inFlow:G}=$,Q=typeof q.value==="string"?q:Object.assign({},q,{value:String(q.value)}),{type:J}=q;if(J!==k.Scalar.QUOTE_DOUBLE){if(/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(Q.value))J=k.Scalar.QUOTE_DOUBLE}let z=(O)=>{switch(O){case k.Scalar.BLOCK_FOLDED:case k.Scalar.BLOCK_LITERAL:return Z||G?_0(Q.value,$):Jq(Q,$,H,X);case k.Scalar.QUOTE_DOUBLE:return S0(Q.value,$);case k.Scalar.QUOTE_SINGLE:return rq(Q.value,$);case k.Scalar.PLAIN:return lH(Q,$,H,X);default:return null}},B=z(J);if(B===null){let{defaultKeyType:O,defaultStringType:U}=$.options,Y=Z&&O||U;if(B=z(Y),B===null)throw Error(`Unsupported default string type ${Y}`)}return B}cH.stringifyString=sH});var C0=_(($1)=>{var iH=Xq(),i=K(),rH=b0(),nH=j0();function oH(q,$){let H=Object.assign({blockQuote:!0,commentString:rH.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},q.schema.toStringOptions,$),X;switch(H.collectionStyle){case"block":X=!1;break;case"flow":X=!0;break;default:X=null}return{anchors:new Set,doc:q,flowCollectionPadding:H.flowCollectionPadding?" ":"",indent:"",indentStep:typeof H.indent==="number"?" ".repeat(H.indent):"  ",inFlow:X,options:H}}function tH(q,$){if($.tag){let Z=q.filter((G)=>G.tag===$.tag);if(Z.length>0)return Z.find((G)=>G.format===$.format)??Z[0]}let H=void 0,X;if(i.isScalar($)){X=$.value;let Z=q.filter((G)=>G.identify?.(X));if(Z.length>1){let G=Z.filter((Q)=>Q.test);if(G.length>0)Z=G}H=Z.find((G)=>G.format===$.format)??Z.find((G)=>!G.format)}else X=$,H=q.find((Z)=>Z.nodeClass&&X instanceof Z.nodeClass);if(!H){let Z=X?.constructor?.name??(X===null?"null":typeof X);throw Error(`Tag not resolved for ${Z} value`)}return H}function eH(q,$,{anchors:H,doc:X}){if(!X.directives)return"";let Z=[],G=(i.isScalar(q)||i.isCollection(q))&&q.anchor;if(G&&iH.anchorIsValid(G))H.add(G),Z.push(`&${G}`);let Q=q.tag??($.default?null:$.tag);if(Q)Z.push(X.directives.tagString(Q));return Z.join(" ")}function q1(q,$,H,X){if(i.isPair(q))return q.toString($,H,X);if(i.isAlias(q)){if($.doc.directives)return q.toString($);if($.resolvedAliases?.has(q))throw TypeError("Cannot stringify circular structure without alias nodes");else{if($.resolvedAliases)$.resolvedAliases.add(q);else $.resolvedAliases=new Set([q]);q=q.resolve($.doc)}}let Z=void 0,G=i.isNode(q)?q:$.doc.createNode(q,{onTagObj:(z)=>Z=z});Z??(Z=tH($.doc.schema.tags,G));let Q=eH(G,Z,$);if(Q.length>0)$.indentAtStart=($.indentAtStart??0)+Q.length+1;let J=typeof Z.stringify==="function"?Z.stringify(G,$,H,X):i.isScalar(G)?nH.stringifyString(G,$,H,X):G.toString($,H,X);if(!Q)return J;return i.isScalar(G)||J[0]==="{"||J[0]==="["?`${Q} ${J}`:`${Q}
${$.indent}${J}`}$1.createStringifyContext=oH;$1.stringify=q1});var K2=_((G1)=>{var p=K(),M2=N(),P2=C0(),E0=b0();function Z1({key:q,value:$},H,X,Z){let{allNullValues:G,doc:Q,indent:J,indentStep:z,options:{commentString:B,indentSeq:O,simpleKeys:U}}=H,Y=p.isNode(q)&&q.comment||null;if(U){if(Y)throw Error("With simple keys, key nodes cannot have comments");if(p.isCollection(q)||!p.isNode(q)&&typeof q==="object")throw Error("With simple keys, collection cannot be used as a key value")}let W=!U&&(!q||Y&&$==null&&!H.inFlow||p.isCollection(q)||(p.isScalar(q)?q.type===M2.Scalar.BLOCK_FOLDED||q.type===M2.Scalar.BLOCK_LITERAL:typeof q==="object"));H=Object.assign({},H,{allNullValues:!1,implicitKey:!W&&(U||!G),indent:J+z});let L=!1,I=!1,V=P2.stringify(q,H,()=>L=!0,()=>I=!0);if(!W&&!H.inFlow&&V.length>1024){if(U)throw Error("With simple keys, single line scalar must not span more than 1024 characters");W=!0}if(H.inFlow){if(G||$==null){if(L&&X)X();return V===""?"?":W?`? ${V}`:V}}else if(G&&!U||$==null&&W){if(V=`? ${V}`,Y&&!L)V+=E0.lineComment(V,H.indent,B(Y));else if(I&&Z)Z();return V}if(L)Y=null;if(W){if(Y)V+=E0.lineComment(V,H.indent,B(Y));V=`? ${V}
${J}:`}else if(V=`${V}:`,Y)V+=E0.lineComment(V,H.indent,B(Y));let T,D,F;if(p.isNode($))T=!!$.spaceBefore,D=$.commentBefore,F=$.comment;else if(T=!1,D=null,F=null,$&&typeof $==="object")$=Q.createNode($);if(H.implicitKey=!1,!W&&!Y&&p.isScalar($))H.indentAtStart=V.length+1;if(I=!1,!O&&z.length>=2&&!H.inFlow&&!W&&p.isSeq($)&&!$.flow&&!$.tag&&!$.anchor)H.indent=H.indent.substring(2);let A=!1,M=P2.stringify($,H,()=>A=!0,()=>I=!0),P=" ";if(Y||T||D){if(P=T?`
`:"",D){let w=B(D);P+=`
${E0.indentComment(w,H.indent)}`}if(M===""&&!H.inFlow){if(P===`
`)P=`

`}else P+=`
${H.indent}`}else if(!W&&p.isCollection($)){let w=M[0],R=M.indexOf(`
`),b=R!==-1,s=H.inFlow??$.flow??$.items.length===0;if(b||!s){let I0=!1;if(b&&(w==="&"||w==="!")){let S=M.indexOf(" ");if(w==="&"&&S!==-1&&S<R&&M[S+1]==="!")S=M.indexOf(" ",S+1);if(S===-1||R<S)I0=!0}if(!I0)P=`
${H.indent}`}}else if(M===""||M[0]===`
`)P="";if(V+=P+M,H.inFlow){if(A&&X)X()}else if(F&&!A)V+=E0.lineComment(V,H.indent,B(F));else if(I&&Z)Z();return V}G1.stringifyPair=Z1});var oq=_((B1)=>{var w2=d("process");function J1(q,...$){if(q==="debug")console.log(...$)}function z1(q,$){if(q==="debug"||q==="warn")if(typeof w2.emitWarning==="function")w2.emitWarning($);else console.warn($)}B1.debug=J1;B1.warn=z1});var Iq=_((O1)=>{var y0=K(),N2=N(),Uq="<<",Yq={identify:(q)=>q===Uq||typeof q==="symbol"&&q.description===Uq,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new N2.Scalar(Symbol(Uq)),{addToJSMap:b2}),stringify:()=>Uq},I1=(q,$)=>(Yq.identify($)||y0.isScalar($)&&(!$.type||$.type===N2.Scalar.PLAIN)&&Yq.identify($.value))&&q?.doc.schema.tags.some((H)=>H.tag===Yq.tag&&H.default);function b2(q,$,H){if(H=q&&y0.isAlias(H)?H.resolve(q.doc):H,y0.isSeq(H))for(let X of H.items)tq(q,$,X);else if(Array.isArray(H))for(let X of H)tq(q,$,X);else tq(q,$,H)}function tq(q,$,H){let X=q&&y0.isAlias(H)?H.resolve(q.doc):H;if(!y0.isMap(X))throw Error("Merge sources must be maps or map aliases");let Z=X.toJSON(null,q,Map);for(let[G,Q]of Z)if($ instanceof Map){if(!$.has(G))$.set(G,Q)}else if($ instanceof Set)$.add(G);else if(!Object.prototype.hasOwnProperty.call($,G))Object.defineProperty($,G,{value:Q,writable:!0,enumerable:!0,configurable:!0});return $}O1.addMergeToJSMap=b2;O1.isMergeKey=I1;O1.merge=Yq});var q$=_((F1)=>{var L1=oq(),S2=Iq(),T1=C0(),j2=K(),eq=c();function R1(q,$,{key:H,value:X}){if(j2.isNode(H)&&H.addToJSMap)H.addToJSMap(q,$,X);else if(S2.isMergeKey(q,H))S2.addMergeToJSMap(q,$,X);else{let Z=eq.toJS(H,"",q);if($ instanceof Map)$.set(Z,eq.toJS(X,Z,q));else if($ instanceof Set)$.add(Z);else{let G=D1(H,Z,q),Q=eq.toJS(X,G,q);if(G in $)Object.defineProperty($,G,{value:Q,writable:!0,enumerable:!0,configurable:!0});else $[G]=Q}}return $}function D1(q,$,H){if($===null)return"";if(typeof $!=="object")return String($);if(j2.isNode(q)&&H?.doc){let X=T1.createStringifyContext(H.doc,{});X.anchors=new Set;for(let G of H.anchors.keys())X.anchors.add(G.anchor);X.inFlow=!0,X.inStringifyKey=!0;let Z=q.toString(X);if(!H.mapKeyWarned){let G=JSON.stringify(Z);if(G.length>40)G=G.substring(0,36)+'..."';L1.warn(H.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${G}. Set mapAsMap: true to use object keys.`),H.mapKeyWarned=!0}return Z}return JSON.stringify($)}F1.addPairToJSMap=R1});var r=_((w1)=>{var C2=N0(),M1=K2(),P1=q$(),Oq=K();function K1(q,$,H){let X=C2.createNode(q,void 0,H),Z=C2.createNode($,void 0,H);return new Vq(X,Z)}class Vq{constructor(q,$=null){Object.defineProperty(this,Oq.NODE_TYPE,{value:Oq.PAIR}),this.key=q,this.value=$}clone(q){let{key:$,value:H}=this;if(Oq.isNode($))$=$.clone(q);if(Oq.isNode(H))H=H.clone(q);return new Vq($,H)}toJSON(q,$){let H=$?.mapAsMap?new Map:{};return P1.addPairToJSMap($,H,this)}toString(q,$,H){return q?.doc?M1.stringifyPair(this,q,$,H):JSON.stringify(this)}}w1.Pair=Vq;w1.createPair=K1});var $$=_((E1)=>{var G0=K(),E2=C0(),Wq=b0();function S1(q,$,H){return($.inFlow??q.flow?C1:j1)(q,$,H)}function j1({comment:q,items:$},H,{blockItemPrefix:X,flowChars:Z,itemIndent:G,onChompKeep:Q,onComment:J}){let{indent:z,options:{commentString:B}}=H,O=Object.assign({},H,{indent:G,type:null}),U=!1,Y=[];for(let L=0;L<$.length;++L){let I=$[L],V=null;if(G0.isNode(I)){if(!U&&I.spaceBefore)Y.push("");if(_q(H,Y,I.commentBefore,U),I.comment)V=I.comment}else if(G0.isPair(I)){let D=G0.isNode(I.key)?I.key:null;if(D){if(!U&&D.spaceBefore)Y.push("");_q(H,Y,D.commentBefore,U)}}U=!1;let T=E2.stringify(I,O,()=>V=null,()=>U=!0);if(V)T+=Wq.lineComment(T,G,B(V));if(U&&V)U=!1;Y.push(X+T)}let W;if(Y.length===0)W=Z.start+Z.end;else{W=Y[0];for(let L=1;L<Y.length;++L){let I=Y[L];W+=I?`
${z}${I}`:`
`}}if(q){if(W+=`
`+Wq.indentComment(B(q),z),J)J()}else if(U&&Q)Q();return W}function C1({items:q},$,{flowChars:H,itemIndent:X}){let{indent:Z,indentStep:G,flowCollectionPadding:Q,options:{commentString:J}}=$;X+=G;let z=Object.assign({},$,{indent:X,inFlow:!0,type:null}),B=!1,O=0,U=[];for(let L=0;L<q.length;++L){let I=q[L],V=null;if(G0.isNode(I)){if(I.spaceBefore)U.push("");if(_q($,U,I.commentBefore,!1),I.comment)V=I.comment}else if(G0.isPair(I)){let D=G0.isNode(I.key)?I.key:null;if(D){if(D.spaceBefore)U.push("");if(_q($,U,D.commentBefore,!1),D.comment)B=!0}let F=G0.isNode(I.value)?I.value:null;if(F){if(F.comment)V=F.comment;if(F.commentBefore)B=!0}else if(I.value==null&&D?.comment)V=D.comment}if(V)B=!0;let T=E2.stringify(I,z,()=>V=null);if(L<q.length-1)T+=",";if(V)T+=Wq.lineComment(T,X,J(V));if(!B&&(U.length>O||T.includes(`
`)))B=!0;U.push(T),O=U.length}let{start:Y,end:W}=H;if(U.length===0)return Y+W;else{if(!B){let L=U.reduce((I,V)=>I+V.length+2,2);B=$.options.lineWidth>0&&L>$.options.lineWidth}if(B){let L=Y;for(let I of U)L+=I?`
${G}${Z}${I}`:`
`;return`${L}
${Z}${W}`}else return`${Y}${Q}${U.join(" ")}${Q}${W}`}}function _q({indent:q,options:{commentString:$}},H,X,Z){if(X&&Z)X=X.replace(/^\n+/,"");if(X){let G=Wq.indentComment($(X),q);H.push(G.trimStart())}}E1.stringifyCollection=S1});var o=_((u1)=>{var f1=$$(),g1=q$(),x1=Qq(),n=K(),Lq=r(),k1=N();function f0(q,$){let H=n.isScalar($)?$.value:$;for(let X of q)if(n.isPair(X)){if(X.key===$||X.key===H)return X;if(n.isScalar(X.key)&&X.key.value===H)return X}return}class y2 extends x1.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(q){super(n.MAP,q);this.items=[]}static from(q,$,H){let{keepUndefined:X,replacer:Z}=H,G=new this(q),Q=(J,z)=>{if(typeof Z==="function")z=Z.call($,J,z);else if(Array.isArray(Z)&&!Z.includes(J))return;if(z!==void 0||X)G.items.push(Lq.createPair(J,z,H))};if($ instanceof Map)for(let[J,z]of $)Q(J,z);else if($&&typeof $==="object")for(let J of Object.keys($))Q(J,$[J]);if(typeof q.sortMapEntries==="function")G.items.sort(q.sortMapEntries);return G}add(q,$){let H;if(n.isPair(q))H=q;else if(!q||typeof q!=="object"||!("key"in q))H=new Lq.Pair(q,q?.value);else H=new Lq.Pair(q.key,q.value);let X=f0(this.items,H.key),Z=this.schema?.sortMapEntries;if(X){if(!$)throw Error(`Key ${H.key} already set`);if(n.isScalar(X.value)&&k1.isScalarValue(H.value))X.value.value=H.value;else X.value=H.value}else if(Z){let G=this.items.findIndex((Q)=>Z(H,Q)<0);if(G===-1)this.items.push(H);else this.items.splice(G,0,H)}else this.items.push(H)}delete(q){let $=f0(this.items,q);if(!$)return!1;return this.items.splice(this.items.indexOf($),1).length>0}get(q,$){let X=f0(this.items,q)?.value;return(!$&&n.isScalar(X)?X.value:X)??void 0}has(q){return!!f0(this.items,q)}set(q,$){this.add(new Lq.Pair(q,$),!0)}toJSON(q,$,H){let X=H?new H:$?.mapAsMap?new Map:{};if($?.onCreate)$.onCreate(X);for(let Z of this.items)g1.addPairToJSMap($,X,Z);return X}toString(q,$,H){if(!q)return JSON.stringify(this);for(let X of this.items)if(!n.isPair(X))throw Error(`Map items must all be pairs; found ${JSON.stringify(X)} instead`);if(!q.allNullValues&&this.hasAllNullValues(!1))q=Object.assign({},q,{allNullValues:!0});return f1.stringifyCollection(this,q,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:q.indent||"",onChompKeep:H,onComment:$})}}u1.YAMLMap=y2;u1.findPair=f0});var L0=_((d1)=>{var m1=K(),f2=o(),p1={collection:"map",default:!0,nodeClass:f2.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(q,$){if(!m1.isMap(q))$("Expected a mapping for this tag");return q},createNode:(q,$,H)=>f2.YAMLMap.from(q,$,H)};d1.map=p1});var t=_((n1)=>{var s1=N0(),c1=$$(),a1=Qq(),Rq=K(),i1=N(),r1=c();class g2 extends a1.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(q){super(Rq.SEQ,q);this.items=[]}add(q){this.items.push(q)}delete(q){let $=Tq(q);if(typeof $!=="number")return!1;return this.items.splice($,1).length>0}get(q,$){let H=Tq(q);if(typeof H!=="number")return;let X=this.items[H];return!$&&Rq.isScalar(X)?X.value:X}has(q){let $=Tq(q);return typeof $==="number"&&$<this.items.length}set(q,$){let H=Tq(q);if(typeof H!=="number")throw Error(`Expected a valid index, not ${q}.`);let X=this.items[H];if(Rq.isScalar(X)&&i1.isScalarValue($))X.value=$;else this.items[H]=$}toJSON(q,$){let H=[];if($?.onCreate)$.onCreate(H);let X=0;for(let Z of this.items)H.push(r1.toJS(Z,String(X++),$));return H}toString(q,$,H){if(!q)return JSON.stringify(this);return c1.stringifyCollection(this,q,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(q.indent||"")+"  ",onChompKeep:H,onComment:$})}static from(q,$,H){let{replacer:X}=H,Z=new this(q);if($&&Symbol.iterator in Object($)){let G=0;for(let Q of $){if(typeof X==="function"){let J=$ instanceof Set?Q:String(G++);Q=X.call($,J,Q)}Z.items.push(s1.createNode(Q,void 0,H))}}return Z}}function Tq(q){let $=Rq.isScalar(q)?q.value:q;if($&&typeof $==="string")$=Number($);return typeof $==="number"&&Number.isInteger($)&&$>=0?$:null}n1.YAMLSeq=g2});var T0=_((qX)=>{var t1=K(),x2=t(),e1={collection:"seq",default:!0,nodeClass:x2.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(q,$){if(!t1.isSeq(q))$("Expected a sequence for this tag");return q},createNode:(q,$,H)=>x2.YAMLSeq.from(q,$,H)};qX.seq=e1});var g0=_((ZX)=>{var HX=j0(),XX={identify:(q)=>typeof q==="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:(q)=>q,stringify(q,$,H,X){return $=Object.assign({actualString:!0},$),HX.stringifyString(q,$,H,X)}};ZX.string=XX});var Dq=_((QX)=>{var k2=N(),u2={identify:(q)=>q==null,createNode:()=>new k2.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new k2.Scalar(null),stringify:({source:q},$)=>typeof q==="string"&&u2.test.test(q)?q:$.options.nullStr};QX.nullTag=u2});var H$=_((BX)=>{var zX=N(),h2={identify:(q)=>typeof q==="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:(q)=>new zX.Scalar(q[0]==="t"||q[0]==="T"),stringify({source:q,value:$},H){if(q&&h2.test.test(q)){let X=q[0]==="t"||q[0]==="T";if($===X)return q}return $?H.options.trueStr:H.options.falseStr}};BX.boolTag=h2});var R0=_((IX)=>{function YX({format:q,minFractionDigits:$,tag:H,value:X}){if(typeof X==="bigint")return String(X);let Z=typeof X==="number"?X:Number(X);if(!isFinite(Z))return isNaN(Z)?".nan":Z<0?"-.inf":".inf";let G=JSON.stringify(X);if(!q&&$&&(!H||H==="tag:yaml.org,2002:float")&&/^\d/.test(G)){let Q=G.indexOf(".");if(Q<0)Q=G.length,G+=".";let J=$-(G.length-Q-1);while(J-- >0)G+="0"}return G}IX.stringifyNumber=YX});var Z$=_((TX)=>{var VX=N(),X$=R0(),WX={identify:(q)=>typeof q==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:(q)=>q.slice(-3).toLowerCase()==="nan"?NaN:q[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:X$.stringifyNumber},_X={identify:(q)=>typeof q==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:(q)=>parseFloat(q),stringify(q){let $=Number(q.value);return isFinite($)?$.toExponential():X$.stringifyNumber(q)}},LX={identify:(q)=>typeof q==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(q){let $=new VX.Scalar(parseFloat(q)),H=q.indexOf(".");if(H!==-1&&q[q.length-1]==="0")$.minFractionDigits=q.length-H-1;return $},stringify:X$.stringifyNumber};TX.float=LX;TX.floatExp=_X;TX.floatNaN=WX});var Q$=_((KX)=>{var v2=R0(),Fq=(q)=>typeof q==="bigint"||Number.isInteger(q),G$=(q,$,H,{intAsBigInt:X})=>X?BigInt(q):parseInt(q.substring($),H);function m2(q,$,H){let{value:X}=q;if(Fq(X)&&X>=0)return H+X.toString($);return v2.stringifyNumber(q)}var AX={identify:(q)=>Fq(q)&&q>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(q,$,H)=>G$(q,2,8,H),stringify:(q)=>m2(q,8,"0o")},MX={identify:Fq,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(q,$,H)=>G$(q,0,10,H),stringify:v2.stringifyNumber},PX={identify:(q)=>Fq(q)&&q>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(q,$,H)=>G$(q,2,16,H),stringify:(q)=>m2(q,16,"0x")};KX.int=MX;KX.intHex=PX;KX.intOct=AX});var p2=_((gX)=>{var SX=L0(),jX=Dq(),CX=T0(),EX=g0(),yX=H$(),J$=Z$(),z$=Q$(),fX=[SX.map,CX.seq,EX.string,jX.nullTag,yX.boolTag,z$.intOct,z$.int,z$.intHex,J$.floatNaN,J$.floatExp,J$.float];gX.schema=fX});var l2=_((dX)=>{var kX=N(),uX=L0(),hX=T0();function d2(q){return typeof q==="bigint"||Number.isInteger(q)}var Aq=({value:q})=>JSON.stringify(q),vX=[{identify:(q)=>typeof q==="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:(q)=>q,stringify:Aq},{identify:(q)=>q==null,createNode:()=>new kX.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Aq},{identify:(q)=>typeof q==="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:(q)=>q==="true",stringify:Aq},{identify:d2,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(q,$,{intAsBigInt:H})=>H?BigInt(q):parseInt(q,10),stringify:({value:q})=>d2(q)?q.toString():JSON.stringify(q)},{identify:(q)=>typeof q==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:(q)=>parseFloat(q),stringify:Aq}],mX={default:!0,tag:"",test:/^/,resolve(q,$){return $(`Unresolved plain scalar ${JSON.stringify(q)}`),q}},pX=[uX.map,hX.seq].concat(vX,mX);dX.schema=pX});var U$=_((aX)=>{var x0=d("buffer"),B$=N(),sX=j0(),cX={identify:(q)=>q instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(q,$){if(typeof x0.Buffer==="function")return x0.Buffer.from(q,"base64");else if(typeof atob==="function"){let H=atob(q.replace(/[\n\r]/g,"")),X=new Uint8Array(H.length);for(let Z=0;Z<H.length;++Z)X[Z]=H.charCodeAt(Z);return X}else return $("This environment does not support reading binary tags; either Buffer or atob is required"),q},stringify({comment:q,type:$,value:H},X,Z,G){if(!H)return"";let Q=H,J;if(typeof x0.Buffer==="function")J=Q instanceof x0.Buffer?Q.toString("base64"):x0.Buffer.from(Q.buffer).toString("base64");else if(typeof btoa==="function"){let z="";for(let B=0;B<Q.length;++B)z+=String.fromCharCode(Q[B]);J=btoa(z)}else throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");if($??($=B$.Scalar.BLOCK_LITERAL),$!==B$.Scalar.QUOTE_DOUBLE){let z=Math.max(X.options.lineWidth-X.indent.length,X.options.minContentWidth),B=Math.ceil(J.length/z),O=Array(B);for(let U=0,Y=0;U<B;++U,Y+=z)O[U]=J.substr(Y,z);J=O.join($===B$.Scalar.BLOCK_LITERAL?`
`:" ")}return sX.stringifyString({comment:q,type:$,value:J},X,Z,G)}};aX.binary=cX});var Pq=_((tX)=>{var Mq=K(),Y$=r(),rX=N(),nX=t();function s2(q,$){if(Mq.isSeq(q))for(let H=0;H<q.items.length;++H){let X=q.items[H];if(Mq.isPair(X))continue;else if(Mq.isMap(X)){if(X.items.length>1)$("Each pair must have its own sequence indicator");let Z=X.items[0]||new Y$.Pair(new rX.Scalar(null));if(X.commentBefore)Z.key.commentBefore=Z.key.commentBefore?`${X.commentBefore}
${Z.key.commentBefore}`:X.commentBefore;if(X.comment){let G=Z.value??Z.key;G.comment=G.comment?`${X.comment}
${G.comment}`:X.comment}X=Z}q.items[H]=Mq.isPair(X)?X:new Y$.Pair(X)}else $("Expected a sequence for this tag");return q}function c2(q,$,H){let{replacer:X}=H,Z=new nX.YAMLSeq(q);Z.tag="tag:yaml.org,2002:pairs";let G=0;if($&&Symbol.iterator in Object($))for(let Q of $){if(typeof X==="function")Q=X.call($,String(G++),Q);let J,z;if(Array.isArray(Q))if(Q.length===2)J=Q[0],z=Q[1];else throw TypeError(`Expected [key, value] tuple: ${Q}`);else if(Q&&Q instanceof Object){let B=Object.keys(Q);if(B.length===1)J=B[0],z=Q[J];else throw TypeError(`Expected tuple with one key, not ${B.length} keys`)}else J=Q;Z.items.push(Y$.createPair(J,z,H))}return Z}var oX={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:s2,createNode:c2};tX.createPairs=c2;tX.pairs=oX;tX.resolvePairs=s2});var O$=_((ZZ)=>{var a2=K(),I$=c(),k0=o(),HZ=t(),i2=Pq();class Q0 extends HZ.YAMLSeq{constructor(){super();this.add=k0.YAMLMap.prototype.add.bind(this),this.delete=k0.YAMLMap.prototype.delete.bind(this),this.get=k0.YAMLMap.prototype.get.bind(this),this.has=k0.YAMLMap.prototype.has.bind(this),this.set=k0.YAMLMap.prototype.set.bind(this),this.tag=Q0.tag}toJSON(q,$){if(!$)return super.toJSON(q);let H=new Map;if($?.onCreate)$.onCreate(H);for(let X of this.items){let Z,G;if(a2.isPair(X))Z=I$.toJS(X.key,"",$),G=I$.toJS(X.value,Z,$);else Z=I$.toJS(X,"",$);if(H.has(Z))throw Error("Ordered maps must not include duplicate keys");H.set(Z,G)}return H}static from(q,$,H){let X=i2.createPairs(q,$,H),Z=new this;return Z.items=X.items,Z}}Q0.tag="tag:yaml.org,2002:omap";var XZ={collection:"seq",identify:(q)=>q instanceof Map,nodeClass:Q0,default:!1,tag:"tag:yaml.org,2002:omap",resolve(q,$){let H=i2.resolvePairs(q,$),X=[];for(let{key:Z}of H.items)if(a2.isScalar(Z))if(X.includes(Z.value))$(`Ordered maps must not include duplicate keys: ${Z.value}`);else X.push(Z.value);return Object.assign(new Q0,H)},createNode:(q,$,H)=>Q0.from(q,$,H)};ZZ.YAMLOMap=Q0;ZZ.omap=XZ});var e2=_((JZ)=>{var r2=N();function n2({value:q,source:$},H){if($&&(q?o2:t2).test.test($))return $;return q?H.options.trueStr:H.options.falseStr}var o2={identify:(q)=>q===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new r2.Scalar(!0),stringify:n2},t2={identify:(q)=>q===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new r2.Scalar(!1),stringify:n2};JZ.falseTag=t2;JZ.trueTag=o2});var q9=_((VZ)=>{var UZ=N(),V$=R0(),YZ={identify:(q)=>typeof q==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:(q)=>q.slice(-3).toLowerCase()==="nan"?NaN:q[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:V$.stringifyNumber},IZ={identify:(q)=>typeof q==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:(q)=>parseFloat(q.replace(/_/g,"")),stringify(q){let $=Number(q.value);return isFinite($)?$.toExponential():V$.stringifyNumber(q)}},OZ={identify:(q)=>typeof q==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(q){let $=new UZ.Scalar(parseFloat(q.replace(/_/g,""))),H=q.indexOf(".");if(H!==-1){let X=q.substring(H+1).replace(/_/g,"");if(X[X.length-1]==="0")$.minFractionDigits=X.length}return $},stringify:V$.stringifyNumber};VZ.float=OZ;VZ.floatExp=IZ;VZ.floatNaN=YZ});var H9=_((AZ)=>{var $9=R0(),u0=(q)=>typeof q==="bigint"||Number.isInteger(q);function Kq(q,$,H,{intAsBigInt:X}){let Z=q[0];if(Z==="-"||Z==="+")$+=1;if(q=q.substring($).replace(/_/g,""),X){switch(H){case 2:q=`0b${q}`;break;case 8:q=`0o${q}`;break;case 16:q=`0x${q}`;break}let Q=BigInt(q);return Z==="-"?BigInt(-1)*Q:Q}let G=parseInt(q,H);return Z==="-"?-1*G:G}function W$(q,$,H){let{value:X}=q;if(u0(X)){let Z=X.toString($);return X<0?"-"+H+Z.substr(1):H+Z}return $9.stringifyNumber(q)}var TZ={identify:u0,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(q,$,H)=>Kq(q,2,2,H),stringify:(q)=>W$(q,2,"0b")},RZ={identify:u0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(q,$,H)=>Kq(q,1,8,H),stringify:(q)=>W$(q,8,"0")},DZ={identify:u0,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(q,$,H)=>Kq(q,0,10,H),stringify:$9.stringifyNumber},FZ={identify:u0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(q,$,H)=>Kq(q,2,16,H),stringify:(q)=>W$(q,16,"0x")};AZ.int=DZ;AZ.intBin=TZ;AZ.intHex=FZ;AZ.intOct=RZ});var _$=_((bZ)=>{var bq=K(),wq=r(),Nq=o();class J0 extends Nq.YAMLMap{constructor(q){super(q);this.tag=J0.tag}add(q){let $;if(bq.isPair(q))$=q;else if(q&&typeof q==="object"&&"key"in q&&"value"in q&&q.value===null)$=new wq.Pair(q.key,null);else $=new wq.Pair(q,null);if(!Nq.findPair(this.items,$.key))this.items.push($)}get(q,$){let H=Nq.findPair(this.items,q);return!$&&bq.isPair(H)?bq.isScalar(H.key)?H.key.value:H.key:H}set(q,$){if(typeof $!=="boolean")throw Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof $}`);let H=Nq.findPair(this.items,q);if(H&&!$)this.items.splice(this.items.indexOf(H),1);else if(!H&&$)this.items.push(new wq.Pair(q))}toJSON(q,$){return super.toJSON(q,$,Set)}toString(q,$,H){if(!q)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},q,{allNullValues:!0}),$,H);else throw Error("Set items must all have null values")}static from(q,$,H){let{replacer:X}=H,Z=new this(q);if($&&Symbol.iterator in Object($))for(let G of $){if(typeof X==="function")G=X.call($,G,G);Z.items.push(wq.createPair(G,null,H))}return Z}}J0.tag="tag:yaml.org,2002:set";var NZ={collection:"map",identify:(q)=>q instanceof Set,nodeClass:J0,default:!1,tag:"tag:yaml.org,2002:set",createNode:(q,$,H)=>J0.from(q,$,H),resolve(q,$){if(bq.isMap(q))if(q.hasAllNullValues(!0))return Object.assign(new J0,q);else $("Set items must all have null values");else $("Expected a mapping for this tag");return q}};bZ.YAMLSet=J0;bZ.set=NZ});var T$=_((fZ)=>{var CZ=R0();function L$(q,$){let H=q[0],X=H==="-"||H==="+"?q.substring(1):q,Z=(Q)=>$?BigInt(Q):Number(Q),G=X.replace(/_/g,"").split(":").reduce((Q,J)=>Q*Z(60)+Z(J),Z(0));return H==="-"?Z(-1)*G:G}function X9(q){let{value:$}=q,H=(Q)=>Q;if(typeof $==="bigint")H=(Q)=>BigInt(Q);else if(isNaN($)||!isFinite($))return CZ.stringifyNumber(q);let X="";if($<0)X="-",$*=H(-1);let Z=H(60),G=[$%Z];if($<60)G.unshift(0);else if($=($-G[0])/Z,G.unshift($%Z),$>=60)$=($-G[0])/Z,G.unshift($);return X+G.map((Q)=>String(Q).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var EZ={identify:(q)=>typeof q==="bigint"||Number.isInteger(q),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(q,$,{intAsBigInt:H})=>L$(q,H),stringify:X9},yZ={identify:(q)=>typeof q==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:(q)=>L$(q,!1),stringify:X9},Z9={identify:(q)=>q instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(q){let $=q.match(Z9.test);if(!$)throw Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,H,X,Z,G,Q,J]=$.map(Number),z=$[7]?Number(($[7]+"00").substr(1,3)):0,B=Date.UTC(H,X-1,Z,G||0,Q||0,J||0,z),O=$[8];if(O&&O!=="Z"){let U=L$(O,!1);if(Math.abs(U)<30)U*=60;B-=60000*U}return new Date(B)},stringify:({value:q})=>q?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};fZ.floatTime=yZ;fZ.intTime=EZ;fZ.timestamp=Z9});var Q9=_((iZ)=>{var uZ=L0(),hZ=Dq(),vZ=T0(),mZ=g0(),pZ=U$(),G9=e2(),R$=q9(),Sq=H9(),dZ=Iq(),lZ=O$(),sZ=Pq(),cZ=_$(),D$=T$(),aZ=[uZ.map,vZ.seq,mZ.string,hZ.nullTag,G9.trueTag,G9.falseTag,Sq.intBin,Sq.intOct,Sq.int,Sq.intHex,R$.floatNaN,R$.floatExp,R$.float,pZ.binary,dZ.merge,lZ.omap,sZ.pairs,cZ.set,D$.intTime,D$.floatTime,D$.timestamp];iZ.schema=aZ});var _9=_((X5)=>{var U9=L0(),nZ=Dq(),Y9=T0(),oZ=g0(),tZ=H$(),F$=Z$(),A$=Q$(),eZ=p2(),q5=l2(),I9=U$(),h0=Iq(),O9=O$(),V9=Pq(),J9=Q9(),W9=_$(),jq=T$(),z9=new Map([["core",eZ.schema],["failsafe",[U9.map,Y9.seq,oZ.string]],["json",q5.schema],["yaml11",J9.schema],["yaml-1.1",J9.schema]]),B9={binary:I9.binary,bool:tZ.boolTag,float:F$.float,floatExp:F$.floatExp,floatNaN:F$.floatNaN,floatTime:jq.floatTime,int:A$.int,intHex:A$.intHex,intOct:A$.intOct,intTime:jq.intTime,map:U9.map,merge:h0.merge,null:nZ.nullTag,omap:O9.omap,pairs:V9.pairs,seq:Y9.seq,set:W9.set,timestamp:jq.timestamp},$5={"tag:yaml.org,2002:binary":I9.binary,"tag:yaml.org,2002:merge":h0.merge,"tag:yaml.org,2002:omap":O9.omap,"tag:yaml.org,2002:pairs":V9.pairs,"tag:yaml.org,2002:set":W9.set,"tag:yaml.org,2002:timestamp":jq.timestamp};function H5(q,$,H){let X=z9.get($);if(X&&!q)return H&&!X.includes(h0.merge)?X.concat(h0.merge):X.slice();let Z=X;if(!Z)if(Array.isArray(q))Z=[];else{let G=Array.from(z9.keys()).filter((Q)=>Q!=="yaml11").map((Q)=>JSON.stringify(Q)).join(", ");throw Error(`Unknown schema "${$}"; use one of ${G} or define customTags array`)}if(Array.isArray(q))for(let G of q)Z=Z.concat(G);else if(typeof q==="function")Z=q(Z.slice());if(H)Z=Z.concat(h0.merge);return Z.reduce((G,Q)=>{let J=typeof Q==="string"?B9[Q]:Q;if(!J){let z=JSON.stringify(Q),B=Object.keys(B9).map((O)=>JSON.stringify(O)).join(", ");throw Error(`Unknown custom tag ${z}; use one of ${B}`)}if(!G.includes(J))G.push(J);return G},[])}X5.coreKnownTags=$5;X5.getTags=H5});var K$=_((U5)=>{var M$=K(),Q5=L0(),J5=T0(),z5=g0(),Cq=_9(),B5=(q,$)=>q.key<$.key?-1:q.key>$.key?1:0;class P${constructor({compat:q,customTags:$,merge:H,resolveKnownTags:X,schema:Z,sortMapEntries:G,toStringDefaults:Q}){this.compat=Array.isArray(q)?Cq.getTags(q,"compat"):q?Cq.getTags(null,q):null,this.name=typeof Z==="string"&&Z||"core",this.knownTags=X?Cq.coreKnownTags:{},this.tags=Cq.getTags($,this.name,H),this.toStringOptions=Q??null,Object.defineProperty(this,M$.MAP,{value:Q5.map}),Object.defineProperty(this,M$.SCALAR,{value:z5.string}),Object.defineProperty(this,M$.SEQ,{value:J5.seq}),this.sortMapEntries=typeof G==="function"?G:G===!0?B5:null}clone(){let q=Object.create(P$.prototype,Object.getOwnPropertyDescriptors(this));return q.tags=this.tags.slice(),q}}U5.Schema=P$});var L9=_((V5)=>{var I5=K(),w$=C0(),v0=b0();function O5(q,$){let H=[],X=$.directives===!0;if($.directives!==!1&&q.directives){let z=q.directives.toString(q);if(z)H.push(z),X=!0;else if(q.directives.docStart)X=!0}if(X)H.push("---");let Z=w$.createStringifyContext(q,$),{commentString:G}=Z.options;if(q.commentBefore){if(H.length!==1)H.unshift("");let z=G(q.commentBefore);H.unshift(v0.indentComment(z,""))}let Q=!1,J=null;if(q.contents){if(I5.isNode(q.contents)){if(q.contents.spaceBefore&&X)H.push("");if(q.contents.commentBefore){let O=G(q.contents.commentBefore);H.push(v0.indentComment(O,""))}Z.forceBlockIndent=!!q.comment,J=q.contents.comment}let z=J?void 0:()=>Q=!0,B=w$.stringify(q.contents,Z,()=>J=null,z);if(J)B+=v0.lineComment(B,"",G(J));if((B[0]==="|"||B[0]===">")&&H[H.length-1]==="---")H[H.length-1]=`--- ${B}`;else H.push(B)}else H.push(w$.stringify(q.contents,Z));if(q.directives?.docEnd)if(q.comment){let z=G(q.comment);if(z.includes(`
`))H.push("..."),H.push(v0.indentComment(z,""));else H.push(`... ${z}`)}else H.push("...");else{let z=q.comment;if(z&&Q)z=z.replace(/^\n+/,"");if(z){if((!Q||J)&&H[H.length-1]!=="")H.push("");H.push(v0.indentComment(G(z),""))}}return H.join(`
`)+`
`}V5.stringifyDocument=O5});var m0=_((M5)=>{var _5=w0(),D0=Qq(),g=K(),L5=r(),T5=c(),R5=K$(),D5=L9(),N$=Xq(),F5=cq(),A5=N0(),b$=sq();class S${constructor(q,$,H){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,g.NODE_TYPE,{value:g.DOC});let X=null;if(typeof $==="function"||Array.isArray($))X=$;else if(H===void 0&&$)H=$,$=void 0;let Z=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},H);this.options=Z;let{version:G}=Z;if(H?._directives){if(this.directives=H._directives.atDocument(),this.directives.yaml.explicit)G=this.directives.yaml.version}else this.directives=new b$.Directives({version:G});this.setSchema(G,H),this.contents=q===void 0?null:this.createNode(q,X,H)}clone(){let q=Object.create(S$.prototype,{[g.NODE_TYPE]:{value:g.DOC}});if(q.commentBefore=this.commentBefore,q.comment=this.comment,q.errors=this.errors.slice(),q.warnings=this.warnings.slice(),q.options=Object.assign({},this.options),this.directives)q.directives=this.directives.clone();if(q.schema=this.schema.clone(),q.contents=g.isNode(this.contents)?this.contents.clone(q.schema):this.contents,this.range)q.range=this.range.slice();return q}add(q){if(F0(this.contents))this.contents.add(q)}addIn(q,$){if(F0(this.contents))this.contents.addIn(q,$)}createAlias(q,$){if(!q.anchor){let H=N$.anchorNames(this);q.anchor=!$||H.has($)?N$.findNewAnchor($||"a",H):$}return new _5.Alias(q.anchor)}createNode(q,$,H){let X=void 0;if(typeof $==="function")q=$.call({"":q},"",q),X=$;else if(Array.isArray($)){let I=(T)=>typeof T==="number"||T instanceof String||T instanceof Number,V=$.filter(I).map(String);if(V.length>0)$=$.concat(V);X=$}else if(H===void 0&&$)H=$,$=void 0;let{aliasDuplicateObjects:Z,anchorPrefix:G,flow:Q,keepUndefined:J,onTagObj:z,tag:B}=H??{},{onAnchor:O,setAnchors:U,sourceObjects:Y}=N$.createNodeAnchors(this,G||"a"),W={aliasDuplicateObjects:Z??!0,keepUndefined:J??!1,onAnchor:O,onTagObj:z,replacer:X,schema:this.schema,sourceObjects:Y},L=A5.createNode(q,B,W);if(Q&&g.isCollection(L))L.flow=!0;return U(),L}createPair(q,$,H={}){let X=this.createNode(q,null,H),Z=this.createNode($,null,H);return new L5.Pair(X,Z)}delete(q){return F0(this.contents)?this.contents.delete(q):!1}deleteIn(q){if(D0.isEmptyPath(q)){if(this.contents==null)return!1;return this.contents=null,!0}return F0(this.contents)?this.contents.deleteIn(q):!1}get(q,$){return g.isCollection(this.contents)?this.contents.get(q,$):void 0}getIn(q,$){if(D0.isEmptyPath(q))return!$&&g.isScalar(this.contents)?this.contents.value:this.contents;return g.isCollection(this.contents)?this.contents.getIn(q,$):void 0}has(q){return g.isCollection(this.contents)?this.contents.has(q):!1}hasIn(q){if(D0.isEmptyPath(q))return this.contents!==void 0;return g.isCollection(this.contents)?this.contents.hasIn(q):!1}set(q,$){if(this.contents==null)this.contents=D0.collectionFromPath(this.schema,[q],$);else if(F0(this.contents))this.contents.set(q,$)}setIn(q,$){if(D0.isEmptyPath(q))this.contents=$;else if(this.contents==null)this.contents=D0.collectionFromPath(this.schema,Array.from(q),$);else if(F0(this.contents))this.contents.setIn(q,$)}setSchema(q,$={}){if(typeof q==="number")q=String(q);let H;switch(q){case"1.1":if(this.directives)this.directives.yaml.version="1.1";else this.directives=new b$.Directives({version:"1.1"});H={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":if(this.directives)this.directives.yaml.version=q;else this.directives=new b$.Directives({version:q});H={resolveKnownTags:!0,schema:"core"};break;case null:if(this.directives)delete this.directives;H=null;break;default:{let X=JSON.stringify(q);throw Error(`Expected '1.1', '1.2' or null as first argument, but found: ${X}`)}}if($.schema instanceof Object)this.schema=$.schema;else if(H)this.schema=new R5.Schema(Object.assign(H,$));else throw Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:q,jsonArg:$,mapAsMap:H,maxAliasCount:X,onAnchor:Z,reviver:G}={}){let Q={anchors:new Map,doc:this,keep:!q,mapAsMap:H===!0,mapKeyWarned:!1,maxAliasCount:typeof X==="number"?X:100},J=T5.toJS(this.contents,$??"",Q);if(typeof Z==="function")for(let{count:z,res:B}of Q.anchors.values())Z(B,z);return typeof G==="function"?F5.applyReviver(G,{"":J},"",J):J}toJSON(q,$){return this.toJS({json:!0,jsonArg:q,mapAsMap:!1,onAnchor:$})}toString(q={}){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");if("indent"in q&&(!Number.isInteger(q.indent)||Number(q.indent)<=0)){let $=JSON.stringify(q.indent);throw Error(`"indent" option must be a positive integer, not ${$}`)}return D5.stringifyDocument(this,q)}}function F0(q){if(g.isCollection(q))return!0;throw Error("Expected a YAML collection as document contents")}M5.Document=S$});var p0=_((w5)=>{class Eq extends Error{constructor(q,$,H,X){super();this.name=q,this.code=H,this.message=X,this.pos=$}}class T9 extends Eq{constructor(q,$,H){super("YAMLParseError",q,$,H)}}class R9 extends Eq{constructor(q,$,H){super("YAMLWarning",q,$,H)}}var K5=(q,$)=>(H)=>{if(H.pos[0]===-1)return;H.linePos=H.pos.map((J)=>$.linePos(J));let{line:X,col:Z}=H.linePos[0];H.message+=` at line ${X}, column ${Z}`;let G=Z-1,Q=q.substring($.lineStarts[X-1],$.lineStarts[X]).replace(/[\n\r]+$/,"");if(G>=60&&Q.length>80){let J=Math.min(G-39,Q.length-79);Q=""+Q.substring(J),G-=J-1}if(Q.length>80)Q=Q.substring(0,79)+"";if(X>1&&/^ *$/.test(Q.substring(0,G))){let J=q.substring($.lineStarts[X-2],$.lineStarts[X-1]);if(J.length>80)J=J.substring(0,79)+`
`;Q=J+Q}if(/[^ ]/.test(Q)){let J=1,z=H.linePos[1];if(z&&z.line===X&&z.col>Z)J=Math.max(1,Math.min(z.col-Z,80-G));let B=" ".repeat(G)+"^".repeat(J);H.message+=`:

${Q}
${B}
`}};w5.YAMLError=Eq;w5.YAMLParseError=T9;w5.YAMLWarning=R9;w5.prettifyError=K5});var d0=_((E5)=>{function C5(q,{flow:$,indicator:H,next:X,offset:Z,onError:G,parentIndent:Q,startOnNewline:J}){let z=!1,B=J,O=J,U="",Y="",W=!1,L=!1,I=null,V=null,T=null,D=null,F=null,A=null,M=null;for(let R of q){if(L){if(R.type!=="space"&&R.type!=="newline"&&R.type!=="comma")G(R.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space");L=!1}if(I){if(B&&R.type!=="comment"&&R.type!=="newline")G(I,"TAB_AS_INDENT","Tabs are not allowed as indentation");I=null}switch(R.type){case"space":if(!$&&(H!=="doc-start"||X?.type!=="flow-collection")&&R.source.includes("\t"))I=R;O=!0;break;case"comment":{if(!O)G(R,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let b=R.source.substring(1)||" ";if(!U)U=b;else U+=Y+b;Y="",B=!1;break}case"newline":if(B){if(U)U+=R.source;else if(!A||H!=="seq-item-ind")z=!0}else Y+=R.source;if(B=!0,W=!0,V||T)D=R;O=!0;break;case"anchor":if(V)G(R,"MULTIPLE_ANCHORS","A node can have at most one anchor");if(R.source.endsWith(":"))G(R.offset+R.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0);V=R,M??(M=R.offset),B=!1,O=!1,L=!0;break;case"tag":{if(T)G(R,"MULTIPLE_TAGS","A node can have at most one tag");T=R,M??(M=R.offset),B=!1,O=!1,L=!0;break}case H:if(V||T)G(R,"BAD_PROP_ORDER",`Anchors and tags must be after the ${R.source} indicator`);if(A)G(R,"UNEXPECTED_TOKEN",`Unexpected ${R.source} in ${$??"collection"}`);A=R,B=H==="seq-item-ind"||H==="explicit-key-ind",O=!1;break;case"comma":if($){if(F)G(R,"UNEXPECTED_TOKEN",`Unexpected , in ${$}`);F=R,B=!1,O=!1;break}default:G(R,"UNEXPECTED_TOKEN",`Unexpected ${R.type} token`),B=!1,O=!1}}let P=q[q.length-1],w=P?P.offset+P.source.length:Z;if(L&&X&&X.type!=="space"&&X.type!=="newline"&&X.type!=="comma"&&(X.type!=="scalar"||X.source!==""))G(X.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space");if(I&&(B&&I.indent<=Q||X?.type==="block-map"||X?.type==="block-seq"))G(I,"TAB_AS_INDENT","Tabs are not allowed as indentation");return{comma:F,found:A,spaceBefore:z,comment:U,hasNewline:W,anchor:V,tag:T,newlineAfterProp:D,end:w,start:M??w}}E5.resolveProps=C5});var yq=_((f5)=>{function j$(q){if(!q)return null;switch(q.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(q.source.includes(`
`))return!0;if(q.end){for(let $ of q.end)if($.type==="newline")return!0}return!1;case"flow-collection":for(let $ of q.items){for(let H of $.start)if(H.type==="newline")return!0;if($.sep){for(let H of $.sep)if(H.type==="newline")return!0}if(j$($.key)||j$($.value))return!0}return!1;default:return!0}}f5.containsNewline=j$});var C$=_((u5)=>{var x5=yq();function k5(q,$,H){if($?.type==="flow-collection"){let X=$.end[0];if(X.indent===q&&(X.source==="]"||X.source==="}")&&x5.containsNewline($))H(X,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}u5.flowIndentCheck=k5});var E$=_((m5)=>{var D9=K();function v5(q,$,H){let{uniqueKeys:X}=q.options;if(X===!1)return!1;let Z=typeof X==="function"?X:(G,Q)=>G===Q||D9.isScalar(G)&&D9.isScalar(Q)&&G.value===Q.value;return $.some((G)=>Z(G.key,H))}m5.mapIncludes=v5});var K9=_((a5)=>{var F9=r(),d5=o(),A9=d0(),l5=yq(),M9=C$(),s5=E$(),P9="All mapping items must start at the same column";function c5({composeNode:q,composeEmptyNode:$},H,X,Z,G){let J=new(G?.nodeClass??d5.YAMLMap)(H.schema);if(H.atRoot)H.atRoot=!1;let z=X.offset,B=null;for(let O of X.items){let{start:U,key:Y,sep:W,value:L}=O,I=A9.resolveProps(U,{indicator:"explicit-key-ind",next:Y??W?.[0],offset:z,onError:Z,parentIndent:X.indent,startOnNewline:!0}),V=!I.found;if(V){if(Y){if(Y.type==="block-seq")Z(z,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key");else if("indent"in Y&&Y.indent!==X.indent)Z(z,"BAD_INDENT",P9)}if(!I.anchor&&!I.tag&&!W){if(B=I.end,I.comment)if(J.comment)J.comment+=`
`+I.comment;else J.comment=I.comment;continue}if(I.newlineAfterProp||l5.containsNewline(Y))Z(Y??U[U.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else if(I.found?.indent!==X.indent)Z(z,"BAD_INDENT",P9);H.atKey=!0;let T=I.end,D=Y?q(H,Y,I,Z):$(H,T,U,null,I,Z);if(H.schema.compat)M9.flowIndentCheck(X.indent,Y,Z);if(H.atKey=!1,s5.mapIncludes(H,J.items,D))Z(T,"DUPLICATE_KEY","Map keys must be unique");let F=A9.resolveProps(W??[],{indicator:"map-value-ind",next:L,offset:D.range[2],onError:Z,parentIndent:X.indent,startOnNewline:!Y||Y.type==="block-scalar"});if(z=F.end,F.found){if(V){if(L?.type==="block-map"&&!F.hasNewline)Z(z,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings");if(H.options.strict&&I.start<F.found.offset-1024)Z(D.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key")}let A=L?q(H,L,F,Z):$(H,z,W,null,F,Z);if(H.schema.compat)M9.flowIndentCheck(X.indent,L,Z);z=A.range[2];let M=new F9.Pair(D,A);if(H.options.keepSourceTokens)M.srcToken=O;J.items.push(M)}else{if(V)Z(D.range,"MISSING_CHAR","Implicit map keys need to be followed by map values");if(F.comment)if(D.comment)D.comment+=`
`+F.comment;else D.comment=F.comment;let A=new F9.Pair(D);if(H.options.keepSourceTokens)A.srcToken=O;J.items.push(A)}}if(B&&B<z)Z(B,"IMPOSSIBLE","Map comment with trailing content");return J.range=[X.offset,z,B??z],J}a5.resolveBlockMap=c5});var w9=_((e5)=>{var r5=t(),n5=d0(),o5=C$();function t5({composeNode:q,composeEmptyNode:$},H,X,Z,G){let J=new(G?.nodeClass??r5.YAMLSeq)(H.schema);if(H.atRoot)H.atRoot=!1;if(H.atKey)H.atKey=!1;let z=X.offset,B=null;for(let{start:O,value:U}of X.items){let Y=n5.resolveProps(O,{indicator:"seq-item-ind",next:U,offset:z,onError:Z,parentIndent:X.indent,startOnNewline:!0});if(!Y.found)if(Y.anchor||Y.tag||U)if(U&&U.type==="block-seq")Z(Y.end,"BAD_INDENT","All sequence items must start at the same column");else Z(z,"MISSING_CHAR","Sequence item without - indicator");else{if(B=Y.end,Y.comment)J.comment=Y.comment;continue}let W=U?q(H,U,Y,Z):$(H,Y.end,O,null,Y,Z);if(H.schema.compat)o5.flowIndentCheck(X.indent,U,Z);z=W.range[2],J.items.push(W)}return J.range=[X.offset,z,B??z],J}e5.resolveBlockSeq=t5});var A0=_((H6)=>{function $6(q,$,H,X){let Z="";if(q){let G=!1,Q="";for(let J of q){let{source:z,type:B}=J;switch(B){case"space":G=!0;break;case"comment":{if(H&&!G)X(J,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let O=z.substring(1)||" ";if(!Z)Z=O;else Z+=Q+O;Q="";break}case"newline":if(Z)Q+=z;G=!0;break;default:X(J,"UNEXPECTED_TOKEN",`Unexpected ${B} at node end`)}$+=z.length}}return{comment:Z,offset:$}}H6.resolveEnd=$6});var S9=_((Y6)=>{var Z6=K(),G6=r(),N9=o(),Q6=t(),J6=A0(),b9=d0(),z6=yq(),B6=E$(),y$="Block collections are not allowed within flow collections",f$=(q)=>q&&(q.type==="block-map"||q.type==="block-seq");function U6({composeNode:q,composeEmptyNode:$},H,X,Z,G){let Q=X.start.source==="{",J=Q?"flow map":"flow sequence",B=new(G?.nodeClass??(Q?N9.YAMLMap:Q6.YAMLSeq))(H.schema);B.flow=!0;let O=H.atRoot;if(O)H.atRoot=!1;if(H.atKey)H.atKey=!1;let U=X.offset+X.start.source.length;for(let V=0;V<X.items.length;++V){let T=X.items[V],{start:D,key:F,sep:A,value:M}=T,P=b9.resolveProps(D,{flow:J,indicator:"explicit-key-ind",next:F??A?.[0],offset:U,onError:Z,parentIndent:X.indent,startOnNewline:!1});if(!P.found){if(!P.anchor&&!P.tag&&!A&&!M){if(V===0&&P.comma)Z(P.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${J}`);else if(V<X.items.length-1)Z(P.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${J}`);if(P.comment)if(B.comment)B.comment+=`
`+P.comment;else B.comment=P.comment;U=P.end;continue}if(!Q&&H.options.strict&&z6.containsNewline(F))Z(F,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(V===0){if(P.comma)Z(P.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${J}`)}else{if(!P.comma)Z(P.start,"MISSING_CHAR",`Missing , between ${J} items`);if(P.comment){let w="";q:for(let R of D)switch(R.type){case"comma":case"space":break;case"comment":w=R.source.substring(1);break q;default:break q}if(w){let R=B.items[B.items.length-1];if(Z6.isPair(R))R=R.value??R.key;if(R.comment)R.comment+=`
`+w;else R.comment=w;P.comment=P.comment.substring(w.length+1)}}}if(!Q&&!A&&!P.found){let w=M?q(H,M,P,Z):$(H,P.end,A,null,P,Z);if(B.items.push(w),U=w.range[2],f$(M))Z(w.range,"BLOCK_IN_FLOW",y$)}else{H.atKey=!0;let w=P.end,R=F?q(H,F,P,Z):$(H,w,D,null,P,Z);if(f$(F))Z(R.range,"BLOCK_IN_FLOW",y$);H.atKey=!1;let b=b9.resolveProps(A??[],{flow:J,indicator:"map-value-ind",next:M,offset:R.range[2],onError:Z,parentIndent:X.indent,startOnNewline:!1});if(b.found){if(!Q&&!P.found&&H.options.strict){if(A)for(let S of A){if(S===b.found)break;if(S.type==="newline"){Z(S,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}if(P.start<b.found.offset-1024)Z(b.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else if(M)if("source"in M&&M.source&&M.source[0]===":")Z(M,"MISSING_CHAR",`Missing space after : in ${J}`);else Z(b.start,"MISSING_CHAR",`Missing , or : between ${J} items`);let s=M?q(H,M,b,Z):b.found?$(H,b.end,A,null,b,Z):null;if(s){if(f$(M))Z(s.range,"BLOCK_IN_FLOW",y$)}else if(b.comment)if(R.comment)R.comment+=`
`+b.comment;else R.comment=b.comment;let I0=new G6.Pair(R,s);if(H.options.keepSourceTokens)I0.srcToken=T;if(Q){let S=B;if(B6.mapIncludes(H,S.items,R))Z(w,"DUPLICATE_KEY","Map keys must be unique");S.items.push(I0)}else{let S=new N9.YAMLMap(H.schema);S.flow=!0,S.items.push(I0);let $2=(s??R).range;S.range=[R.range[0],$2[1],$2[2]],B.items.push(S)}U=s?s.range[2]:b.end}}let Y=Q?"}":"]",[W,...L]=X.end,I=U;if(W&&W.source===Y)I=W.offset+W.source.length;else{let V=J[0].toUpperCase()+J.substring(1),T=O?`${V} must end with a ${Y}`:`${V} in block collection must be sufficiently indented and end with a ${Y}`;if(Z(U,O?"MISSING_CHAR":"BAD_INDENT",T),W&&W.source.length!==1)L.unshift(W)}if(L.length>0){let V=J6.resolveEnd(L,I,H.options.strict,Z);if(V.comment)if(B.comment)B.comment+=`
`+V.comment;else B.comment=V.comment;B.range=[X.offset,I,V.offset]}else B.range=[X.offset,I,I];return B}Y6.resolveFlowCollection=U6});var j9=_((F6)=>{var O6=K(),V6=N(),W6=o(),_6=t(),L6=K9(),T6=w9(),R6=S9();function g$(q,$,H,X,Z,G){let Q=H.type==="block-map"?L6.resolveBlockMap(q,$,H,X,G):H.type==="block-seq"?T6.resolveBlockSeq(q,$,H,X,G):R6.resolveFlowCollection(q,$,H,X,G),J=Q.constructor;if(Z==="!"||Z===J.tagName)return Q.tag=J.tagName,Q;if(Z)Q.tag=Z;return Q}function D6(q,$,H,X,Z){let G=X.tag,Q=!G?null:$.directives.tagName(G.source,(Y)=>Z(G,"TAG_RESOLVE_FAILED",Y));if(H.type==="block-seq"){let{anchor:Y,newlineAfterProp:W}=X,L=Y&&G?Y.offset>G.offset?Y:G:Y??G;if(L&&(!W||W.offset<L.offset))Z(L,"MISSING_CHAR","Missing newline after block sequence props")}let J=H.type==="block-map"?"map":H.type==="block-seq"?"seq":H.start.source==="{"?"map":"seq";if(!G||!Q||Q==="!"||Q===W6.YAMLMap.tagName&&J==="map"||Q===_6.YAMLSeq.tagName&&J==="seq")return g$(q,$,H,Z,Q);let z=$.schema.tags.find((Y)=>Y.tag===Q&&Y.collection===J);if(!z){let Y=$.schema.knownTags[Q];if(Y&&Y.collection===J)$.schema.tags.push(Object.assign({},Y,{default:!1})),z=Y;else{if(Y)Z(G,"BAD_COLLECTION_TYPE",`${Y.tag} used for ${J} collection, but expects ${Y.collection??"scalar"}`,!0);else Z(G,"TAG_RESOLVE_FAILED",`Unresolved tag: ${Q}`,!0);return g$(q,$,H,Z,Q)}}let B=g$(q,$,H,Z,Q,z),O=z.resolve?.(B,(Y)=>Z(G,"TAG_RESOLVE_FAILED",Y),$.options)??B,U=O6.isNode(O)?O:new V6.Scalar(O);if(U.range=B.range,U.tag=Q,z?.format)U.format=z.format;return U}F6.composeCollection=D6});var k$=_((w6)=>{var x$=N();function M6(q,$,H){let X=$.offset,Z=P6($,q.options.strict,H);if(!Z)return{value:"",type:null,comment:"",range:[X,X,X]};let G=Z.mode===">"?x$.Scalar.BLOCK_FOLDED:x$.Scalar.BLOCK_LITERAL,Q=$.source?K6($.source):[],J=Q.length;for(let I=Q.length-1;I>=0;--I){let V=Q[I][1];if(V===""||V==="\r")J=I;else break}if(J===0){let I=Z.chomp==="+"&&Q.length>0?`
`.repeat(Math.max(1,Q.length-1)):"",V=X+Z.length;if($.source)V+=$.source.length;return{value:I,type:G,comment:Z.comment,range:[X,V,V]}}let z=$.indent+Z.indent,B=$.offset+Z.length,O=0;for(let I=0;I<J;++I){let[V,T]=Q[I];if(T===""||T==="\r"){if(Z.indent===0&&V.length>z)z=V.length}else{if(V.length<z)H(B+V.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator");if(Z.indent===0)z=V.length;if(O=I,z===0&&!q.atRoot)H(B,"BAD_INDENT","Block scalar values in collections must be indented");break}B+=V.length+T.length+1}for(let I=Q.length-1;I>=J;--I)if(Q[I][0].length>z)J=I+1;let U="",Y="",W=!1;for(let I=0;I<O;++I)U+=Q[I][0].slice(z)+`
`;for(let I=O;I<J;++I){let[V,T]=Q[I];B+=V.length+T.length+1;let D=T[T.length-1]==="\r";if(D)T=T.slice(0,-1);if(T&&V.length<z){let A=`Block scalar lines must not be less indented than their ${Z.indent?"explicit indentation indicator":"first line"}`;H(B-T.length-(D?2:1),"BAD_INDENT",A),V=""}if(G===x$.Scalar.BLOCK_LITERAL)U+=Y+V.slice(z)+T,Y=`
`;else if(V.length>z||T[0]==="\t"){if(Y===" ")Y=`
`;else if(!W&&Y===`
`)Y=`

`;U+=Y+V.slice(z)+T,Y=`
`,W=!0}else if(T==="")if(Y===`
`)U+=`
`;else Y=`
`;else U+=Y+T,Y=" ",W=!1}switch(Z.chomp){case"-":break;case"+":for(let I=J;I<Q.length;++I)U+=`
`+Q[I][0].slice(z);if(U[U.length-1]!==`
`)U+=`
`;break;default:U+=`
`}let L=X+Z.length+$.source.length;return{value:U,type:G,comment:Z.comment,range:[X,L,L]}}function P6({offset:q,props:$},H,X){if($[0].type!=="block-scalar-header")return X($[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:Z}=$[0],G=Z[0],Q=0,J="",z=-1;for(let Y=1;Y<Z.length;++Y){let W=Z[Y];if(!J&&(W==="-"||W==="+"))J=W;else{let L=Number(W);if(!Q&&L)Q=L;else if(z===-1)z=q+Y}}if(z!==-1)X(z,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${Z}`);let B=!1,O="",U=Z.length;for(let Y=1;Y<$.length;++Y){let W=$[Y];switch(W.type){case"space":B=!0;case"newline":U+=W.source.length;break;case"comment":if(H&&!B)X(W,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");U+=W.source.length,O=W.source.substring(1);break;case"error":X(W,"UNEXPECTED_TOKEN",W.message),U+=W.source.length;break;default:{let L=`Unexpected token in block scalar header: ${W.type}`;X(W,"UNEXPECTED_TOKEN",L);let I=W.source;if(I&&typeof I==="string")U+=I.length}}}return{mode:G,indent:Q,chomp:J,comment:O,length:U}}function K6(q){let $=q.split(/\n( *)/),H=$[0],X=H.match(/^( *)/),G=[X?.[1]?[X[1],H.slice(X[1].length)]:["",H]];for(let Q=1;Q<$.length;Q+=2)G.push([$[Q],$[Q+1]]);return G}w6.resolveBlockScalar=M6});var h$=_((x6)=>{var u$=N(),b6=A0();function S6(q,$,H){let{offset:X,type:Z,source:G,end:Q}=q,J,z,B=(Y,W,L)=>H(X+Y,W,L);switch(Z){case"scalar":J=u$.Scalar.PLAIN,z=j6(G,B);break;case"single-quoted-scalar":J=u$.Scalar.QUOTE_SINGLE,z=C6(G,B);break;case"double-quoted-scalar":J=u$.Scalar.QUOTE_DOUBLE,z=E6(G,B);break;default:return H(q,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${Z}`),{value:"",type:null,comment:"",range:[X,X+G.length,X+G.length]}}let O=X+G.length,U=b6.resolveEnd(Q,O,$,H);return{value:z,type:J,comment:U.comment,range:[X,O,U.offset]}}function j6(q,$){let H="";switch(q[0]){case"\t":H="a tab character";break;case",":H="flow indicator character ,";break;case"%":H="directive indicator character %";break;case"|":case">":{H=`block scalar indicator ${q[0]}`;break}case"@":case"`":{H=`reserved character ${q[0]}`;break}}if(H)$(0,"BAD_SCALAR_START",`Plain value cannot start with ${H}`);return C9(q)}function C6(q,$){if(q[q.length-1]!=="'"||q.length===1)$(q.length,"MISSING_CHAR","Missing closing 'quote");return C9(q.slice(1,-1)).replace(/''/g,"'")}function C9(q){let $,H;try{$=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),H=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{$=/(.*?)[ \t]*\r?\n/sy,H=/[ \t]*(.*?)[ \t]*\r?\n/sy}let X=$.exec(q);if(!X)return q;let Z=X[1],G=" ",Q=$.lastIndex;H.lastIndex=Q;while(X=H.exec(q)){if(X[1]==="")if(G===`
`)Z+=G;else G=`
`;else Z+=G+X[1],G=" ";Q=H.lastIndex}let J=/[ \t]*(.*)/sy;return J.lastIndex=Q,X=J.exec(q),Z+G+(X?.[1]??"")}function E6(q,$){let H="";for(let X=1;X<q.length-1;++X){let Z=q[X];if(Z==="\r"&&q[X+1]===`
`)continue;if(Z===`
`){let{fold:G,offset:Q}=y6(q,X);H+=G,X=Q}else if(Z==="\\"){let G=q[++X],Q=f6[G];if(Q)H+=Q;else if(G===`
`){G=q[X+1];while(G===" "||G==="\t")G=q[++X+1]}else if(G==="\r"&&q[X+1]===`
`){G=q[++X+1];while(G===" "||G==="\t")G=q[++X+1]}else if(G==="x"||G==="u"||G==="U"){let J={x:2,u:4,U:8}[G];H+=g6(q,X+1,J,$),X+=J}else{let J=q.substr(X-1,2);$(X-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${J}`),H+=J}}else if(Z===" "||Z==="\t"){let G=X,Q=q[X+1];while(Q===" "||Q==="\t")Q=q[++X+1];if(Q!==`
`&&!(Q==="\r"&&q[X+2]===`
`))H+=X>G?q.slice(G,X+1):Z}else H+=Z}if(q[q.length-1]!=='"'||q.length===1)$(q.length,"MISSING_CHAR",'Missing closing "quote');return H}function y6(q,$){let H="",X=q[$+1];while(X===" "||X==="\t"||X===`
`||X==="\r"){if(X==="\r"&&q[$+2]!==`
`)break;if(X===`
`)H+=`
`;$+=1,X=q[$+1]}if(!H)H=" ";return{fold:H,offset:$}}var f6={"0":"\x00",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function g6(q,$,H,X){let Z=q.substr($,H),Q=Z.length===H&&/^[0-9a-fA-F]+$/.test(Z)?parseInt(Z,16):NaN;if(isNaN(Q)){let J=q.substr($-2,H+2);return X($-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${J}`),J}return String.fromCodePoint(Q)}x6.resolveFlowScalar=S6});var y9=_((d6)=>{var z0=K(),E9=N(),u6=k$(),h6=h$();function v6(q,$,H,X){let{value:Z,type:G,comment:Q,range:J}=$.type==="block-scalar"?u6.resolveBlockScalar(q,$,X):h6.resolveFlowScalar($,q.options.strict,X),z=H?q.directives.tagName(H.source,(U)=>X(H,"TAG_RESOLVE_FAILED",U)):null,B;if(q.options.stringKeys&&q.atKey)B=q.schema[z0.SCALAR];else if(z)B=m6(q.schema,Z,z,H,X);else if($.type==="scalar")B=p6(q,Z,$,X);else B=q.schema[z0.SCALAR];let O;try{let U=B.resolve(Z,(Y)=>X(H??$,"TAG_RESOLVE_FAILED",Y),q.options);O=z0.isScalar(U)?U:new E9.Scalar(U)}catch(U){let Y=U instanceof Error?U.message:String(U);X(H??$,"TAG_RESOLVE_FAILED",Y),O=new E9.Scalar(Z)}if(O.range=J,O.source=Z,G)O.type=G;if(z)O.tag=z;if(B.format)O.format=B.format;if(Q)O.comment=Q;return O}function m6(q,$,H,X,Z){if(H==="!")return q[z0.SCALAR];let G=[];for(let J of q.tags)if(!J.collection&&J.tag===H)if(J.default&&J.test)G.push(J);else return J;for(let J of G)if(J.test?.test($))return J;let Q=q.knownTags[H];if(Q&&!Q.collection)return q.tags.push(Object.assign({},Q,{default:!1,test:void 0})),Q;return Z(X,"TAG_RESOLVE_FAILED",`Unresolved tag: ${H}`,H!=="tag:yaml.org,2002:str"),q[z0.SCALAR]}function p6({atKey:q,directives:$,schema:H},X,Z,G){let Q=H.tags.find((J)=>(J.default===!0||q&&J.default==="key")&&J.test?.test(X))||H[z0.SCALAR];if(H.compat){let J=H.compat.find((z)=>z.default&&z.test?.test(X))??H[z0.SCALAR];if(Q.tag!==J.tag){let z=$.tagString(Q.tag),B=$.tagString(J.tag),O=`Value may be parsed as either ${z} or ${B}`;G(Z,"TAG_RESOLVE_FAILED",O,!0)}}return Q}d6.composeScalar=v6});var f9=_((c6)=>{function s6(q,$,H){if($){H??(H=$.length);for(let X=H-1;X>=0;--X){let Z=$[X];switch(Z.type){case"space":case"comment":case"newline":q-=Z.source.length;continue}Z=$[++X];while(Z?.type==="space")q+=Z.source.length,Z=$[++X];break}}return q}c6.emptyScalarPosition=s6});var k9=_(($8)=>{var i6=w0(),r6=K(),n6=j9(),g9=y9(),o6=A0(),t6=f9(),e6={composeNode:x9,composeEmptyNode:v$};function x9(q,$,H,X){let Z=q.atKey,{spaceBefore:G,comment:Q,anchor:J,tag:z}=H,B,O=!0;switch($.type){case"alias":if(B=q8(q,$,X),J||z)X($,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":if(B=g9.composeScalar(q,$,z,X),J)B.anchor=J.source.substring(1);break;case"block-map":case"block-seq":case"flow-collection":if(B=n6.composeCollection(e6,q,$,H,X),J)B.anchor=J.source.substring(1);break;default:{let U=$.type==="error"?$.message:`Unsupported token (type: ${$.type})`;X($,"UNEXPECTED_TOKEN",U),B=v$(q,$.offset,void 0,null,H,X),O=!1}}if(J&&B.anchor==="")X(J,"BAD_ALIAS","Anchor cannot be an empty string");if(Z&&q.options.stringKeys&&(!r6.isScalar(B)||typeof B.value!=="string"||B.tag&&B.tag!=="tag:yaml.org,2002:str"))X(z??$,"NON_STRING_KEY","With stringKeys, all keys must be strings");if(G)B.spaceBefore=!0;if(Q)if($.type==="scalar"&&$.source==="")B.comment=Q;else B.commentBefore=Q;if(q.options.keepSourceTokens&&O)B.srcToken=$;return B}function v$(q,$,H,X,{spaceBefore:Z,comment:G,anchor:Q,tag:J,end:z},B){let O={type:"scalar",offset:t6.emptyScalarPosition($,H,X),indent:-1,source:""},U=g9.composeScalar(q,O,J,B);if(Q){if(U.anchor=Q.source.substring(1),U.anchor==="")B(Q,"BAD_ALIAS","Anchor cannot be an empty string")}if(Z)U.spaceBefore=!0;if(G)U.comment=G,U.range[2]=z;return U}function q8({options:q},{offset:$,source:H,end:X},Z){let G=new i6.Alias(H.substring(1));if(G.source==="")Z($,"BAD_ALIAS","Alias cannot be an empty string");if(G.source.endsWith(":"))Z($+H.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let Q=$+H.length,J=o6.resolveEnd(X,Q,q.strict,Z);if(G.range=[$,Q,J.offset],J.comment)G.comment=J.comment;return G}$8.composeEmptyNode=v$;$8.composeNode=x9});var h9=_((z8)=>{var Z8=m0(),u9=k9(),G8=A0(),Q8=d0();function J8(q,$,{offset:H,start:X,value:Z,end:G},Q){let J=Object.assign({_directives:$},q),z=new Z8.Document(void 0,J),B={atKey:!1,atRoot:!0,directives:z.directives,options:z.options,schema:z.schema},O=Q8.resolveProps(X,{indicator:"doc-start",next:Z??G?.[0],offset:H,onError:Q,parentIndent:0,startOnNewline:!0});if(O.found){if(z.directives.docStart=!0,Z&&(Z.type==="block-map"||Z.type==="block-seq")&&!O.hasNewline)Q(O.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")}z.contents=Z?u9.composeNode(B,Z,O,Q):u9.composeEmptyNode(B,O.end,X,null,O,Q);let U=z.contents.range[2],Y=G8.resolveEnd(G,U,!1,Q);if(Y.comment)z.comment=Y.comment;return z.range=[H,U,Y.offset],z}z8.composeDoc=J8});var m$=_((W8)=>{var U8=d("process"),Y8=sq(),I8=m0(),l0=p0(),v9=K(),O8=h9(),V8=A0();function s0(q){if(typeof q==="number")return[q,q+1];if(Array.isArray(q))return q.length===2?q:[q[0],q[1]];let{offset:$,source:H}=q;return[$,$+(typeof H==="string"?H.length:1)]}function m9(q){let $="",H=!1,X=!1;for(let Z=0;Z<q.length;++Z){let G=q[Z];switch(G[0]){case"#":$+=($===""?"":X?`

`:`
`)+(G.substring(1)||" "),H=!0,X=!1;break;case"%":if(q[Z+1]?.[0]!=="#")Z+=1;H=!1;break;default:if(!H)X=!0;H=!1}}return{comment:$,afterEmptyLine:X}}class p9{constructor(q={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=($,H,X,Z)=>{let G=s0($);if(Z)this.warnings.push(new l0.YAMLWarning(G,H,X));else this.errors.push(new l0.YAMLParseError(G,H,X))},this.directives=new Y8.Directives({version:q.version||"1.2"}),this.options=q}decorate(q,$){let{comment:H,afterEmptyLine:X}=m9(this.prelude);if(H){let Z=q.contents;if($)q.comment=q.comment?`${q.comment}
${H}`:H;else if(X||q.directives.docStart||!Z)q.commentBefore=H;else if(v9.isCollection(Z)&&!Z.flow&&Z.items.length>0){let G=Z.items[0];if(v9.isPair(G))G=G.key;let Q=G.commentBefore;G.commentBefore=Q?`${H}
${Q}`:H}else{let G=Z.commentBefore;Z.commentBefore=G?`${H}
${G}`:H}}if($)Array.prototype.push.apply(q.errors,this.errors),Array.prototype.push.apply(q.warnings,this.warnings);else q.errors=this.errors,q.warnings=this.warnings;this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:m9(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(q,$=!1,H=-1){for(let X of q)yield*this.next(X);yield*this.end($,H)}*next(q){if(U8.env.LOG_STREAM)console.dir(q,{depth:null});switch(q.type){case"directive":this.directives.add(q.source,($,H,X)=>{let Z=s0(q);Z[0]+=$,this.onError(Z,"BAD_DIRECTIVE",H,X)}),this.prelude.push(q.source),this.atDirectives=!0;break;case"document":{let $=O8.composeDoc(this.options,this.directives,q,this.onError);if(this.atDirectives&&!$.directives.docStart)this.onError(q,"MISSING_CHAR","Missing directives-end/doc-start indicator line");if(this.decorate($,!1),this.doc)yield this.doc;this.doc=$,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(q.source);break;case"error":{let $=q.source?`${q.message}: ${JSON.stringify(q.source)}`:q.message,H=new l0.YAMLParseError(s0(q),"UNEXPECTED_TOKEN",$);if(this.atDirectives||!this.doc)this.errors.push(H);else this.doc.errors.push(H);break}case"doc-end":{if(!this.doc){this.errors.push(new l0.YAMLParseError(s0(q),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document"));break}this.doc.directives.docEnd=!0;let $=V8.resolveEnd(q.end,q.offset+q.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),$.comment){let H=this.doc.comment;this.doc.comment=H?`${H}
${$.comment}`:$.comment}this.doc.range[2]=$.offset;break}default:this.errors.push(new l0.YAMLParseError(s0(q),"UNEXPECTED_TOKEN",`Unsupported token ${q.type}`))}}*end(q=!1,$=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(q){let H=Object.assign({_directives:this.directives},this.options),X=new I8.Document(void 0,H);if(this.atDirectives)this.onError($,"MISSING_CHAR","Missing directives-end indicator line");X.range=[0,$,$],this.decorate(X,!1),yield X}}}W8.Composer=p9});var s9=_((P8)=>{var L8=k$(),T8=h$(),R8=p0(),d9=j0();function D8(q,$=!0,H){if(q){let X=(Z,G,Q)=>{let J=typeof Z==="number"?Z:Array.isArray(Z)?Z[0]:Z.offset;if(H)H(J,G,Q);else throw new R8.YAMLParseError([J,J+1],G,Q)};switch(q.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return T8.resolveFlowScalar(q,$,X);case"block-scalar":return L8.resolveBlockScalar({options:{strict:$}},q,X)}}return null}function F8(q,$){let{implicitKey:H=!1,indent:X,inFlow:Z=!1,offset:G=-1,type:Q="PLAIN"}=$,J=d9.stringifyString({type:Q,value:q},{implicitKey:H,indent:X>0?" ".repeat(X):"",inFlow:Z,options:{blockQuote:!0,lineWidth:-1}}),z=$.end??[{type:"newline",offset:-1,indent:X,source:`
`}];switch(J[0]){case"|":case">":{let B=J.indexOf(`
`),O=J.substring(0,B),U=J.substring(B+1)+`
`,Y=[{type:"block-scalar-header",offset:G,indent:X,source:O}];if(!l9(Y,z))Y.push({type:"newline",offset:-1,indent:X,source:`
`});return{type:"block-scalar",offset:G,indent:X,props:Y,source:U}}case'"':return{type:"double-quoted-scalar",offset:G,indent:X,source:J,end:z};case"'":return{type:"single-quoted-scalar",offset:G,indent:X,source:J,end:z};default:return{type:"scalar",offset:G,indent:X,source:J,end:z}}}function A8(q,$,H={}){let{afterKey:X=!1,implicitKey:Z=!1,inFlow:G=!1,type:Q}=H,J="indent"in q?q.indent:null;if(X&&typeof J==="number")J+=2;if(!Q)switch(q.type){case"single-quoted-scalar":Q="QUOTE_SINGLE";break;case"double-quoted-scalar":Q="QUOTE_DOUBLE";break;case"block-scalar":{let B=q.props[0];if(B.type!=="block-scalar-header")throw Error("Invalid block scalar header");Q=B.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:Q="PLAIN"}let z=d9.stringifyString({type:Q,value:$},{implicitKey:Z||J===null,indent:J!==null&&J>0?" ".repeat(J):"",inFlow:G,options:{blockQuote:!0,lineWidth:-1}});switch(z[0]){case"|":case">":M8(q,z);break;case'"':p$(q,z,"double-quoted-scalar");break;case"'":p$(q,z,"single-quoted-scalar");break;default:p$(q,z,"scalar")}}function M8(q,$){let H=$.indexOf(`
`),X=$.substring(0,H),Z=$.substring(H+1)+`
`;if(q.type==="block-scalar"){let G=q.props[0];if(G.type!=="block-scalar-header")throw Error("Invalid block scalar header");G.source=X,q.source=Z}else{let{offset:G}=q,Q="indent"in q?q.indent:-1,J=[{type:"block-scalar-header",offset:G,indent:Q,source:X}];if(!l9(J,"end"in q?q.end:void 0))J.push({type:"newline",offset:-1,indent:Q,source:`
`});for(let z of Object.keys(q))if(z!=="type"&&z!=="offset")delete q[z];Object.assign(q,{type:"block-scalar",indent:Q,props:J,source:Z})}}function l9(q,$){if($)for(let H of $)switch(H.type){case"space":case"comment":q.push(H);break;case"newline":return q.push(H),!0}return!1}function p$(q,$,H){switch(q.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":q.type=H,q.source=$;break;case"block-scalar":{let X=q.props.slice(1),Z=$.length;if(q.props[0].type==="block-scalar-header")Z-=q.props[0].source.length;for(let G of X)G.offset+=Z;delete q.props,Object.assign(q,{type:H,source:$,end:X});break}case"block-map":case"block-seq":{let Z={type:"newline",offset:q.offset+$.length,indent:q.indent,source:`
`};delete q.items,Object.assign(q,{type:H,source:$,end:[Z]});break}default:{let X="indent"in q?q.indent:-1,Z="end"in q&&Array.isArray(q.end)?q.end.filter((G)=>G.type==="space"||G.type==="comment"||G.type==="newline"):[];for(let G of Object.keys(q))if(G!=="type"&&G!=="offset")delete q[G];Object.assign(q,{type:H,indent:X,source:$,end:Z})}}}P8.createScalarToken=F8;P8.resolveAsScalar=D8;P8.setScalarValue=A8});var c9=_((S8)=>{var b8=(q)=>("type"in q)?gq(q):fq(q);function gq(q){switch(q.type){case"block-scalar":{let $="";for(let H of q.props)$+=gq(H);return $+q.source}case"block-map":case"block-seq":{let $="";for(let H of q.items)$+=fq(H);return $}case"flow-collection":{let $=q.start.source;for(let H of q.items)$+=fq(H);for(let H of q.end)$+=H.source;return $}case"document":{let $=fq(q);if(q.end)for(let H of q.end)$+=H.source;return $}default:{let $=q.source;if("end"in q&&q.end)for(let H of q.end)$+=H.source;return $}}}function fq({start:q,key:$,sep:H,value:X}){let Z="";for(let G of q)Z+=G.source;if($)Z+=gq($);if(H)for(let G of H)Z+=G.source;if(X)Z+=gq(X);return Z}S8.stringify=b8});var r9=_((E8)=>{var d$=Symbol("break visit"),C8=Symbol("skip children"),a9=Symbol("remove item");function B0(q,$){if("type"in q&&q.type==="document")q={start:q.start,value:q.value};i9(Object.freeze([]),q,$)}B0.BREAK=d$;B0.SKIP=C8;B0.REMOVE=a9;B0.itemAtPath=(q,$)=>{let H=q;for(let[X,Z]of $){let G=H?.[X];if(G&&"items"in G)H=G.items[Z];else return}return H};B0.parentCollection=(q,$)=>{let H=B0.itemAtPath(q,$.slice(0,-1)),X=$[$.length-1][0],Z=H?.[X];if(Z&&"items"in Z)return Z;throw Error("Parent collection not found")};function i9(q,$,H){let X=H($,q);if(typeof X==="symbol")return X;for(let Z of["key","value"]){let G=$[Z];if(G&&"items"in G){for(let Q=0;Q<G.items.length;++Q){let J=i9(Object.freeze(q.concat([[Z,Q]])),G.items[Q],H);if(typeof J==="number")Q=J-1;else if(J===d$)return d$;else if(J===a9)G.items.splice(Q,1),Q-=1}if(typeof X==="function"&&Z==="key")X=X($,q)}}return typeof X==="function"?X($,q):X}E8.visit=B0});var xq=_((v8)=>{var l$=s9(),f8=c9(),g8=r9(),s$="\uFEFF",c$="\x02",a$="\x18",i$="\x1F",x8=(q)=>!!q&&("items"in q),k8=(q)=>!!q&&(q.type==="scalar"||q.type==="single-quoted-scalar"||q.type==="double-quoted-scalar"||q.type==="block-scalar");function u8(q){switch(q){case s$:return"<BOM>";case c$:return"<DOC>";case a$:return"<FLOW_END>";case i$:return"<SCALAR>";default:return JSON.stringify(q)}}function h8(q){switch(q){case s$:return"byte-order-mark";case c$:return"doc-mode";case a$:return"flow-error-end";case i$:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(q[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}v8.createScalarToken=l$.createScalarToken;v8.resolveAsScalar=l$.resolveAsScalar;v8.setScalarValue=l$.setScalarValue;v8.stringify=f8.stringify;v8.visit=g8.visit;v8.BOM=s$;v8.DOCUMENT=c$;v8.FLOW_END=a$;v8.SCALAR=i$;v8.isCollection=x8;v8.isScalar=k8;v8.prettyToken=u8;v8.tokenType=h8});var n$=_((HG)=>{var c0=xq();function u(q){switch(q){case void 0:case" ":case`
`:case"\r":case"\t":return!0;default:return!1}}var n9=new Set("0123456789ABCDEFabcdef"),qG=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),kq=new Set(",[]{}"),$G=new Set(` ,[]{}
\r	`),r$=(q)=>!q||$G.has(q);class o9{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(q,$=!1){if(q){if(typeof q!=="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+q:q,this.lineEndPos=null}this.atEnd=!$;let H=this.next??"stream";while(H&&($||this.hasChars(1)))H=yield*this.parseNext(H)}atLineEnd(){let q=this.pos,$=this.buffer[q];while($===" "||$==="\t")$=this.buffer[++q];if(!$||$==="#"||$===`
`)return!0;if($==="\r")return this.buffer[q+1]===`
`;return!1}charAt(q){return this.buffer[this.pos+q]}continueScalar(q){let $=this.buffer[q];if(this.indentNext>0){let H=0;while($===" ")$=this.buffer[++H+q];if($==="\r"){let X=this.buffer[H+q+1];if(X===`
`||!X&&!this.atEnd)return q+H+1}return $===`
`||H>=this.indentNext||!$&&!this.atEnd?q+H:-1}if($==="-"||$==="."){let H=this.buffer.substr(q,3);if((H==="---"||H==="...")&&u(this.buffer[q+3]))return-1}return q}getLine(){let q=this.lineEndPos;if(typeof q!=="number"||q!==-1&&q<this.pos)q=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=q;if(q===-1)return this.atEnd?this.buffer.substring(this.pos):null;if(this.buffer[q-1]==="\r")q-=1;return this.buffer.substring(this.pos,q)}hasChars(q){return this.pos+q<=this.buffer.length}setNext(q){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=q,null}peek(q){return this.buffer.substr(this.pos,q)}*parseNext(q){switch(q){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let q=this.getLine();if(q===null)return this.setNext("stream");if(q[0]===c0.BOM)yield*this.pushCount(1),q=q.substring(1);if(q[0]==="%"){let $=q.length,H=q.indexOf("#");while(H!==-1){let Z=q[H-1];if(Z===" "||Z==="\t"){$=H-1;break}else H=q.indexOf("#",H+1)}while(!0){let Z=q[$-1];if(Z===" "||Z==="\t")$-=1;else break}let X=(yield*this.pushCount($))+(yield*this.pushSpaces(!0));return yield*this.pushCount(q.length-X),this.pushNewline(),"stream"}if(this.atLineEnd()){let $=yield*this.pushSpaces(!0);return yield*this.pushCount(q.length-$),yield*this.pushNewline(),"stream"}return yield c0.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let q=this.charAt(0);if(!q&&!this.atEnd)return this.setNext("line-start");if(q==="-"||q==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let $=this.peek(3);if(($==="---"||$==="...")&&u(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,$==="---"?"doc":"stream"}if(this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!u(this.charAt(1)))this.indentNext=this.indentValue;return yield*this.parseBlockStart()}*parseBlockStart(){let[q,$]=this.peek(2);if(!$&&!this.atEnd)return this.setNext("block-start");if((q==="-"||q==="?"||q===":")&&u($)){let H=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=H,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let q=this.getLine();if(q===null)return this.setNext("doc");let $=yield*this.pushIndicators();switch(q[$]){case"#":yield*this.pushCount(q.length-$);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(r$),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return $+=yield*this.parseBlockScalarHeader(),$+=yield*this.pushSpaces(!0),yield*this.pushCount(q.length-$),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let q,$,H=-1;do{if(q=yield*this.pushNewline(),q>0)$=yield*this.pushSpaces(!1),this.indentValue=H=$;else $=0;$+=yield*this.pushSpaces(!0)}while(q+$>0);let X=this.getLine();if(X===null)return this.setNext("flow");if(H!==-1&&H<this.indentNext&&X[0]!=="#"||H===0&&(X.startsWith("---")||X.startsWith("..."))&&u(X[3])){if(!(H===this.indentNext-1&&this.flowLevel===1&&(X[0]==="]"||X[0]==="}")))return this.flowLevel=0,yield c0.FLOW_END,yield*this.parseLineStart()}let Z=0;while(X[Z]===",")Z+=yield*this.pushCount(1),Z+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(Z+=yield*this.pushIndicators(),X[Z]){case void 0:return"flow";case"#":return yield*this.pushCount(X.length-Z),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(r$),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let G=this.charAt(1);if(this.flowKey||u(G)||G===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let q=this.charAt(0),$=this.buffer.indexOf(q,this.pos+1);if(q==="'")while($!==-1&&this.buffer[$+1]==="'")$=this.buffer.indexOf("'",$+2);else while($!==-1){let Z=0;while(this.buffer[$-1-Z]==="\\")Z+=1;if(Z%2===0)break;$=this.buffer.indexOf('"',$+1)}let H=this.buffer.substring(0,$),X=H.indexOf(`
`,this.pos);if(X!==-1){while(X!==-1){let Z=this.continueScalar(X+1);if(Z===-1)break;X=H.indexOf(`
`,Z)}if(X!==-1)$=X-(H[X-1]==="\r"?2:1)}if($===-1){if(!this.atEnd)return this.setNext("quoted-scalar");$=this.buffer.length}return yield*this.pushToIndex($+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let q=this.pos;while(!0){let $=this.buffer[++q];if($==="+")this.blockScalarKeep=!0;else if($>"0"&&$<="9")this.blockScalarIndent=Number($)-1;else if($!=="-")break}return yield*this.pushUntil(($)=>u($)||$==="#")}*parseBlockScalar(){let q=this.pos-1,$=0,H;q:for(let Z=this.pos;H=this.buffer[Z];++Z)switch(H){case" ":$+=1;break;case`
`:q=Z,$=0;break;case"\r":{let G=this.buffer[Z+1];if(!G&&!this.atEnd)return this.setNext("block-scalar");if(G===`
`)break}default:break q}if(!H&&!this.atEnd)return this.setNext("block-scalar");if($>=this.indentNext){if(this.blockScalarIndent===-1)this.indentNext=$;else this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let Z=this.continueScalar(q+1);if(Z===-1)break;q=this.buffer.indexOf(`
`,Z)}while(q!==-1);if(q===-1){if(!this.atEnd)return this.setNext("block-scalar");q=this.buffer.length}}let X=q+1;H=this.buffer[X];while(H===" ")H=this.buffer[++X];if(H==="\t"){while(H==="\t"||H===" "||H==="\r"||H===`
`)H=this.buffer[++X];q=X-1}else if(!this.blockScalarKeep)do{let Z=q-1,G=this.buffer[Z];if(G==="\r")G=this.buffer[--Z];let Q=Z;while(G===" ")G=this.buffer[--Z];if(G===`
`&&Z>=this.pos&&Z+1+$>Q)q=Z;else break}while(!0);return yield c0.SCALAR,yield*this.pushToIndex(q+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let q=this.flowLevel>0,$=this.pos-1,H=this.pos-1,X;while(X=this.buffer[++H])if(X===":"){let Z=this.buffer[H+1];if(u(Z)||q&&kq.has(Z))break;$=H}else if(u(X)){let Z=this.buffer[H+1];if(X==="\r")if(Z===`
`)H+=1,X=`
`,Z=this.buffer[H+1];else $=H;if(Z==="#"||q&&kq.has(Z))break;if(X===`
`){let G=this.continueScalar(H+1);if(G===-1)break;H=Math.max(H,G-2)}}else{if(q&&kq.has(X))break;$=H}if(!X&&!this.atEnd)return this.setNext("plain-scalar");return yield c0.SCALAR,yield*this.pushToIndex($+1,!0),q?"flow":"doc"}*pushCount(q){if(q>0)return yield this.buffer.substr(this.pos,q),this.pos+=q,q;return 0}*pushToIndex(q,$){let H=this.buffer.slice(this.pos,q);if(H)return yield H,this.pos+=H.length,H.length;else if($)yield"";return 0}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(r$))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let q=this.flowLevel>0,$=this.charAt(1);if(u($)||q&&kq.has($)){if(!q)this.indentNext=this.indentValue+1;else if(this.flowKey)this.flowKey=!1;return(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}}return 0}*pushTag(){if(this.charAt(1)==="<"){let q=this.pos+2,$=this.buffer[q];while(!u($)&&$!==">")$=this.buffer[++q];return yield*this.pushToIndex($===">"?q+1:q,!1)}else{let q=this.pos+1,$=this.buffer[q];while($)if(qG.has($))$=this.buffer[++q];else if($==="%"&&n9.has(this.buffer[q+1])&&n9.has(this.buffer[q+2]))$=this.buffer[q+=3];else break;return yield*this.pushToIndex(q,!1)}}*pushNewline(){let q=this.buffer[this.pos];if(q===`
`)return yield*this.pushCount(1);else if(q==="\r"&&this.charAt(1)===`
`)return yield*this.pushCount(2);else return 0}*pushSpaces(q){let $=this.pos-1,H;do H=this.buffer[++$];while(H===" "||q&&H==="\t");let X=$-this.pos;if(X>0)yield this.buffer.substr(this.pos,X),this.pos=$;return X}*pushUntil(q){let $=this.pos,H=this.buffer[$];while(!q(H))H=this.buffer[++$];return yield*this.pushToIndex($,!1)}}HG.Lexer=o9});var o$=_((ZG)=>{class t9{constructor(){this.lineStarts=[],this.addNewLine=(q)=>this.lineStarts.push(q),this.linePos=(q)=>{let $=0,H=this.lineStarts.length;while($<H){let Z=$+H>>1;if(this.lineStarts[Z]<q)$=Z+1;else H=Z}if(this.lineStarts[$]===q)return{line:$+1,col:1};if($===0)return{line:0,col:q};let X=this.lineStarts[$-1];return{line:$,col:q-X+1}}}}ZG.LineCounter=t9});var t$=_((zG)=>{var QG=d("process"),e9=xq(),JG=n$();function e(q,$){for(let H=0;H<q.length;++H)if(q[H].type===$)return!0;return!1}function q4(q){for(let $=0;$<q.length;++$)switch(q[$].type){case"space":case"comment":case"newline":break;default:return $}return-1}function H4(q){switch(q?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function uq(q){switch(q.type){case"document":return q.start;case"block-map":{let $=q.items[q.items.length-1];return $.sep??$.start}case"block-seq":return q.items[q.items.length-1].start;default:return[]}}function M0(q){if(q.length===0)return[];let $=q.length;q:while(--$>=0)switch(q[$].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break q}while(q[++$]?.type==="space");return q.splice($,q.length)}function $4(q){if(q.start.type==="flow-seq-start"){for(let $ of q.items)if($.sep&&!$.value&&!e($.start,"explicit-key-ind")&&!e($.sep,"map-value-ind")){if($.key)$.value=$.key;if(delete $.key,H4($.value))if($.value.end)Array.prototype.push.apply($.value.end,$.sep);else $.value.end=$.sep;else Array.prototype.push.apply($.start,$.sep);delete $.sep}}}class X4{constructor(q){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new JG.Lexer,this.onNewLine=q}*parse(q,$=!1){if(this.onNewLine&&this.offset===0)this.onNewLine(0);for(let H of this.lexer.lex(q,$))yield*this.next(H);if(!$)yield*this.end()}*next(q){if(this.source=q,QG.env.LOG_TOKENS)console.log("|",e9.prettyToken(q));if(this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=q.length;return}let $=e9.tokenType(q);if(!$){let H=`Not a YAML token: ${q}`;yield*this.pop({type:"error",offset:this.offset,message:H,source:q}),this.offset+=q.length}else if($==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=$,yield*this.step(),$){case"newline":if(this.atNewLine=!0,this.indent=0,this.onNewLine)this.onNewLine(this.offset+q.length);break;case"space":if(this.atNewLine&&q[0]===" ")this.indent+=q.length;break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":if(this.atNewLine)this.indent+=q.length;break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=q.length}}*end(){while(this.stack.length>0)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let q=this.peek(1);if(this.type==="doc-end"&&(!q||q.type!=="doc-end")){while(this.stack.length>0)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!q)return yield*this.stream();switch(q.type){case"document":return yield*this.document(q);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(q);case"block-scalar":return yield*this.blockScalar(q);case"block-map":return yield*this.blockMap(q);case"block-seq":return yield*this.blockSequence(q);case"flow-collection":return yield*this.flowCollection(q);case"doc-end":return yield*this.documentEnd(q)}yield*this.pop()}peek(q){return this.stack[this.stack.length-q]}*pop(q){let $=q??this.stack.pop();if(!$)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield $;else{let H=this.peek(1);if($.type==="block-scalar")$.indent="indent"in H?H.indent:0;else if($.type==="flow-collection"&&H.type==="document")$.indent=0;if($.type==="flow-collection")$4($);switch(H.type){case"document":H.value=$;break;case"block-scalar":H.props.push($);break;case"block-map":{let X=H.items[H.items.length-1];if(X.value){H.items.push({start:[],key:$,sep:[]}),this.onKeyLine=!0;return}else if(X.sep)X.value=$;else{Object.assign(X,{key:$,sep:[]}),this.onKeyLine=!X.explicitKey;return}break}case"block-seq":{let X=H.items[H.items.length-1];if(X.value)H.items.push({start:[],value:$});else X.value=$;break}case"flow-collection":{let X=H.items[H.items.length-1];if(!X||X.value)H.items.push({start:[],key:$,sep:[]});else if(X.sep)X.value=$;else Object.assign(X,{key:$,sep:[]});return}default:yield*this.pop(),yield*this.pop($)}if((H.type==="document"||H.type==="block-map"||H.type==="block-seq")&&($.type==="block-map"||$.type==="block-seq")){let X=$.items[$.items.length-1];if(X&&!X.sep&&!X.value&&X.start.length>0&&q4(X.start)===-1&&($.indent===0||X.start.every((Z)=>Z.type!=="comment"||Z.indent<$.indent))){if(H.type==="document")H.end=X.start;else H.items.push({start:X.start});$.items.splice(-1,1)}}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let q={type:"document",offset:this.offset,start:[]};if(this.type==="doc-start")q.start.push(this.sourceToken);this.stack.push(q);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(q){if(q.value)return yield*this.lineEnd(q);switch(this.type){case"doc-start":{if(q4(q.start)!==-1)yield*this.pop(),yield*this.step();else q.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":q.start.push(this.sourceToken);return}let $=this.startBlockValue(q);if($)this.stack.push($);else yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(q){if(this.type==="map-value-ind"){let $=uq(this.peek(2)),H=M0($),X;if(q.end)X=q.end,X.push(this.sourceToken),delete q.end;else X=[this.sourceToken];let Z={type:"block-map",offset:q.offset,indent:q.indent,items:[{start:H,key:q,sep:X}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=Z}else yield*this.lineEnd(q)}*blockScalar(q){switch(this.type){case"space":case"comment":case"newline":q.props.push(this.sourceToken);return;case"scalar":if(q.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let $=this.source.indexOf(`
`)+1;while($!==0)this.onNewLine(this.offset+$),$=this.source.indexOf(`
`,$)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(q){let $=q.items[q.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,$.value){let H="end"in $.value?$.value.end:void 0;if((Array.isArray(H)?H[H.length-1]:void 0)?.type==="comment")H?.push(this.sourceToken);else q.items.push({start:[this.sourceToken]})}else if($.sep)$.sep.push(this.sourceToken);else $.start.push(this.sourceToken);return;case"space":case"comment":if($.value)q.items.push({start:[this.sourceToken]});else if($.sep)$.sep.push(this.sourceToken);else{if(this.atIndentedComment($.start,q.indent)){let X=q.items[q.items.length-2]?.value?.end;if(Array.isArray(X)){Array.prototype.push.apply(X,$.start),X.push(this.sourceToken),q.items.pop();return}}$.start.push(this.sourceToken)}return}if(this.indent>=q.indent){let H=!this.onKeyLine&&this.indent===q.indent,X=H&&($.sep||$.explicitKey)&&this.type!=="seq-item-ind",Z=[];if(X&&$.sep&&!$.value){let G=[];for(let Q=0;Q<$.sep.length;++Q){let J=$.sep[Q];switch(J.type){case"newline":G.push(Q);break;case"space":break;case"comment":if(J.indent>q.indent)G.length=0;break;default:G.length=0}}if(G.length>=2)Z=$.sep.splice(G[1])}switch(this.type){case"anchor":case"tag":if(X||$.value)Z.push(this.sourceToken),q.items.push({start:Z}),this.onKeyLine=!0;else if($.sep)$.sep.push(this.sourceToken);else $.start.push(this.sourceToken);return;case"explicit-key-ind":if(!$.sep&&!$.explicitKey)$.start.push(this.sourceToken),$.explicitKey=!0;else if(X||$.value)Z.push(this.sourceToken),q.items.push({start:Z,explicitKey:!0});else this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]});this.onKeyLine=!0;return;case"map-value-ind":if($.explicitKey)if(!$.sep)if(e($.start,"newline"))Object.assign($,{key:null,sep:[this.sourceToken]});else{let G=M0($.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:G,key:null,sep:[this.sourceToken]}]})}else if($.value)q.items.push({start:[],key:null,sep:[this.sourceToken]});else if(e($.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:Z,key:null,sep:[this.sourceToken]}]});else if(H4($.key)&&!e($.sep,"newline")){let G=M0($.start),Q=$.key,J=$.sep;J.push(this.sourceToken),delete $.key,delete $.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:G,key:Q,sep:J}]})}else if(Z.length>0)$.sep=$.sep.concat(Z,this.sourceToken);else $.sep.push(this.sourceToken);else if(!$.sep)Object.assign($,{key:null,sep:[this.sourceToken]});else if($.value||X)q.items.push({start:Z,key:null,sep:[this.sourceToken]});else if(e($.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]});else $.sep.push(this.sourceToken);this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let G=this.flowScalar(this.type);if(X||$.value)q.items.push({start:Z,key:G,sep:[]}),this.onKeyLine=!0;else if($.sep)this.stack.push(G);else Object.assign($,{key:G,sep:[]}),this.onKeyLine=!0;return}default:{let G=this.startBlockValue(q);if(G){if(G.type==="block-seq"){if(!$.explicitKey&&$.sep&&!e($.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else if(H)q.items.push({start:Z});this.stack.push(G);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(q){let $=q.items[q.items.length-1];switch(this.type){case"newline":if($.value){let H="end"in $.value?$.value.end:void 0;if((Array.isArray(H)?H[H.length-1]:void 0)?.type==="comment")H?.push(this.sourceToken);else q.items.push({start:[this.sourceToken]})}else $.start.push(this.sourceToken);return;case"space":case"comment":if($.value)q.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment($.start,q.indent)){let X=q.items[q.items.length-2]?.value?.end;if(Array.isArray(X)){Array.prototype.push.apply(X,$.start),X.push(this.sourceToken),q.items.pop();return}}$.start.push(this.sourceToken)}return;case"anchor":case"tag":if($.value||this.indent<=q.indent)break;$.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==q.indent)break;if($.value||e($.start,"seq-item-ind"))q.items.push({start:[this.sourceToken]});else $.start.push(this.sourceToken);return}if(this.indent>q.indent){let H=this.startBlockValue(q);if(H){this.stack.push(H);return}}yield*this.pop(),yield*this.step()}*flowCollection(q){let $=q.items[q.items.length-1];if(this.type==="flow-error-end"){let H;do yield*this.pop(),H=this.peek(1);while(H&&H.type==="flow-collection")}else if(q.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":if(!$||$.sep)q.items.push({start:[this.sourceToken]});else $.start.push(this.sourceToken);return;case"map-value-ind":if(!$||$.value)q.items.push({start:[],key:null,sep:[this.sourceToken]});else if($.sep)$.sep.push(this.sourceToken);else Object.assign($,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":if(!$||$.value)q.items.push({start:[this.sourceToken]});else if($.sep)$.sep.push(this.sourceToken);else $.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let X=this.flowScalar(this.type);if(!$||$.value)q.items.push({start:[],key:X,sep:[]});else if($.sep)this.stack.push(X);else Object.assign($,{key:X,sep:[]});return}case"flow-map-end":case"flow-seq-end":q.end.push(this.sourceToken);return}let H=this.startBlockValue(q);if(H)this.stack.push(H);else yield*this.pop(),yield*this.step()}else{let H=this.peek(2);if(H.type==="block-map"&&(this.type==="map-value-ind"&&H.indent===q.indent||this.type==="newline"&&!H.items[H.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&H.type!=="flow-collection"){let X=uq(H),Z=M0(X);$4(q);let G=q.end.splice(1,q.end.length);G.push(this.sourceToken);let Q={type:"block-map",offset:q.offset,indent:q.indent,items:[{start:Z,key:q,sep:G}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=Q}else yield*this.lineEnd(q)}}flowScalar(q){if(this.onNewLine){let $=this.source.indexOf(`
`)+1;while($!==0)this.onNewLine(this.offset+$),$=this.source.indexOf(`
`,$)+1}return{type:q,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(q){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let $=uq(q),H=M0($);return H.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:H,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let $=uq(q),H=M0($);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:H,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(q,$){if(this.type!=="comment")return!1;if(this.indent<=$)return!1;return q.every((H)=>H.type==="newline"||H.type==="space")}*documentEnd(q){if(this.type!=="doc-mode"){if(q.end)q.end.push(this.sourceToken);else q.end=[this.sourceToken];if(this.type==="newline")yield*this.pop()}}*lineEnd(q){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:if(q.end)q.end.push(this.sourceToken);else q.end=[this.sourceToken];if(this.type==="newline")yield*this.pop()}}}zG.Parser=X4});var z4=_((LG)=>{var Z4=m$(),UG=m0(),a0=p0(),YG=oq(),IG=K(),OG=o$(),G4=t$();function Q4(q){let $=q.prettyErrors!==!1;return{lineCounter:q.lineCounter||$&&new OG.LineCounter||null,prettyErrors:$}}function VG(q,$={}){let{lineCounter:H,prettyErrors:X}=Q4($),Z=new G4.Parser(H?.addNewLine),G=new Z4.Composer($),Q=Array.from(G.compose(Z.parse(q)));if(X&&H)for(let J of Q)J.errors.forEach(a0.prettifyError(q,H)),J.warnings.forEach(a0.prettifyError(q,H));if(Q.length>0)return Q;return Object.assign([],{empty:!0},G.streamInfo())}function J4(q,$={}){let{lineCounter:H,prettyErrors:X}=Q4($),Z=new G4.Parser(H?.addNewLine),G=new Z4.Composer($),Q=null;for(let J of G.compose(Z.parse(q),!0,q.length))if(!Q)Q=J;else if(Q.options.logLevel!=="silent"){Q.errors.push(new a0.YAMLParseError(J.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}if(X&&H)Q.errors.forEach(a0.prettifyError(q,H)),Q.warnings.forEach(a0.prettifyError(q,H));return Q}function WG(q,$,H){let X=void 0;if(typeof $==="function")X=$;else if(H===void 0&&$&&typeof $==="object")H=$;let Z=J4(q,H);if(!Z)return null;if(Z.warnings.forEach((G)=>YG.warn(Z.options.logLevel,G)),Z.errors.length>0)if(Z.options.logLevel!=="silent")throw Z.errors[0];else Z.errors=[];return Z.toJS(Object.assign({reviver:X},H))}function _G(q,$,H){let X=null;if(typeof $==="function"||Array.isArray($))X=$;else if(H===void 0&&$)H=$;if(typeof H==="string")H=H.length;if(typeof H==="number"){let Z=Math.round(H);H=Z<1?void 0:Z>8?{indent:8}:{indent:Z}}if(q===void 0){let{keepUndefined:Z}=H??$??{};if(!Z)return}if(IG.isDocument(q)&&!X)return q.toString(H);return new UG.Document(q,X,H).toString(H)}LG.parse=WG;LG.parseAllDocuments=VG;LG.parseDocument=J4;LG.stringify=_G});import U0 from"node:fs/promises";import G3 from"node:os";import o0 from"node:path";import x from"node:fs/promises";import q2 from"node:path";var AG=m$(),MG=m0(),PG=K$(),e$=p0(),KG=w0(),q0=K(),wG=r(),NG=N(),bG=o(),SG=t(),w7=xq(),jG=n$(),CG=o$(),EG=t$(),hq=z4(),B4=P0();var yG=AG.Composer,fG=MG.Document,gG=PG.Schema,xG=e$.YAMLError,kG=e$.YAMLParseError,uG=e$.YAMLWarning,hG=KG.Alias,vG=q0.isAlias,mG=q0.isCollection,pG=q0.isDocument,dG=q0.isMap,lG=q0.isNode,sG=q0.isPair,cG=q0.isScalar,aG=q0.isSeq,iG=wG.Pair,rG=NG.Scalar,nG=bG.YAMLMap,oG=SG.YAMLSeq;var tG=jG.Lexer,eG=CG.LineCounter,q3=EG.Parser,vq=hq.parse,$3=hq.parseAllDocuments,H3=hq.parseDocument,mq=hq.stringify,X3=B4.visit,Z3=B4.visitAsync;var y={getConfigPath(q,$){let H=$0.validatePath(q.configFile);return $0.safeJoin($,H)},async readConfig(q,$){let H=y.getConfigPath(q,$);try{await x.access(H)}catch{return{}}if(q.configFile.endsWith(".jsonc")){let{readJSONCFile:X}=await import("./jsonc-zyyzjqr9.js");return X(H)}if(q.configFile.endsWith(".json")){let X=await x.readFile(H,"utf8");return JSON.parse(X)}if(q.configFile.endsWith(".yaml")||q.configFile.endsWith(".yml")){let X=await x.readFile(H,"utf8");return vq(X)}throw Error(`Unsupported config file format: ${q.configFile}`)},async writeConfig(q,$,H){let X=y.getConfigPath(q,$);if(await x.mkdir(q2.dirname(X),{recursive:!0}),q.configFile.endsWith(".jsonc")){let{writeJSONCFile:Z}=await import("./jsonc-zyyzjqr9.js");await Z(X,H,q.configSchema||void 0)}else if(q.configFile.endsWith(".json")){let Z=JSON.stringify(H,null,2);await x.writeFile(X,Z,"utf8")}else if(q.configFile.endsWith(".yaml")||q.configFile.endsWith(".yml")){let Z=mq(H);await x.writeFile(X,Z,"utf8")}else throw Error(`Unsupported config file format: ${q.configFile}`)},async validateRequirements(q,$){let H=$0.safeJoin($,q.agentDir);try{await x.mkdir(H,{recursive:!0});let X=$0.safeJoin(H,".sylphx-test");await x.writeFile(X,"test","utf8"),await x.unlink(X)}catch(X){throw Error(`Cannot write to agent directory ${H}: ${X}`)}if(q.installation.createConfigFile){let X=await y.getConfigPath(q,$);try{let Z=q2.dirname(X);await x.mkdir(Z,{recursive:!0});let G=$0.safeJoin(Z,".sylphx-test");await x.writeFile(G,"test","utf8"),await x.unlink(G)}catch(Z){throw Error(`Cannot write to config file location ${X}: ${Z}`)}}}},E={async extractFrontMatter(q){let $=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,H=q.match($);if(H)try{return{metadata:vq(H[1]),content:H[2]}}catch(X){return console.warn("Failed to parse YAML front matter:",X),{metadata:{},content:H[2]}}return{metadata:{},content:q}},async addFrontMatter(q,$){if(!$||Object.keys($).length===0)return q;try{return`---
${mq($)}---

${q}`}catch(H){return console.warn("Failed to stringify YAML metadata:",H),`---
${JSON.stringify($,null,2)}---

${q}`}},async stripFrontMatter(q){let{content:$}=await E.extractFrontMatter(q);return $},hasValidFrontMatter(q){return/^---\s*\n[\s\S]*?\n---\s*\n/.test(q)},async ensureFrontMatter(q,$={}){if(E.hasValidFrontMatter(q))return q;return E.addFrontMatter(q,$)},async extractAgentMetadata(q){let{metadata:$}=await E.extractFrontMatter(q);if(typeof $==="string")try{return JSON.parse($)}catch{return{raw:$}}return $||{}},async updateAgentMetadata(q,$){let{metadata:H,content:X}=await E.extractFrontMatter(q),Z={...H,...$};return E.addFrontMatter(X,Z)},validateClaudeCodeFrontMatter(q){if(typeof q!=="object"||q===null)return!1;let $=["name","description"];for(let H of $)if(!q[H])return!1;if(q.tools&&!Array.isArray(q.tools))return!1;return!0},normalizeClaudeCodeFrontMatter(q){let $={...q};if($.tools&&typeof $.tools==="string")$.tools=[$.tools];if(!$.model)$.model="inherit";return $}},r0={flattenPath(q){let $=q2.parse(q),H=$.dir.replace(/[\/\\]/g,"-");return H?`${H}-${$.name}`:$.name},getAgentFilePath(q,$,H){if(!q||typeof q!=="string")throw Error("Source path must be a non-empty string");if(q.includes("..")||q.startsWith("/")||q.startsWith("\\"))throw Error(`Invalid source path: ${q}`);if($.flatten){let Q=`${r0.flattenPath(q)}${$.agentExtension}`;return $0.safeJoin(H,Q)}let X=n0.fileName(q);return $0.safeJoin(H,X+$.agentExtension)},extractNameFromPath(q){if(!q)return null;let $=q.replace(/\.md$/,""),X=($.split("/").pop()||$).toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),Z={constitution:"sdd-constitution",implement:"sdd-implement",clarify:"sdd-clarify",release:"sdd-release",task:"sdd-task",plan:"sdd-plan",specify:"sdd-specify",analyze:"sdd-analyze",orchestrator:"sdd-development-orchestrator",coder:"core-coder",planner:"core-planner",researcher:"core-researcher",reviewer:"core-reviewer",tester:"core-tester",scout:"hive-mind-scout-explorer",collective:"hive-mind-collective-intelligence-coordinator",worker:"hive-mind-worker-specialist",memory:"hive-mind-swarm-memory-manager",queen:"hive-mind-queen-coordinator"};for(let[G,Q]of Object.entries(Z))if(X.includes(G))return Q;return X||null},extractAgentName(q,$,H){if(H){let Z=r0.extractNameFromPath(H);if(Z)return Z}let X=q.match(/^#\s+(.+?)(?:\s+Agent)?$/m);if(X){let G=X[1].trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return G+(G.includes("agent")?"":"-agent")}if($.description){let Z=$.description.toLowerCase(),G={coder:"code-implementation-agent",reviewer:"code-reviewer",planner:"development-planner",researcher:"research-specialist",tester:"quality-tester",analyze:"analysis-specialist",orchestrator:"development-orchestrator"};for(let[Q,J]of Object.entries(G))if(Z.includes(Q))return J}return"development-agent"},extractDescription(q){let $=q.match(/^#\s+.+?\n\n(.+?)(?:\n\n|\n#|$)/s);if($)return $[1].trim().replace(/\n+/g," ");return"Development agent for specialized tasks"}};function pq(q){let $="";if($+=`Agent Installation:
`,$+=`  Directory: ${q.agentDir}
`,$+=`  Extension: ${q.agentExtension}
`,$+=`  Format: ${q.agentFormat}
`,$+=`  Strip YAML: ${q.stripYaml?"Yes":"No"}
`,$+=`  Flatten Structure: ${q.flatten?"Yes":"No"}

`,q.installation.supportedMcpServers)$+=`MCP Server Support:
`,$+=`  Config Path: ${q.mcpConfigPath}
`,$+=`  Supported: Yes

`;else $+=`MCP Server Support: Not yet implemented

`;return $}var Y0={id:"claude-code",name:"Claude Code",description:"Claude Code CLI with YAML front matter agents (.claude/agents/*.md)",category:"cli",isImplemented:!0,isDefault:!1,mcpServerConfig:{disableMemory:!0,disableTime:!1,disableProjectStartup:!1,disableKnowledge:!1,disableCodebase:!0},config:{agentDir:".claude/agents",agentExtension:".md",agentFormat:"yaml-frontmatter",stripYaml:!1,flatten:!1,configFile:".mcp.json",configSchema:null,mcpConfigPath:"mcpServers",rulesFile:"CLAUDE.md",installation:{createAgentDir:!0,createConfigFile:!0,supportedMcpServers:!0,useSecretFiles:!1}},async transformAgentContent(q,$,H){let{metadata:X,content:Z}=await E.extractFrontMatter(q),G=Q3(X,Z,H);if($)Object.assign(G,$);return E.addFrontMatter(Z,G)},transformMCPConfig(q,$){if(q.type==="local"){let[H,...X]=q.command;return{type:"stdio",command:H,...X&&X.length>0&&{args:X},...q.environment&&{env:q.environment}}}if(q.type==="stdio")return{type:"stdio",command:q.command,...q.args&&q.args.length>0&&{args:q.args},...q.env&&{env:q.env}};if(q.type==="remote")return{type:"http",url:q.url,...q.headers&&{headers:q.headers}};if(q.type==="http")return{type:"http",url:q.url,...q.headers&&{headers:q.headers}};return q},getConfigPath:(q)=>Promise.resolve(y.getConfigPath(Y0.config,q)),async readConfig(q){let $=await y.readConfig(Y0.config,q);if(!$.mcpServers)$.mcpServers={};return $},async writeConfig(q,$){if(!$.mcpServers)$.mcpServers={};await y.writeConfig(Y0.config,q,$)},validateRequirements:(q)=>y.validateRequirements(Y0.config,q),getHelpText(){let q=pq(Y0.config);return q+=`Claude Code-Specific Information:
`,q+=`  Configuration File: .mcp.json
`,q+=`  Agent Format: Markdown with YAML front matter
`,q+=`  MCP Integration: Full server support

`,q+=`Example Agent Structure:
`,q+=`  ---
`,q+=`  name: "code-reviewer"
`,q+=`  description: "Expert code review specialist"
`,q+=`  ---

`,q+=`  Agent content here...

`,q+=`Note: Only 'name' and 'description' fields are supported.
`,q+=`Tools field omitted to allow all tools by default (whitelist model limitation).
`,q+=`Unsupported fields (mode, temperature, etc.) are automatically removed.

`,q+=`Example MCP Configuration:
`,q+=`  {
`,q+=`    "mcpServers": {
`,q+=`      "filesystem": {
`,q+=`        "type": "stdio",
`,q+=`        "command": "npx",
`,q+=`        "args": ["@modelcontextprotocol/server-filesystem", "/path/to/allowed/dir"]
`,q+=`      },
`,q+=`      "git": {
`,q+=`        "type": "stdio",
`,q+=`        "command": "npx",
`,q+=`        "args": ["@modelcontextprotocol/server-git", "."],
`,q+=`        "env": {
`,q+=`          "GIT_TRACE": "1"
`,q+=`        }
`,q+=`      },
`,q+=`      "api-server": {
`,q+=`        "type": "http",
`,q+=`        "url": "https://api.example.com/mcp",
`,q+=`        "headers": {
`,q+=`          "Authorization": "Bearer $API_KEY"
`,q+=`        }
`,q+=`      }
`,q+=`    }
`,q+=`  }

`,q+=`Note: Environment variables can be expanded in command, args, env, url, and headers.

`,q},async executeCommand(q,$,H={}){let X=n0.yamlContent(q),Z=n0.string($,1e4),G=`${X}

Please begin your response with a comprehensive summary of all the instructions and context provided above.`;if(H.dryRun){console.log("Dry run: Would execute Claude Code with --append-system-prompt"),console.log("System prompt to append length:",G.length,"characters"),console.log("User prompt length:",Z.length,"characters"),console.log(" Dry run completed successfully");return}let{CLIError:Q}=await import("./error-handler-q36peasz.js");try{let J=await U0.mkdtemp(o0.join(G3.tmpdir(),"claude-system-prompt-")),z=o0.join(J,"system-prompt.txt");try{await U0.writeFile(z,G,"utf8");let B=["--dangerously-skip-permissions"],O=G,U=8000;if(G.length>U){if(O=G.substring(0,U)+`

[NOTE: Agent instructions were truncated due to length. Full instructions available in project documentation.]`,H.verbose)console.warn(`  Warning: System prompt truncated from ${G.length} to ${U} characters`)}if(B.push("--system-prompt",O),Z.trim()!=="")B.push(Z);if(H.verbose)console.log("\uD83D\uDE80 Executing Claude Code with system prompt"),console.log(`\uD83D\uDCDD System prompt length: ${O.length} characters${O.length<G.length?` (truncated from ${G.length})`:""}`),console.log(`\uD83D\uDCDD User prompt length: ${Z.length} characters`);let{spawn:Y}=await import("child_process");await new Promise((W,L)=>{let I=Y("claude",B,{stdio:"inherit",shell:!1});I.on("close",(V)=>{if(V===0)W();else{let T=Error(`Claude Code exited with code ${V}`);T.code=V,L(T)}}),I.on("error",(V)=>{L(V)})})}finally{try{await U0.rm(J,{recursive:!0,force:!0})}catch(B){if(H.verbose)console.warn("  Warning: Failed to clean up temporary file:",B)}}}catch(J){if(J.code==="ENOENT")throw new Q("Claude Code not found. Please install it first.","CLAUDE_NOT_FOUND");else if(J.code)throw new Q(`Claude Code exited with code ${J.code}`,"CLAUDE_ERROR");else throw new Q(`Failed to execute Claude Code: ${J.message}`,"CLAUDE_ERROR")}},detectFromEnvironment(){try{let q=process.cwd();return U0.existsSync(o0.join(q,".mcp.json"))}catch{return!1}},async approveMCPServers(q,$){let H=o0.join(q,".claude","settings.local.json");try{let X={};try{let Q=await U0.readFile(H,"utf8");X=JSON.parse(Q)}catch(Q){if(Q.code!=="ENOENT")throw Q}let Z=Array.isArray(X.enabledMcpjsonServers)?X.enabledMcpjsonServers:[],G=[...new Set([...Z,...$])];X.enabledMcpjsonServers=G,await U0.mkdir(o0.dirname(H),{recursive:!0}),await U0.writeFile(H,JSON.stringify(X,null,2)+`
`,"utf8")}catch(X){throw Error(`Failed to approve MCP servers: ${X instanceof Error?X.message:String(X)}`)}}};function Q3(q,$,H){let X=q.name||r0.extractAgentName($,q,H),Z=q.description||r0.extractDescription($),G={name:X,description:Z};if(q.model&&q.model!=="inherit")G.model=q.model;return G}import J3 from"node:fs";import z3 from"node:path";var H0={id:"opencode",name:"OpenCode",description:"OpenCode IDE with YAML front matter agents (.opencode/agent/*.md)",category:"ide",isImplemented:!0,isDefault:!0,mcpServerConfig:{disableMemory:!0,disableTime:!1,disableProjectStartup:!1,disableKnowledge:!1,disableCodebase:!1},config:{agentDir:".opencode/agent",agentExtension:".md",agentFormat:"yaml-frontmatter",stripYaml:!1,flatten:!1,configFile:"opencode.jsonc",configSchema:"https://opencode.ai/config.json",mcpConfigPath:"mcp",rulesFile:"AGENTS.md",installation:{createAgentDir:!0,createConfigFile:!0,supportedMcpServers:!0,useSecretFiles:!0}},async transformAgentContent(q,$,H){let{metadata:X,content:Z}=await E.extractFrontMatter(q),{name:G,...Q}=X;if($){let{name:J,...z}=$,B={...Q,...z};return E.addFrontMatter(Z,B)}return E.addFrontMatter(Z,Q)},transformMCPConfig(q,$){if(q.type==="stdio"){let H={type:"local",command:[q.command]};if(q.args&&q.args.length>0)H.command.push(...q.args);if(q.env)H.environment=q.env;return H}if(q.type==="http")return{type:"remote",url:q.url,...q.headers&&{headers:q.headers}};if(q.type==="local"||q.type==="remote")return q;return q},getConfigPath:(q)=>Promise.resolve(y.getConfigPath(H0.config,q)),async readConfig(q){let $=await y.readConfig(H0.config,q),H=await t0.resolveFileReferences(q,$);if(!H.mcp)H.mcp={};return H},async writeConfig(q,$){if(!$.mcp)$.mcp={};if(H0.config.installation?.useSecretFiles){let{MCP_SERVER_REGISTRY:H}=await import("./servers-5sht3sst.js");for(let[X,Z]of Object.entries($.mcp||{}))if(Z&&typeof Z==="object"&&"environment"in Z){let G=Z.environment;if(G&&typeof G==="object"){let Q=Object.values(H).find((J)=>J.name===X);if(Q&&Q.envVars){let J={},z={};for(let[O,U]of Object.entries(G))if(Q.envVars[O]?.secret&&U&&!t0.isFileReference(U))J[O]=U;else z[O]=U;let B=await t0.convertSecretsToFileReferences(q,J);Z.environment={...z,...B}}}}}await y.writeConfig(H0.config,q,$)},validateRequirements:(q)=>y.validateRequirements(H0.config,q),getHelpText(){let q=pq(H0.config);return q+=`OpenCode-Specific Information:
`,q+=`  Configuration File: opencode.jsonc
`,q+=`  Schema: https://opencode.ai/config.json
`,q+=`  Agent Format: Markdown with YAML front matter
`,q+=`  MCP Integration: Automatic server discovery

`,q+=`Example Agent Structure:
`,q+=`  ---
`,q+=`  name: "My Agent"
`,q+=`  description: "Agent description"
`,q+=`  ---

`,q+=`  Agent content here...

`,q},detectFromEnvironment(){try{let q=process.cwd();return J3.existsSync(z3.join(q,"opencode.jsonc"))}catch{return!1}}};class U4{targets=[];register(q){this.targets.push(q)}getAllTargets(){return[...this.targets]}getImplementedTargets(){return this.targets.filter((q)=>q.isImplemented)}getAllTargetIDs(){return this.targets.map((q)=>q.id)}getImplementedTargetIDs(){return this.getImplementedTargets().map((q)=>q.id)}getTarget(q){return this.targets.find(($)=>$.id===q)}getDefaultTarget(){let q=this.targets.find(($)=>$.isDefault);if(!q)throw Error("No default target configured");return q}getTargetsWithMCPSupport(){return this.getImplementedTargets().filter((q)=>q.config.installation.supportedMcpServers)}isTargetImplemented(q){return this.getTarget(q)?.isImplemented??!1}initialize(){if(this.targets.length>0)return;this.register(H0),this.register(Y0)}}var l=new U4;l.initialize();var r7=()=>l.getAllTargets(),n7=()=>l.getImplementedTargets(),o7=()=>l.getAllTargetIDs(),t7=()=>l.getImplementedTargetIDs(),e7=()=>l.getDefaultTarget().id,qQ=(q)=>l.getTarget(q),$Q=(q)=>l.isTargetImplemented(q),HQ=()=>l.getTargetsWithMCPSupport().map((q)=>q.id);export{l as targetRegistry,$Q as isTargetImplemented,HQ as getTargetsWithMCPSupport,qQ as getTarget,t7 as getImplementedTargetIDs,e7 as getDefaultTarget,o7 as getAllTargetIDs,U4 as TargetRegistry,n7 as IMPLEMENTED_TARGETS,r7 as ALL_TARGETS};
export{l as K,o7 as L,t7 as M,e7 as N,qQ as O,HQ as P};
