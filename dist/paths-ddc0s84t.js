import{O as H}from"./index-80tcgmn1.js";import"./index-462c1h61.js";import J from"node:fs";import q from"node:path";import{fileURLToPath as M}from"node:url";function N(){let k=M(import.meta.url),z=k.lastIndexOf("/dist/");if(z===-1){let B=k.lastIndexOf("/src/");if(B!==-1){let F=k.substring(0,B),G=q.join(F,"dist");if(J.existsSync(G))return G;return F}throw Error("Code must run from dist/ directory or be in a project with dist/ available")}return k.substring(0,z+5)}var C=q.join(N(),"assets");function Q(){return q.join(C,"agents")}function V(){return q.join(C,"templates")}function K(){return q.join(C,"rules")}function $(){return q.join(C,"knowledge")}function b(k){if(!k||typeof k!=="string")throw Error("Filename must be a non-empty string");if(k.includes("..")||k.includes("/")||k.includes("\\"))throw Error(`Invalid filename: ${k}. Path traversal not allowed.`);if(!/^[a-zA-Z0-9._-]+$/.test(k))throw Error(`Filename contains invalid characters: ${k}`);let z=K(),B=H.safeJoin(z,k);if(!J.existsSync(B))throw Error(`Rule file not found: ${k} (looked in ${z})`);return B}function v(){return{assetsRoot:C,agents:Q(),templates:V(),rules:K()}}export{V as getTemplatesDir,K as getRulesDir,b as getRuleFile,v as getPathsInfo,$ as getKnowledgeDir,Q as getAgentsDir};
export{Q as y,V as z,$ as A,b as B};
