import{u as V6,v as a,x as w}from"./index-mgwr4yq4.js";var KR=a((ep,BC)=>{var Ki,bi,ni,Ei,$i,pi,ri,Xi,Gi,xi,Fi,ei,li,hC,DD,di,ji,ui,IA,Zi,wi,Ui,Qi,fi,zi,Mi,vi,Vi,CC,mi,Yi,R7;(function(R){var T=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd)define("tslib",["exports"],function(h){R(A(T,A(h)))});else if(typeof BC==="object"&&typeof ep==="object")R(A(T,A(ep)));else R(A(T));function A(h,C){if(h!==T)if(typeof Object.create==="function")Object.defineProperty(h,"__esModule",{value:!0});else h.__esModule=!0;return function(B,D){return h[B]=C?C(B,D):D}}})(function(R){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,D){B.__proto__=D}||function(B,D){for(var _ in D)if(Object.prototype.hasOwnProperty.call(D,_))B[_]=D[_]};Ki=function(B,D){if(typeof D!=="function"&&D!==null)throw TypeError("Class extends value "+String(D)+" is not a constructor or null");T(B,D);function _(){this.constructor=B}B.prototype=D===null?Object.create(D):(_.prototype=D.prototype,new _)},bi=Object.assign||function(B){for(var D,_=1,O=arguments.length;_<O;_++){D=arguments[_];for(var H in D)if(Object.prototype.hasOwnProperty.call(D,H))B[H]=D[H]}return B},ni=function(B,D){var _={};for(var O in B)if(Object.prototype.hasOwnProperty.call(B,O)&&D.indexOf(O)<0)_[O]=B[O];if(B!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var H=0,O=Object.getOwnPropertySymbols(B);H<O.length;H++)if(D.indexOf(O[H])<0&&Object.prototype.propertyIsEnumerable.call(B,O[H]))_[O[H]]=B[O[H]]}return _},Ei=function(B,D,_,O){var H=arguments.length,i=H<3?D:O===null?O=Object.getOwnPropertyDescriptor(D,_):O,J;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(B,D,_,O);else for(var P=B.length-1;P>=0;P--)if(J=B[P])i=(H<3?J(i):H>3?J(D,_,i):J(D,_))||i;return H>3&&i&&Object.defineProperty(D,_,i),i},$i=function(B,D){return function(_,O){D(_,O,B)}},pi=function(B,D,_,O,H,i){function J(dT){if(dT!==void 0&&typeof dT!=="function")throw TypeError("Function expected");return dT}var P=O.kind,U=P==="getter"?"get":P==="setter"?"set":"value",t=!D&&B?O.static?B:B.prototype:null,Y=D||(t?Object.getOwnPropertyDescriptor(t,O.name):{}),WR,xR=!1;for(var AR=_.length-1;AR>=0;AR--){var FR={};for(var fR in O)FR[fR]=fR==="access"?{}:O[fR];for(var fR in O.access)FR.access[fR]=O.access[fR];FR.addInitializer=function(dT){if(xR)throw TypeError("Cannot add initializers after decoration has completed");i.push(J(dT||null))};var HT=(0,_[AR])(P==="accessor"?{get:Y.get,set:Y.set}:Y[U],FR);if(P==="accessor"){if(HT===void 0)continue;if(HT===null||typeof HT!=="object")throw TypeError("Object expected");if(WR=J(HT.get))Y.get=WR;if(WR=J(HT.set))Y.set=WR;if(WR=J(HT.init))H.unshift(WR)}else if(WR=J(HT))if(P==="field")H.unshift(WR);else Y[U]=WR}if(t)Object.defineProperty(t,O.name,Y);xR=!0},ri=function(B,D,_){var O=arguments.length>2;for(var H=0;H<D.length;H++)_=O?D[H].call(B,_):D[H].call(B);return O?_:void 0},Xi=function(B){return typeof B==="symbol"?B:"".concat(B)},Gi=function(B,D,_){if(typeof D==="symbol")D=D.description?"[".concat(D.description,"]"):"";return Object.defineProperty(B,"name",{configurable:!0,value:_?"".concat(_," ",D):D})},xi=function(B,D){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(B,D)},Fi=function(B,D,_,O){function H(i){return i instanceof _?i:new _(function(J){J(i)})}return new(_||(_=Promise))(function(i,J){function P(Y){try{t(O.next(Y))}catch(WR){J(WR)}}function U(Y){try{t(O.throw(Y))}catch(WR){J(WR)}}function t(Y){Y.done?i(Y.value):H(Y.value).then(P,U)}t((O=O.apply(B,D||[])).next())})},ei=function(B,D){var _={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},O,H,i,J=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return J.next=P(0),J.throw=P(1),J.return=P(2),typeof Symbol==="function"&&(J[Symbol.iterator]=function(){return this}),J;function P(t){return function(Y){return U([t,Y])}}function U(t){if(O)throw TypeError("Generator is already executing.");while(J&&(J=0,t[0]&&(_=0)),_)try{if(O=1,H&&(i=t[0]&2?H.return:t[0]?H.throw||((i=H.return)&&i.call(H),0):H.next)&&!(i=i.call(H,t[1])).done)return i;if(H=0,i)t=[t[0]&2,i.value];switch(t[0]){case 0:case 1:i=t;break;case 4:return _.label++,{value:t[1],done:!1};case 5:_.label++,H=t[1],t=[0];continue;case 7:t=_.ops.pop(),_.trys.pop();continue;default:if((i=_.trys,!(i=i.length>0&&i[i.length-1]))&&(t[0]===6||t[0]===2)){_=0;continue}if(t[0]===3&&(!i||t[1]>i[0]&&t[1]<i[3])){_.label=t[1];break}if(t[0]===6&&_.label<i[1]){_.label=i[1],i=t;break}if(i&&_.label<i[2]){_.label=i[2],_.ops.push(t);break}if(i[2])_.ops.pop();_.trys.pop();continue}t=D.call(B,_)}catch(Y){t=[6,Y],H=0}finally{O=i=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},li=function(B,D){for(var _ in B)if(_!=="default"&&!Object.prototype.hasOwnProperty.call(D,_))CC(D,B,_)},CC=Object.create?function(B,D,_,O){if(O===void 0)O=_;var H=Object.getOwnPropertyDescriptor(D,_);if(!H||("get"in H?!D.__esModule:H.writable||H.configurable))H={enumerable:!0,get:function(){return D[_]}};Object.defineProperty(B,O,H)}:function(B,D,_,O){if(O===void 0)O=_;B[O]=D[_]},hC=function(B){var D=typeof Symbol==="function"&&Symbol.iterator,_=D&&B[D],O=0;if(_)return _.call(B);if(B&&typeof B.length==="number")return{next:function(){if(B&&O>=B.length)B=void 0;return{value:B&&B[O++],done:!B}}};throw TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")},DD=function(B,D){var _=typeof Symbol==="function"&&B[Symbol.iterator];if(!_)return B;var O=_.call(B),H,i=[],J;try{while((D===void 0||D-- >0)&&!(H=O.next()).done)i.push(H.value)}catch(P){J={error:P}}finally{try{if(H&&!H.done&&(_=O.return))_.call(O)}finally{if(J)throw J.error}}return i},di=function(){for(var B=[],D=0;D<arguments.length;D++)B=B.concat(DD(arguments[D]));return B},ji=function(){for(var B=0,D=0,_=arguments.length;D<_;D++)B+=arguments[D].length;for(var O=Array(B),H=0,D=0;D<_;D++)for(var i=arguments[D],J=0,P=i.length;J<P;J++,H++)O[H]=i[J];return O},ui=function(B,D,_){if(_||arguments.length===2){for(var O=0,H=D.length,i;O<H;O++)if(i||!(O in D)){if(!i)i=Array.prototype.slice.call(D,0,O);i[O]=D[O]}}return B.concat(i||Array.prototype.slice.call(D))},IA=function(B){return this instanceof IA?(this.v=B,this):new IA(B)},Zi=function(B,D,_){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var O=_.apply(B,D||[]),H,i=[];return H=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),P("next"),P("throw"),P("return",J),H[Symbol.asyncIterator]=function(){return this},H;function J(AR){return function(FR){return Promise.resolve(FR).then(AR,WR)}}function P(AR,FR){if(O[AR]){if(H[AR]=function(fR){return new Promise(function(HT,dT){i.push([AR,fR,HT,dT])>1||U(AR,fR)})},FR)H[AR]=FR(H[AR])}}function U(AR,FR){try{t(O[AR](FR))}catch(fR){xR(i[0][3],fR)}}function t(AR){AR.value instanceof IA?Promise.resolve(AR.value.v).then(Y,WR):xR(i[0][2],AR)}function Y(AR){U("next",AR)}function WR(AR){U("throw",AR)}function xR(AR,FR){if(AR(FR),i.shift(),i.length)U(i[0][0],i[0][1])}},wi=function(B){var D,_;return D={},O("next"),O("throw",function(H){throw H}),O("return"),D[Symbol.iterator]=function(){return this},D;function O(H,i){D[H]=B[H]?function(J){return(_=!_)?{value:IA(B[H](J)),done:!1}:i?i(J):J}:i}},Ui=function(B){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var D=B[Symbol.asyncIterator],_;return D?D.call(B):(B=typeof hC==="function"?hC(B):B[Symbol.iterator](),_={},O("next"),O("throw"),O("return"),_[Symbol.asyncIterator]=function(){return this},_);function O(i){_[i]=B[i]&&function(J){return new Promise(function(P,U){J=B[i](J),H(P,U,J.done,J.value)})}}function H(i,J,P,U){Promise.resolve(U).then(function(t){i({value:t,done:P})},J)}},Qi=function(B,D){if(Object.defineProperty)Object.defineProperty(B,"raw",{value:D});else B.raw=D;return B};var A=Object.create?function(B,D){Object.defineProperty(B,"default",{enumerable:!0,value:D})}:function(B,D){B.default=D},h=function(B){return h=Object.getOwnPropertyNames||function(D){var _=[];for(var O in D)if(Object.prototype.hasOwnProperty.call(D,O))_[_.length]=O;return _},h(B)};fi=function(B){if(B&&B.__esModule)return B;var D={};if(B!=null){for(var _=h(B),O=0;O<_.length;O++)if(_[O]!=="default")CC(D,B,_[O])}return A(D,B),D},zi=function(B){return B&&B.__esModule?B:{default:B}},Mi=function(B,D,_,O){if(_==="a"&&!O)throw TypeError("Private accessor was defined without a getter");if(typeof D==="function"?B!==D||!O:!D.has(B))throw TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?O:_==="a"?O.call(B):O?O.value:D.get(B)},vi=function(B,D,_,O,H){if(O==="m")throw TypeError("Private method is not writable");if(O==="a"&&!H)throw TypeError("Private accessor was defined without a setter");if(typeof D==="function"?B!==D||!H:!D.has(B))throw TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?H.call(B,_):H?H.value=_:D.set(B,_),_},Vi=function(B,D){if(D===null||typeof D!=="object"&&typeof D!=="function")throw TypeError("Cannot use 'in' operator on non-object");return typeof B==="function"?D===B:B.has(D)},mi=function(B,D,_){if(D!==null&&D!==void 0){if(typeof D!=="object"&&typeof D!=="function")throw TypeError("Object expected.");var O,H;if(_){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");O=D[Symbol.asyncDispose]}if(O===void 0){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");if(O=D[Symbol.dispose],_)H=O}if(typeof O!=="function")throw TypeError("Object not disposable.");if(H)O=function(){try{H.call(this)}catch(i){return Promise.reject(i)}};B.stack.push({value:D,dispose:O,async:_})}else if(_)B.stack.push({async:!0});return D};var C=typeof SuppressedError==="function"?SuppressedError:function(B,D,_){var O=Error(_);return O.name="SuppressedError",O.error=B,O.suppressed=D,O};Yi=function(B){function D(i){B.error=B.hasError?new C(i,B.error,"An error was suppressed during disposal."):i,B.hasError=!0}var _,O=0;function H(){while(_=B.stack.pop())try{if(!_.async&&O===1)return O=0,B.stack.push(_),Promise.resolve().then(H);if(_.dispose){var i=_.dispose.call(_.value);if(_.async)return O|=2,Promise.resolve(i).then(H,function(J){return D(J),H()})}else O|=1}catch(J){D(J)}if(O===1)return B.hasError?Promise.reject(B.error):Promise.resolve();if(B.hasError)throw B.error}return H()},R7=function(B,D){if(typeof B==="string"&&/^\.\.?\//.test(B))return B.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(_,O,H,i,J){return O?D?".jsx":".js":H&&(!i||!J)?_:H+i+"."+J.toLowerCase()+"js"});return B},R("__extends",Ki),R("__assign",bi),R("__rest",ni),R("__decorate",Ei),R("__param",$i),R("__esDecorate",pi),R("__runInitializers",ri),R("__propKey",Xi),R("__setFunctionName",Gi),R("__metadata",xi),R("__awaiter",Fi),R("__generator",ei),R("__exportStar",li),R("__createBinding",CC),R("__values",hC),R("__read",DD),R("__spread",di),R("__spreadArrays",ji),R("__spreadArray",ui),R("__await",IA),R("__asyncGenerator",Zi),R("__asyncDelegator",wi),R("__asyncValues",Ui),R("__makeTemplateObject",Qi),R("__importStar",fi),R("__importDefault",zi),R("__classPrivateFieldGet",Mi),R("__classPrivateFieldSet",vi),R("__classPrivateFieldIn",Vi),R("__addDisposableResource",mi),R("__disposeResources",Yi),R("__rewriteRelativeImportExtension",R7)})});var T9=a((T7)=>{Object.defineProperty(T7,"__esModule",{value:!0});T7.encodeUtf8=T7.decodeUtf8=void 0;var SS=new TextDecoder("utf-8"),yS=(R)=>SS.decode(R);T7.decodeUtf8=yS;var gS=new TextEncoder,sS=(R)=>gS.encode(R);T7.encodeUtf8=sS});var jT=a((C7)=>{Object.defineProperty(C7,"__esModule",{value:!0});C7.isFlatbuffersByteBuffer=C7.isReadableNodeStream=C7.isWritableNodeStream=C7.isReadableDOMStream=C7.isWritableDOMStream=C7.isFetchResponse=C7.isFSReadStream=C7.isFileHandle=C7.isUnderlyingSink=C7.isIteratorResult=C7.isArrayLike=C7.isArrowJSON=C7.isAsyncIterable=C7.isIterable=C7.isObservable=C7.isPromise=C7.isObject=void 0;var _D=(R)=>typeof R==="number",h7=(R)=>typeof R==="boolean",LR=(R)=>typeof R==="function",tS=(R)=>R!=null&&Object(R)===R;C7.isObject=tS;var KS=(R)=>{return C7.isObject(R)&&LR(R.then)};C7.isPromise=KS;var bS=(R)=>{return C7.isObject(R)&&LR(R.subscribe)};C7.isObservable=bS;var nS=(R)=>{return C7.isObject(R)&&LR(R[Symbol.iterator])};C7.isIterable=nS;var ES=(R)=>{return C7.isObject(R)&&LR(R[Symbol.asyncIterator])};C7.isAsyncIterable=ES;var $S=(R)=>{return C7.isObject(R)&&C7.isObject(R.schema)};C7.isArrowJSON=$S;var pS=(R)=>{return C7.isObject(R)&&_D(R.length)};C7.isArrayLike=pS;var rS=(R)=>{return C7.isObject(R)&&"done"in R&&"value"in R};C7.isIteratorResult=rS;var XS=(R)=>{return C7.isObject(R)&&LR(R.abort)&&LR(R.close)&&LR(R.start)&&LR(R.write)};C7.isUnderlyingSink=XS;var GS=(R)=>{return C7.isObject(R)&&LR(R.stat)&&_D(R.fd)};C7.isFileHandle=GS;var xS=(R)=>{return C7.isReadableNodeStream(R)&&_D(R.bytesRead)};C7.isFSReadStream=xS;var FS=(R)=>{return C7.isObject(R)&&C7.isReadableDOMStream(R.body)};C7.isFetchResponse=FS;var DC=(R)=>("_getDOMStream"in R)&&("_getNodeStream"in R),eS=(R)=>{return C7.isObject(R)&&LR(R.abort)&&LR(R.getWriter)&&!DC(R)};C7.isWritableDOMStream=eS;var lS=(R)=>{return C7.isObject(R)&&LR(R.cancel)&&LR(R.getReader)&&!DC(R)};C7.isReadableDOMStream=lS;var dS=(R)=>{return C7.isObject(R)&&LR(R.end)&&LR(R.write)&&h7(R.writable)&&!DC(R)};C7.isWritableNodeStream=dS;var jS=(R)=>{return C7.isObject(R)&&LR(R.read)&&LR(R.pipe)&&h7(R.readable)&&!DC(R)};C7.isReadableNodeStream=jS;var uS=(R)=>{return C7.isObject(R)&&LR(R.clear)&&LR(R.bytes)&&LR(R.position)&&LR(R.setPosition)&&LR(R.capacity)&&LR(R.getBufferIdentifier)&&LR(R.createLong)};C7.isFlatbuffersByteBuffer=uS});var bR=a((O7)=>{Object.defineProperty(O7,"__esModule",{value:!0});O7.compareArrayLike=O7.rebaseValueOffsets=O7.toUint8ClampedArrayAsyncIterator=O7.toFloat64ArrayAsyncIterator=O7.toFloat32ArrayAsyncIterator=O7.toUint32ArrayAsyncIterator=O7.toUint16ArrayAsyncIterator=O7.toUint8ArrayAsyncIterator=O7.toInt32ArrayAsyncIterator=O7.toInt16ArrayAsyncIterator=O7.toInt8ArrayAsyncIterator=O7.toArrayBufferViewAsyncIterator=O7.toUint8ClampedArrayIterator=O7.toFloat64ArrayIterator=O7.toFloat32ArrayIterator=O7.toUint32ArrayIterator=O7.toUint16ArrayIterator=O7.toUint8ArrayIterator=O7.toInt32ArrayIterator=O7.toInt16ArrayIterator=O7.toInt8ArrayIterator=O7.toArrayBufferViewIterator=O7.toUint8ClampedArray=O7.toFloat64Array=O7.toFloat32Array=O7.toBigUint64Array=O7.toUint32Array=O7.toUint16Array=O7.toUint8Array=O7.toBigInt64Array=O7.toInt32Array=O7.toInt16Array=O7.toInt8Array=O7.toArrayBufferView=O7.joinUint8Arrays=O7.memcpy=void 0;var gR=KR(),Ay=T9(),kA=jT(),iD=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function hy(R){let T=R[0]?[R[0]]:[],A,h,C,B;for(let D,_,O=0,H=0,i=R.length;++O<i;){if(D=T[H],_=R[O],!D||!_||D.buffer!==_.buffer||_.byteOffset<D.byteOffset){_&&(T[++H]=_);continue}if({byteOffset:A,byteLength:C}=D,{byteOffset:h,byteLength:B}=_,A+C<h||h+B<A){_&&(T[++H]=_);continue}T[H]=new Uint8Array(D.buffer,A,h-A+B)}return T}function OD(R,T,A=0,h=T.byteLength){let C=R.byteLength,B=new Uint8Array(R.buffer,R.byteOffset,C),D=new Uint8Array(T.buffer,T.byteOffset,Math.min(h,C));return B.set(D,A),R}O7.memcpy=OD;function Cy(R,T){let A=hy(R),h=A.reduce((i,J)=>i+J.byteLength,0),C,B,D,_=0,O=-1,H=Math.min(T||Number.POSITIVE_INFINITY,h);for(let i=A.length;++O<i;){if(C=A[O],B=C.subarray(0,Math.min(C.length,H-_)),H<=_+B.length){if(B.length<C.length)A[O]=C.subarray(B.length);else if(B.length===C.length)O++;D?OD(D,B,_):D=B;break}OD(D||(D=new Uint8Array(H)),B,_),_+=B.length}return[D||new Uint8Array(0),A.slice(O),h-(D?D.byteLength:0)]}O7.joinUint8Arrays=Cy;function eR(R,T){let A=(0,kA.isIteratorResult)(T)?T.value:T;if(A instanceof R){if(R===Uint8Array)return new R(A.buffer,A.byteOffset,A.byteLength);return A}if(!A)return new R(0);if(typeof A==="string")A=(0,Ay.encodeUtf8)(A);if(A instanceof ArrayBuffer)return new R(A);if(A instanceof iD)return new R(A);if((0,kA.isFlatbuffersByteBuffer)(A))return eR(R,A.bytes());return!ArrayBuffer.isView(A)?R.from(A):A.byteLength<=0?new R(0):new R(A.buffer,A.byteOffset,A.byteLength/R.BYTES_PER_ELEMENT)}O7.toArrayBufferView=eR;var By=(R)=>eR(Int8Array,R);O7.toInt8Array=By;var Dy=(R)=>eR(Int16Array,R);O7.toInt16Array=Dy;var _y=(R)=>eR(Int32Array,R);O7.toInt32Array=_y;var Oy=(R)=>eR(BigInt64Array,R);O7.toBigInt64Array=Oy;var Hy=(R)=>eR(Uint8Array,R);O7.toUint8Array=Hy;var iy=(R)=>eR(Uint16Array,R);O7.toUint16Array=iy;var qy=(R)=>eR(Uint32Array,R);O7.toUint32Array=qy;var ay=(R)=>eR(BigUint64Array,R);O7.toBigUint64Array=ay;var Ly=(R)=>eR(Float32Array,R);O7.toFloat32Array=Ly;var Wy=(R)=>eR(Float64Array,R);O7.toFloat64Array=Wy;var Ny=(R)=>eR(Uint8ClampedArray,R);O7.toUint8ClampedArray=Ny;var HD=(R)=>{return R.next(),R};function*gT(R,T){let A=function*(C){yield C},h=typeof T==="string"?A(T):ArrayBuffer.isView(T)?A(T):T instanceof ArrayBuffer?A(T):T instanceof iD?A(T):!(0,kA.isIterable)(T)?A(T):T;return yield*HD(function*(C){let B=null;do B=C.next(yield eR(R,B));while(!B.done)}(h[Symbol.iterator]())),new R}O7.toArrayBufferViewIterator=gT;var cy=(R)=>gT(Int8Array,R);O7.toInt8ArrayIterator=cy;var oy=(R)=>gT(Int16Array,R);O7.toInt16ArrayIterator=oy;var Jy=(R)=>gT(Int32Array,R);O7.toInt32ArrayIterator=Jy;var Iy=(R)=>gT(Uint8Array,R);O7.toUint8ArrayIterator=Iy;var ky=(R)=>gT(Uint16Array,R);O7.toUint16ArrayIterator=ky;var Sy=(R)=>gT(Uint32Array,R);O7.toUint32ArrayIterator=Sy;var yy=(R)=>gT(Float32Array,R);O7.toFloat32ArrayIterator=yy;var gy=(R)=>gT(Float64Array,R);O7.toFloat64ArrayIterator=gy;var sy=(R)=>gT(Uint8ClampedArray,R);O7.toUint8ClampedArrayIterator=sy;function qT(R,T){return gR.__asyncGenerator(this,arguments,function*(){if((0,kA.isPromise)(T))return yield gR.__await(yield gR.__await(yield*gR.__asyncDelegator(gR.__asyncValues(qT(R,yield gR.__await(T))))));let h=function(D){return gR.__asyncGenerator(this,arguments,function*(){yield yield gR.__await(yield gR.__await(D))})},C=function(D){return gR.__asyncGenerator(this,arguments,function*(){yield gR.__await(yield*gR.__asyncDelegator(gR.__asyncValues(HD(function*(_){let O=null;do O=_.next(yield O===null||O===void 0?void 0:O.value);while(!O.done)}(D[Symbol.iterator]())))))})},B=typeof T==="string"?h(T):ArrayBuffer.isView(T)?h(T):T instanceof ArrayBuffer?h(T):T instanceof iD?h(T):(0,kA.isIterable)(T)?C(T):!(0,kA.isAsyncIterable)(T)?h(T):T;return yield gR.__await(yield*gR.__asyncDelegator(gR.__asyncValues(HD(function(D){return gR.__asyncGenerator(this,arguments,function*(){let _=null;do _=yield gR.__await(D.next(yield yield gR.__await(eR(R,_))));while(!_.done)})}(B[Symbol.asyncIterator]()))))),yield gR.__await(new R)})}O7.toArrayBufferViewAsyncIterator=qT;var Py=(R)=>qT(Int8Array,R);O7.toInt8ArrayAsyncIterator=Py;var ty=(R)=>qT(Int16Array,R);O7.toInt16ArrayAsyncIterator=ty;var Ky=(R)=>qT(Int32Array,R);O7.toInt32ArrayAsyncIterator=Ky;var by=(R)=>qT(Uint8Array,R);O7.toUint8ArrayAsyncIterator=by;var ny=(R)=>qT(Uint16Array,R);O7.toUint16ArrayAsyncIterator=ny;var Ey=(R)=>qT(Uint32Array,R);O7.toUint32ArrayAsyncIterator=Ey;var $y=(R)=>qT(Float32Array,R);O7.toFloat32ArrayAsyncIterator=$y;var py=(R)=>qT(Float64Array,R);O7.toFloat64ArrayAsyncIterator=py;var ry=(R)=>qT(Uint8ClampedArray,R);O7.toUint8ClampedArrayAsyncIterator=ry;function Xy(R,T,A){if(R!==0){A=A.slice(0,T);for(let h=-1,C=A.length;++h<C;)A[h]+=R}return A.subarray(0,T)}O7.rebaseValueOffsets=Xy;function Gy(R,T){let A=0,h=R.length;if(h!==T.length)return!1;if(h>0)do if(R[A]!==T[A])return!1;while(++A<h);return!0}O7.compareArrayLike=Gy});var SA=a((q7)=>{Object.defineProperty(q7,"__esModule",{value:!0});var HR=KR(),lR=bR();q7.default={fromIterable(R){return _C(og(R))},fromAsyncIterable(R){return _C(Jg(R))},fromDOMStream(R){return _C(Ig(R))},fromNodeStream(R){return _C(kg(R))},toDOMStream(R,T){throw Error('"toDOMStream" not available in this environment')},toNodeStream(R,T){throw Error('"toNodeStream" not available in this environment')}};var _C=(R)=>{return R.next(),R};function*og(R){let T,A=!1,h=[],C,B,D,_=0;function O(){if(B==="peek")return(0,lR.joinUint8Arrays)(h,D)[0];return[C,h,_]=(0,lR.joinUint8Arrays)(h,D),C}({cmd:B,size:D}=(yield(()=>null)())||{cmd:"read",size:0});let H=(0,lR.toUint8ArrayIterator)(R)[Symbol.iterator]();try{do{if({done:T,value:C}=Number.isNaN(D-_)?H.next():H.next(D-_),!T&&C.byteLength>0)h.push(C),_+=C.byteLength;if(T||D<=_)do({cmd:B,size:D}=yield O());while(D<_)}while(!T)}catch(i){(A=!0)&&typeof H.throw==="function"&&H.throw(i)}finally{A===!1&&typeof H.return==="function"&&H.return(null)}return null}function Jg(R){return HR.__asyncGenerator(this,arguments,function*(){let A,h=!1,C=[],B,D,_,O=0;function H(){if(D==="peek")return(0,lR.joinUint8Arrays)(C,_)[0];return[B,C,O]=(0,lR.joinUint8Arrays)(C,_),B}({cmd:D,size:_}=(yield yield HR.__await((()=>null)()))||{cmd:"read",size:0});let i=(0,lR.toUint8ArrayAsyncIterator)(R)[Symbol.asyncIterator]();try{do{if({done:A,value:B}=Number.isNaN(_-O)?yield HR.__await(i.next()):yield HR.__await(i.next(_-O)),!A&&B.byteLength>0)C.push(B),O+=B.byteLength;if(A||_<=O)do({cmd:D,size:_}=yield yield HR.__await(H()));while(_<O)}while(!A)}catch(J){(h=!0)&&typeof i.throw==="function"&&(yield HR.__await(i.throw(J)))}finally{h===!1&&typeof i.return==="function"&&(yield HR.__await(i.return(new Uint8Array(0))))}return yield HR.__await(null)})}function Ig(R){return HR.__asyncGenerator(this,arguments,function*(){let A=!1,h=!1,C=[],B,D,_,O=0;function H(){if(D==="peek")return(0,lR.joinUint8Arrays)(C,_)[0];return[B,C,O]=(0,lR.joinUint8Arrays)(C,_),B}({cmd:D,size:_}=(yield yield HR.__await((()=>null)()))||{cmd:"read",size:0});let i=new i7(R);try{do{if({done:A,value:B}=Number.isNaN(_-O)?yield HR.__await(i.read()):yield HR.__await(i.read(_-O)),!A&&B.byteLength>0)C.push((0,lR.toUint8Array)(B)),O+=B.byteLength;if(A||_<=O)do({cmd:D,size:_}=yield yield HR.__await(H()));while(_<O)}while(!A)}catch(J){(h=!0)&&(yield HR.__await(i.cancel(J)))}finally{h===!1?yield HR.__await(i.cancel()):R.locked&&i.releaseLock()}return yield HR.__await(null)})}class i7{constructor(R){this.source=R,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){if(this.reader)this.reader.releaseLock();this.reader=null}cancel(R){return HR.__awaiter(this,void 0,void 0,function*(){let{reader:T,source:A}=this;T&&(yield T.cancel(R).catch(()=>{})),A&&(A.locked&&this.releaseLock())})}read(R){return HR.__awaiter(this,void 0,void 0,function*(){if(R===0)return{done:this.reader==null,value:new Uint8Array(0)};let T=yield this.reader.read();return!T.done&&(T.value=(0,lR.toUint8Array)(T)),T})}}var qD=(R,T)=>{let A=(C)=>h([T,C]),h;return[T,A,new Promise((C)=>(h=C)&&R.once(T,A))]};function kg(R){return HR.__asyncGenerator(this,arguments,function*(){let A=[],h="error",C=!1,B=null,D,_,O=0,H=[],i;function J(){if(D==="peek")return(0,lR.joinUint8Arrays)(H,_)[0];return[i,H,O]=(0,lR.joinUint8Arrays)(H,_),i}if({cmd:D,size:_}=(yield yield HR.__await((()=>null)()))||{cmd:"read",size:0},R.isTTY)return yield yield HR.__await(new Uint8Array(0)),yield HR.__await(null);try{A[0]=qD(R,"end"),A[1]=qD(R,"error");do{if(A[2]=qD(R,"readable"),[h,B]=yield HR.__await(Promise.race(A.map((U)=>U[2]))),h==="error")break;if(!(C=h==="end")){if(!Number.isFinite(_-O))i=(0,lR.toUint8Array)(R.read());else if(i=(0,lR.toUint8Array)(R.read(_-O)),i.byteLength<_-O)i=(0,lR.toUint8Array)(R.read());if(i.byteLength>0)H.push(i),O+=i.byteLength}if(C||_<=O)do({cmd:D,size:_}=yield yield HR.__await(J()));while(_<O)}while(!C)}finally{yield HR.__await(P(A,h==="error"?B:null))}return yield HR.__await(null);function P(U,t){return i=H=null,new Promise((Y,WR)=>{for(let[xR,AR]of U)R.off(xR,AR);try{let xR=R.destroy;xR&&xR.call(R,t),t=void 0}catch(xR){t=xR||t}finally{t!=null?WR(t):Y()}})}})}});var OC=a((L7)=>{Object.defineProperty(L7,"__esModule",{value:!0});L7.MetadataVersion=void 0;var a7;(function(R){R[R.V1=0]="V1",R[R.V2=1]="V2",R[R.V3=2]="V3",R[R.V4=3]="V4",R[R.V5=4]="V5"})(a7||(L7.MetadataVersion=a7={}))});var aD=a((c7)=>{Object.defineProperty(c7,"__esModule",{value:!0});c7.UnionMode=void 0;var N7;(function(R){R[R.Sparse=0]="Sparse",R[R.Dense=1]="Dense"})(N7||(c7.UnionMode=N7={}))});var LD=a((I7)=>{Object.defineProperty(I7,"__esModule",{value:!0});I7.Precision=void 0;var J7;(function(R){R[R.HALF=0]="HALF",R[R.SINGLE=1]="SINGLE",R[R.DOUBLE=2]="DOUBLE"})(J7||(I7.Precision=J7={}))});var WD=a((y7)=>{Object.defineProperty(y7,"__esModule",{value:!0});y7.DateUnit=void 0;var S7;(function(R){R[R.DAY=0]="DAY",R[R.MILLISECOND=1]="MILLISECOND"})(S7||(y7.DateUnit=S7={}))});var ih=a((P7)=>{Object.defineProperty(P7,"__esModule",{value:!0});P7.TimeUnit=void 0;var s7;(function(R){R[R.SECOND=0]="SECOND",R[R.MILLISECOND=1]="MILLISECOND",R[R.MICROSECOND=2]="MICROSECOND",R[R.NANOSECOND=3]="NANOSECOND"})(s7||(P7.TimeUnit=s7={}))});var ND=a((b7)=>{Object.defineProperty(b7,"__esModule",{value:!0});b7.IntervalUnit=void 0;var K7;(function(R){R[R.YEAR_MONTH=0]="YEAR_MONTH",R[R.DAY_TIME=1]="DAY_TIME",R[R.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(K7||(b7.IntervalUnit=K7={}))});var x9=a((E7)=>{Object.defineProperty(E7,"__esModule",{value:!0});E7.SIZE_PREFIX_LENGTH=E7.FILE_IDENTIFIER_LENGTH=E7.SIZEOF_INT=E7.SIZEOF_SHORT=void 0;E7.SIZEOF_SHORT=2;E7.SIZEOF_INT=4;E7.FILE_IDENTIFIER_LENGTH=4;E7.SIZE_PREFIX_LENGTH=4});var oD=a((p7)=>{Object.defineProperty(p7,"__esModule",{value:!0});p7.isLittleEndian=p7.float64=p7.float32=p7.int32=void 0;p7.int32=new Int32Array(2);p7.float32=new Float32Array(p7.int32.buffer);p7.float64=new Float64Array(p7.int32.buffer);p7.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var JD=a((G7)=>{Object.defineProperty(G7,"__esModule",{value:!0});G7.Encoding=void 0;var X7;(function(R){R[R.UTF8_BYTES=1]="UTF8_BYTES",R[R.UTF16_STRING=2]="UTF16_STRING"})(X7||(G7.Encoding=X7={}))});var kD=a((F7)=>{Object.defineProperty(F7,"__esModule",{value:!0});F7.ByteBuffer=void 0;var sT=x9(),uR=oD(),Kg=JD();class ID{constructor(R){this.bytes_=R,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(R){return new ID(new Uint8Array(R))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(R){this.position_=R}capacity(){return this.bytes_.length}readInt8(R){return this.readUint8(R)<<24>>24}readUint8(R){return this.bytes_[R]}readInt16(R){return this.readUint16(R)<<16>>16}readUint16(R){return this.bytes_[R]|this.bytes_[R+1]<<8}readInt32(R){return this.bytes_[R]|this.bytes_[R+1]<<8|this.bytes_[R+2]<<16|this.bytes_[R+3]<<24}readUint32(R){return this.readInt32(R)>>>0}readInt64(R){return BigInt.asIntN(64,BigInt(this.readUint32(R))+(BigInt(this.readUint32(R+4))<<BigInt(32)))}readUint64(R){return BigInt.asUintN(64,BigInt(this.readUint32(R))+(BigInt(this.readUint32(R+4))<<BigInt(32)))}readFloat32(R){return uR.int32[0]=this.readInt32(R),uR.float32[0]}readFloat64(R){return uR.int32[uR.isLittleEndian?0:1]=this.readInt32(R),uR.int32[uR.isLittleEndian?1:0]=this.readInt32(R+4),uR.float64[0]}writeInt8(R,T){this.bytes_[R]=T}writeUint8(R,T){this.bytes_[R]=T}writeInt16(R,T){this.bytes_[R]=T,this.bytes_[R+1]=T>>8}writeUint16(R,T){this.bytes_[R]=T,this.bytes_[R+1]=T>>8}writeInt32(R,T){this.bytes_[R]=T,this.bytes_[R+1]=T>>8,this.bytes_[R+2]=T>>16,this.bytes_[R+3]=T>>24}writeUint32(R,T){this.bytes_[R]=T,this.bytes_[R+1]=T>>8,this.bytes_[R+2]=T>>16,this.bytes_[R+3]=T>>24}writeInt64(R,T){this.writeInt32(R,Number(BigInt.asIntN(32,T))),this.writeInt32(R+4,Number(BigInt.asIntN(32,T>>BigInt(32))))}writeUint64(R,T){this.writeUint32(R,Number(BigInt.asUintN(32,T))),this.writeUint32(R+4,Number(BigInt.asUintN(32,T>>BigInt(32))))}writeFloat32(R,T){uR.float32[0]=T,this.writeInt32(R,uR.int32[0])}writeFloat64(R,T){uR.float64[0]=T,this.writeInt32(R,uR.int32[uR.isLittleEndian?0:1]),this.writeInt32(R+4,uR.int32[uR.isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+sT.SIZEOF_INT+sT.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let R="";for(let T=0;T<sT.FILE_IDENTIFIER_LENGTH;T++)R+=String.fromCharCode(this.readInt8(this.position_+sT.SIZEOF_INT+T));return R}__offset(R,T){let A=R-this.readInt32(R);return T<this.readInt16(A)?this.readInt16(A+T):0}__union(R,T){return R.bb_pos=T+this.readInt32(T),R.bb=this,R}__string(R,T){R+=this.readInt32(R);let A=this.readInt32(R);R+=sT.SIZEOF_INT;let h=this.bytes_.subarray(R,R+A);if(T===Kg.Encoding.UTF8_BYTES)return h;else return this.text_decoder_.decode(h)}__union_with_string(R,T){if(typeof R==="string")return this.__string(T);return this.__union(R,T)}__indirect(R){return R+this.readInt32(R)}__vector(R){return R+this.readInt32(R)+sT.SIZEOF_INT}__vector_len(R){return this.readInt32(R+this.readInt32(R))}__has_identifier(R){if(R.length!=sT.FILE_IDENTIFIER_LENGTH)throw Error("FlatBuffers: file identifier must be length "+sT.FILE_IDENTIFIER_LENGTH);for(let T=0;T<sT.FILE_IDENTIFIER_LENGTH;T++)if(R.charCodeAt(T)!=this.readInt8(this.position()+sT.SIZEOF_INT+T))return!1;return!0}createScalarList(R,T){let A=[];for(let h=0;h<T;++h){let C=R(h);if(C!==null)A.push(C)}return A}createObjList(R,T){let A=[];for(let h=0;h<T;++h){let C=R(h);if(C!==null)A.push(C.unpack())}return A}}F7.ByteBuffer=ID});var u7=a((d7)=>{Object.defineProperty(d7,"__esModule",{value:!0});d7.Builder=void 0;var l7=kD(),zR=x9();class SD{constructor(R){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let T;if(!R)T=1024;else T=R;this.bb=l7.ByteBuffer.allocate(T),this.space=T}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(R){this.force_defaults=R}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(R,T){if(R>this.minalign)this.minalign=R;let A=~(this.bb.capacity()-this.space+T)+1&R-1;while(this.space<A+R+T){let h=this.bb.capacity();this.bb=SD.growByteBuffer(this.bb),this.space+=this.bb.capacity()-h}this.pad(A)}pad(R){for(let T=0;T<R;T++)this.bb.writeInt8(--this.space,0)}writeInt8(R){this.bb.writeInt8(this.space-=1,R)}writeInt16(R){this.bb.writeInt16(this.space-=2,R)}writeInt32(R){this.bb.writeInt32(this.space-=4,R)}writeInt64(R){this.bb.writeInt64(this.space-=8,R)}writeFloat32(R){this.bb.writeFloat32(this.space-=4,R)}writeFloat64(R){this.bb.writeFloat64(this.space-=8,R)}addInt8(R){this.prep(1,0),this.writeInt8(R)}addInt16(R){this.prep(2,0),this.writeInt16(R)}addInt32(R){this.prep(4,0),this.writeInt32(R)}addInt64(R){this.prep(8,0),this.writeInt64(R)}addFloat32(R){this.prep(4,0),this.writeFloat32(R)}addFloat64(R){this.prep(8,0),this.writeFloat64(R)}addFieldInt8(R,T,A){if(this.force_defaults||T!=A)this.addInt8(T),this.slot(R)}addFieldInt16(R,T,A){if(this.force_defaults||T!=A)this.addInt16(T),this.slot(R)}addFieldInt32(R,T,A){if(this.force_defaults||T!=A)this.addInt32(T),this.slot(R)}addFieldInt64(R,T,A){if(this.force_defaults||T!==A)this.addInt64(T),this.slot(R)}addFieldFloat32(R,T,A){if(this.force_defaults||T!=A)this.addFloat32(T),this.slot(R)}addFieldFloat64(R,T,A){if(this.force_defaults||T!=A)this.addFloat64(T),this.slot(R)}addFieldOffset(R,T,A){if(this.force_defaults||T!=A)this.addOffset(T),this.slot(R)}addFieldStruct(R,T,A){if(T!=A)this.nested(T),this.slot(R)}nested(R){if(R!=this.offset())throw TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw TypeError("FlatBuffers: object serialization must not be nested.")}slot(R){if(this.vtable!==null)this.vtable[R]=this.offset()}offset(){return this.bb.capacity()-this.space}static growByteBuffer(R){let T=R.capacity();if(T&3221225472)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let A=T<<1,h=l7.ByteBuffer.allocate(A);return h.setPosition(A-T),h.bytes().set(R.bytes(),A-T),h}addOffset(R){this.prep(zR.SIZEOF_INT,0),this.writeInt32(this.offset()-R+zR.SIZEOF_INT)}startObject(R){if(this.notNested(),this.vtable==null)this.vtable=[];this.vtable_in_use=R;for(let T=0;T<R;T++)this.vtable[T]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let R=this.offset(),T=this.vtable_in_use-1;for(;T>=0&&this.vtable[T]==0;T--);let A=T+1;for(;T>=0;T--)this.addInt16(this.vtable[T]!=0?R-this.vtable[T]:0);let h=2;this.addInt16(R-this.object_start);let C=(A+h)*zR.SIZEOF_SHORT;this.addInt16(C);let B=0,D=this.space;R:for(T=0;T<this.vtables.length;T++){let _=this.bb.capacity()-this.vtables[T];if(C==this.bb.readInt16(_)){for(let O=zR.SIZEOF_SHORT;O<C;O+=zR.SIZEOF_SHORT)if(this.bb.readInt16(D+O)!=this.bb.readInt16(_+O))continue R;B=this.vtables[T];break}}if(B)this.space=this.bb.capacity()-R,this.bb.writeInt32(this.space,B-R);else this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-R,this.offset()-R);return this.isNested=!1,R}finish(R,T,A){let h=A?zR.SIZE_PREFIX_LENGTH:0;if(T){let C=T;if(this.prep(this.minalign,zR.SIZEOF_INT+zR.FILE_IDENTIFIER_LENGTH+h),C.length!=zR.FILE_IDENTIFIER_LENGTH)throw TypeError("FlatBuffers: file identifier must be length "+zR.FILE_IDENTIFIER_LENGTH);for(let B=zR.FILE_IDENTIFIER_LENGTH-1;B>=0;B--)this.writeInt8(C.charCodeAt(B))}if(this.prep(this.minalign,zR.SIZEOF_INT+h),this.addOffset(R),h)this.addInt32(this.bb.capacity()-this.space);this.bb.setPosition(this.space)}finishSizePrefixed(R,T){this.finish(R,T,!0)}requiredField(R,T){let A=this.bb.capacity()-R,h=A-this.bb.readInt32(A);if(!(T<this.bb.readInt16(h)&&this.bb.readInt16(h+T)!=0))throw TypeError("FlatBuffers: field "+T+" must be set")}startVector(R,T,A){this.notNested(),this.vector_num_elems=T,this.prep(zR.SIZEOF_INT,R*T),this.prep(A,R*T)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(R){if(!R)return 0;if(!this.string_maps)this.string_maps=new Map;if(this.string_maps.has(R))return this.string_maps.get(R);let T=this.createString(R);return this.string_maps.set(R,T),T}createString(R){if(R===null||R===void 0)return 0;let T;if(R instanceof Uint8Array)T=R;else T=this.text_encoder.encode(R);return this.addInt8(0),this.startVector(1,T.length,1),this.bb.setPosition(this.space-=T.length),this.bb.bytes().set(T,this.space),this.endVector()}createByteVector(R){if(R===null||R===void 0)return 0;return this.startVector(1,R.length,1),this.bb.setPosition(this.space-=R.length),this.bb.bytes().set(R,this.space),this.endVector()}createObjectOffset(R){if(R===null)return 0;if(typeof R==="string")return this.createString(R);else return R.pack(this)}createObjectOffsetList(R){let T=[];for(let A=0;A<R.length;++A){let h=R[A];if(h!==null)T.push(this.createObjectOffset(h));else throw TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return T}createStructOffsetList(R,T){return T(this,R.length),this.createObjectOffsetList(R.slice().reverse()),this.endVector()}}d7.Builder=SD});var f=a((MR)=>{Object.defineProperty(MR,"__esModule",{value:!0});MR.ByteBuffer=MR.Builder=MR.Encoding=MR.isLittleEndian=MR.float64=MR.float32=MR.int32=MR.SIZE_PREFIX_LENGTH=MR.FILE_IDENTIFIER_LENGTH=MR.SIZEOF_INT=MR.SIZEOF_SHORT=void 0;var bg=x9();Object.defineProperty(MR,"SIZEOF_SHORT",{enumerable:!0,get:function(){return bg.SIZEOF_SHORT}});var ng=x9();Object.defineProperty(MR,"SIZEOF_INT",{enumerable:!0,get:function(){return ng.SIZEOF_INT}});var Eg=x9();Object.defineProperty(MR,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return Eg.FILE_IDENTIFIER_LENGTH}});var $g=x9();Object.defineProperty(MR,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return $g.SIZE_PREFIX_LENGTH}});var HC=oD();Object.defineProperty(MR,"int32",{enumerable:!0,get:function(){return HC.int32}});Object.defineProperty(MR,"float32",{enumerable:!0,get:function(){return HC.float32}});Object.defineProperty(MR,"float64",{enumerable:!0,get:function(){return HC.float64}});Object.defineProperty(MR,"isLittleEndian",{enumerable:!0,get:function(){return HC.isLittleEndian}});var pg=JD();Object.defineProperty(MR,"Encoding",{enumerable:!0,get:function(){return pg.Encoding}});var rg=u7();Object.defineProperty(MR,"Builder",{enumerable:!0,get:function(){return rg.Builder}});var Xg=kD();Object.defineProperty(MR,"ByteBuffer",{enumerable:!0,get:function(){return Xg.ByteBuffer}})});var Q7=a((w7)=>{Object.defineProperty(w7,"__esModule",{value:!0});w7.BodyCompressionMethod=void 0;var Z7;(function(R){R[R.BUFFER=0]="BUFFER"})(Z7||(w7.BodyCompressionMethod=Z7={}))});var v7=a((z7)=>{Object.defineProperty(z7,"__esModule",{value:!0});z7.CompressionType=void 0;var f7;(function(R){R[R.LZ4_FRAME=0]="LZ4_FRAME",R[R.ZSTD=1]="ZSTD"})(f7||(z7.CompressionType=f7={}))});var Tq=a((Y7)=>{Object.defineProperty(Y7,"__esModule",{value:!0});Y7.BodyCompression=void 0;var xg=f(),V7=Q7(),m7=v7();class A9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsBodyCompression(R,T){return(T||new A9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsBodyCompression(R,T){return R.setPosition(R.position()+xg.SIZE_PREFIX_LENGTH),(T||new A9).__init(R.readInt32(R.position())+R.position(),R)}codec(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt8(this.bb_pos+R):m7.CompressionType.LZ4_FRAME}method(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.readInt8(this.bb_pos+R):V7.BodyCompressionMethod.BUFFER}static startBodyCompression(R){R.startObject(2)}static addCodec(R,T){R.addFieldInt8(0,T,m7.CompressionType.LZ4_FRAME)}static addMethod(R,T){R.addFieldInt8(1,T,V7.BodyCompressionMethod.BUFFER)}static endBodyCompression(R){return R.endObject()}static createBodyCompression(R,T,A){return A9.startBodyCompression(R),A9.addCodec(R,T),A9.addMethod(R,A),A9.endBodyCompression(R)}}Y7.BodyCompression=A9});var h9=a((hq)=>{Object.defineProperty(hq,"__esModule",{value:!0});hq.Buffer=void 0;class Aq{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(R,T,A){return R.prep(8,16),R.writeInt64(BigInt(A!==null&&A!==void 0?A:0)),R.writeInt64(BigInt(T!==null&&T!==void 0?T:0)),R.offset()}}hq.Buffer=Aq});var yD=a((Dq)=>{Object.defineProperty(Dq,"__esModule",{value:!0});Dq.FieldNode=void 0;class Bq{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(R,T,A){return R.prep(8,16),R.writeInt64(BigInt(A!==null&&A!==void 0?A:0)),R.writeInt64(BigInt(T!==null&&T!==void 0?T:0)),R.offset()}}Dq.FieldNode=Bq});var qC=a((Oq)=>{Object.defineProperty(Oq,"__esModule",{value:!0});Oq.RecordBatch=void 0;var Fg=f(),eg=Tq(),lg=h9(),dg=yD();class iC{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsRecordBatch(R,T){return(T||new iC).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsRecordBatch(R,T){return R.setPosition(R.position()+Fg.SIZE_PREFIX_LENGTH),(T||new iC).__init(R.readInt32(R.position())+R.position(),R)}length(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt64(this.bb_pos+R):BigInt("0")}nodes(R,T){let A=this.bb.__offset(this.bb_pos,6);return A?(T||new dg.FieldNode).__init(this.bb.__vector(this.bb_pos+A)+R*16,this.bb):null}nodesLength(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__vector_len(this.bb_pos+R):0}buffers(R,T){let A=this.bb.__offset(this.bb_pos,8);return A?(T||new lg.Buffer).__init(this.bb.__vector(this.bb_pos+A)+R*16,this.bb):null}buffersLength(){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__vector_len(this.bb_pos+R):0}compression(R){let T=this.bb.__offset(this.bb_pos,10);return T?(R||new eg.BodyCompression).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}static startRecordBatch(R){R.startObject(4)}static addLength(R,T){R.addFieldInt64(0,T,BigInt("0"))}static addNodes(R,T){R.addFieldOffset(1,T,0)}static startNodesVector(R,T){R.startVector(16,T,8)}static addBuffers(R,T){R.addFieldOffset(2,T,0)}static startBuffersVector(R,T){R.startVector(16,T,8)}static addCompression(R,T){R.addFieldOffset(3,T,0)}static endRecordBatch(R){return R.endObject()}}Oq.RecordBatch=iC});var gD=a((iq)=>{Object.defineProperty(iq,"__esModule",{value:!0});iq.DictionaryBatch=void 0;var jg=f(),ug=qC();class aC{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsDictionaryBatch(R,T){return(T||new aC).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsDictionaryBatch(R,T){return R.setPosition(R.position()+jg.SIZE_PREFIX_LENGTH),(T||new aC).__init(R.readInt32(R.position())+R.position(),R)}id(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt64(this.bb_pos+R):BigInt("0")}data(R){let T=this.bb.__offset(this.bb_pos,6);return T?(R||new ug.RecordBatch).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}isDelta(){let R=this.bb.__offset(this.bb_pos,8);return R?!!this.bb.readInt8(this.bb_pos+R):!1}static startDictionaryBatch(R){R.startObject(3)}static addId(R,T){R.addFieldInt64(0,T,BigInt("0"))}static addData(R,T){R.addFieldOffset(1,T,0)}static addIsDelta(R,T){R.addFieldInt8(2,+T,0)}static endDictionaryBatch(R){return R.endObject()}}iq.DictionaryBatch=aC});var sD=a((Lq)=>{Object.defineProperty(Lq,"__esModule",{value:!0});Lq.Endianness=void 0;var aq;(function(R){R[R.Little=0]="Little",R[R.Big=1]="Big"})(aq||(Lq.Endianness=aq={}))});var Jq=a((cq)=>{Object.defineProperty(cq,"__esModule",{value:!0});cq.DictionaryKind=void 0;var Nq;(function(R){R[R.DenseArray=0]="DenseArray"})(Nq||(cq.DictionaryKind=Nq={}))});var B9=a((Iq)=>{Object.defineProperty(Iq,"__esModule",{value:!0});Iq.Int=void 0;var Zg=f();class C9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsInt(R,T){return(T||new C9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsInt(R,T){return R.setPosition(R.position()+Zg.SIZE_PREFIX_LENGTH),(T||new C9).__init(R.readInt32(R.position())+R.position(),R)}bitWidth(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt32(this.bb_pos+R):0}isSigned(){let R=this.bb.__offset(this.bb_pos,6);return R?!!this.bb.readInt8(this.bb_pos+R):!1}static startInt(R){R.startObject(2)}static addBitWidth(R,T){R.addFieldInt32(0,T,0)}static addIsSigned(R,T){R.addFieldInt8(1,+T,0)}static endInt(R){return R.endObject()}static createInt(R,T,A){return C9.startInt(R),C9.addBitWidth(R,T),C9.addIsSigned(R,A),C9.endInt(R)}}Iq.Int=C9});var PD=a((yq)=>{Object.defineProperty(yq,"__esModule",{value:!0});yq.DictionaryEncoding=void 0;var wg=f(),Sq=Jq(),Ug=B9();class LC{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsDictionaryEncoding(R,T){return(T||new LC).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsDictionaryEncoding(R,T){return R.setPosition(R.position()+wg.SIZE_PREFIX_LENGTH),(T||new LC).__init(R.readInt32(R.position())+R.position(),R)}id(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt64(this.bb_pos+R):BigInt("0")}indexType(R){let T=this.bb.__offset(this.bb_pos,6);return T?(R||new Ug.Int).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}isOrdered(){let R=this.bb.__offset(this.bb_pos,8);return R?!!this.bb.readInt8(this.bb_pos+R):!1}dictionaryKind(){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.readInt16(this.bb_pos+R):Sq.DictionaryKind.DenseArray}static startDictionaryEncoding(R){R.startObject(4)}static addId(R,T){R.addFieldInt64(0,T,BigInt("0"))}static addIndexType(R,T){R.addFieldOffset(1,T,0)}static addIsOrdered(R,T){R.addFieldInt8(2,+T,0)}static addDictionaryKind(R,T){R.addFieldInt16(3,T,Sq.DictionaryKind.DenseArray)}static endDictionaryEncoding(R){return R.endObject()}}yq.DictionaryEncoding=LC});var yA=a((sq)=>{Object.defineProperty(sq,"__esModule",{value:!0});sq.KeyValue=void 0;var Qg=f();class D9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsKeyValue(R,T){return(T||new D9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsKeyValue(R,T){return R.setPosition(R.position()+Qg.SIZE_PREFIX_LENGTH),(T||new D9).__init(R.readInt32(R.position())+R.position(),R)}key(R){let T=this.bb.__offset(this.bb_pos,4);return T?this.bb.__string(this.bb_pos+T,R):null}value(R){let T=this.bb.__offset(this.bb_pos,6);return T?this.bb.__string(this.bb_pos+T,R):null}static startKeyValue(R){R.startObject(2)}static addKey(R,T){R.addFieldOffset(0,T,0)}static addValue(R,T){R.addFieldOffset(1,T,0)}static endKeyValue(R){return R.endObject()}static createKeyValue(R,T,A){return D9.startKeyValue(R),D9.addKey(R,T),D9.addValue(R,A),D9.endKeyValue(R)}}sq.KeyValue=D9});var tD=a((tq)=>{Object.defineProperty(tq,"__esModule",{value:!0});tq.Binary=void 0;var fg=f();class gA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsBinary(R,T){return(T||new gA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsBinary(R,T){return R.setPosition(R.position()+fg.SIZE_PREFIX_LENGTH),(T||new gA).__init(R.readInt32(R.position())+R.position(),R)}static startBinary(R){R.startObject(0)}static endBinary(R){return R.endObject()}static createBinary(R){return gA.startBinary(R),gA.endBinary(R)}}tq.Binary=gA});var KD=a((bq)=>{Object.defineProperty(bq,"__esModule",{value:!0});bq.Bool=void 0;var zg=f();class sA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsBool(R,T){return(T||new sA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsBool(R,T){return R.setPosition(R.position()+zg.SIZE_PREFIX_LENGTH),(T||new sA).__init(R.readInt32(R.position())+R.position(),R)}static startBool(R){R.startObject(0)}static endBool(R){return R.endObject()}static createBool(R){return sA.startBool(R),sA.endBool(R)}}bq.Bool=sA});var WC=a(($q)=>{Object.defineProperty($q,"__esModule",{value:!0});$q.Date=void 0;var Mg=f(),Eq=WD();class F9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsDate(R,T){return(T||new F9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsDate(R,T){return R.setPosition(R.position()+Mg.SIZE_PREFIX_LENGTH),(T||new F9).__init(R.readInt32(R.position())+R.position(),R)}unit(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):Eq.DateUnit.MILLISECOND}static startDate(R){R.startObject(1)}static addUnit(R,T){R.addFieldInt16(0,T,Eq.DateUnit.MILLISECOND)}static endDate(R){return R.endObject()}static createDate(R,T){return F9.startDate(R),F9.addUnit(R,T),F9.endDate(R)}}$q.Date=F9});var NC=a((rq)=>{Object.defineProperty(rq,"__esModule",{value:!0});rq.Decimal=void 0;var vg=f();class uT{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsDecimal(R,T){return(T||new uT).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsDecimal(R,T){return R.setPosition(R.position()+vg.SIZE_PREFIX_LENGTH),(T||new uT).__init(R.readInt32(R.position())+R.position(),R)}precision(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt32(this.bb_pos+R):0}scale(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.readInt32(this.bb_pos+R):0}bitWidth(){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.readInt32(this.bb_pos+R):128}static startDecimal(R){R.startObject(3)}static addPrecision(R,T){R.addFieldInt32(0,T,0)}static addScale(R,T){R.addFieldInt32(1,T,0)}static addBitWidth(R,T){R.addFieldInt32(2,T,128)}static endDecimal(R){return R.endObject()}static createDecimal(R,T,A,h){return uT.startDecimal(R),uT.addPrecision(R,T),uT.addScale(R,A),uT.addBitWidth(R,h),uT.endDecimal(R)}}rq.Decimal=uT});var cC=a((xq)=>{Object.defineProperty(xq,"__esModule",{value:!0});xq.Duration=void 0;var Vg=f(),Gq=ih();class e9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsDuration(R,T){return(T||new e9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsDuration(R,T){return R.setPosition(R.position()+Vg.SIZE_PREFIX_LENGTH),(T||new e9).__init(R.readInt32(R.position())+R.position(),R)}unit(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):Gq.TimeUnit.MILLISECOND}static startDuration(R){R.startObject(1)}static addUnit(R,T){R.addFieldInt16(0,T,Gq.TimeUnit.MILLISECOND)}static endDuration(R){return R.endObject()}static createDuration(R,T){return e9.startDuration(R),e9.addUnit(R,T),e9.endDuration(R)}}xq.Duration=e9});var oC=a((eq)=>{Object.defineProperty(eq,"__esModule",{value:!0});eq.FixedSizeBinary=void 0;var mg=f();class l9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsFixedSizeBinary(R,T){return(T||new l9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsFixedSizeBinary(R,T){return R.setPosition(R.position()+mg.SIZE_PREFIX_LENGTH),(T||new l9).__init(R.readInt32(R.position())+R.position(),R)}byteWidth(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt32(this.bb_pos+R):0}static startFixedSizeBinary(R){R.startObject(1)}static addByteWidth(R,T){R.addFieldInt32(0,T,0)}static endFixedSizeBinary(R){return R.endObject()}static createFixedSizeBinary(R,T){return l9.startFixedSizeBinary(R),l9.addByteWidth(R,T),l9.endFixedSizeBinary(R)}}eq.FixedSizeBinary=l9});var JC=a((dq)=>{Object.defineProperty(dq,"__esModule",{value:!0});dq.FixedSizeList=void 0;var Yg=f();class d9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsFixedSizeList(R,T){return(T||new d9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsFixedSizeList(R,T){return R.setPosition(R.position()+Yg.SIZE_PREFIX_LENGTH),(T||new d9).__init(R.readInt32(R.position())+R.position(),R)}listSize(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt32(this.bb_pos+R):0}static startFixedSizeList(R){R.startObject(1)}static addListSize(R,T){R.addFieldInt32(0,T,0)}static endFixedSizeList(R){return R.endObject()}static createFixedSizeList(R,T){return d9.startFixedSizeList(R),d9.addListSize(R,T),d9.endFixedSizeList(R)}}dq.FixedSizeList=d9});var IC=a((Zq)=>{Object.defineProperty(Zq,"__esModule",{value:!0});Zq.FloatingPoint=void 0;var R4=f(),uq=LD();class j9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsFloatingPoint(R,T){return(T||new j9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsFloatingPoint(R,T){return R.setPosition(R.position()+R4.SIZE_PREFIX_LENGTH),(T||new j9).__init(R.readInt32(R.position())+R.position(),R)}precision(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):uq.Precision.HALF}static startFloatingPoint(R){R.startObject(1)}static addPrecision(R,T){R.addFieldInt16(0,T,uq.Precision.HALF)}static endFloatingPoint(R){return R.endObject()}static createFloatingPoint(R,T){return j9.startFloatingPoint(R),j9.addPrecision(R,T),j9.endFloatingPoint(R)}}Zq.FloatingPoint=j9});var kC=a((Qq)=>{Object.defineProperty(Qq,"__esModule",{value:!0});Qq.Interval=void 0;var T4=f(),Uq=ND();class u9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsInterval(R,T){return(T||new u9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsInterval(R,T){return R.setPosition(R.position()+T4.SIZE_PREFIX_LENGTH),(T||new u9).__init(R.readInt32(R.position())+R.position(),R)}unit(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):Uq.IntervalUnit.YEAR_MONTH}static startInterval(R){R.startObject(1)}static addUnit(R,T){R.addFieldInt16(0,T,Uq.IntervalUnit.YEAR_MONTH)}static endInterval(R){return R.endObject()}static createInterval(R,T){return u9.startInterval(R),u9.addUnit(R,T),u9.endInterval(R)}}Qq.Interval=u9});var bD=a((zq)=>{Object.defineProperty(zq,"__esModule",{value:!0});zq.LargeBinary=void 0;var A4=f();class PA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsLargeBinary(R,T){return(T||new PA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsLargeBinary(R,T){return R.setPosition(R.position()+A4.SIZE_PREFIX_LENGTH),(T||new PA).__init(R.readInt32(R.position())+R.position(),R)}static startLargeBinary(R){R.startObject(0)}static endLargeBinary(R){return R.endObject()}static createLargeBinary(R){return PA.startLargeBinary(R),PA.endLargeBinary(R)}}zq.LargeBinary=PA});var mq=a((vq)=>{Object.defineProperty(vq,"__esModule",{value:!0});vq.LargeList=void 0;var h4=f();class tA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsLargeList(R,T){return(T||new tA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsLargeList(R,T){return R.setPosition(R.position()+h4.SIZE_PREFIX_LENGTH),(T||new tA).__init(R.readInt32(R.position())+R.position(),R)}static startLargeList(R){R.startObject(0)}static endLargeList(R){return R.endObject()}static createLargeList(R){return tA.startLargeList(R),tA.endLargeList(R)}}vq.LargeList=tA});var nD=a((Yq)=>{Object.defineProperty(Yq,"__esModule",{value:!0});Yq.LargeUtf8=void 0;var C4=f();class KA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsLargeUtf8(R,T){return(T||new KA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsLargeUtf8(R,T){return R.setPosition(R.position()+C4.SIZE_PREFIX_LENGTH),(T||new KA).__init(R.readInt32(R.position())+R.position(),R)}static startLargeUtf8(R){R.startObject(0)}static endLargeUtf8(R){return R.endObject()}static createLargeUtf8(R){return KA.startLargeUtf8(R),KA.endLargeUtf8(R)}}Yq.LargeUtf8=KA});var ED=a((Ta)=>{Object.defineProperty(Ta,"__esModule",{value:!0});Ta.List=void 0;var B4=f();class bA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsList(R,T){return(T||new bA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsList(R,T){return R.setPosition(R.position()+B4.SIZE_PREFIX_LENGTH),(T||new bA).__init(R.readInt32(R.position())+R.position(),R)}static startList(R){R.startObject(0)}static endList(R){return R.endObject()}static createList(R){return bA.startList(R),bA.endList(R)}}Ta.List=bA});var SC=a((ha)=>{Object.defineProperty(ha,"__esModule",{value:!0});ha.Map=void 0;var D4=f();class Z9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsMap(R,T){return(T||new Z9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsMap(R,T){return R.setPosition(R.position()+D4.SIZE_PREFIX_LENGTH),(T||new Z9).__init(R.readInt32(R.position())+R.position(),R)}keysSorted(){let R=this.bb.__offset(this.bb_pos,4);return R?!!this.bb.readInt8(this.bb_pos+R):!1}static startMap(R){R.startObject(1)}static addKeysSorted(R,T){R.addFieldInt8(0,+T,0)}static endMap(R){return R.endObject()}static createMap(R,T){return Z9.startMap(R),Z9.addKeysSorted(R,T),Z9.endMap(R)}}ha.Map=Z9});var $D=a((Ba)=>{Object.defineProperty(Ba,"__esModule",{value:!0});Ba.Null=void 0;var _4=f();class nA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsNull(R,T){return(T||new nA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsNull(R,T){return R.setPosition(R.position()+_4.SIZE_PREFIX_LENGTH),(T||new nA).__init(R.readInt32(R.position())+R.position(),R)}static startNull(R){R.startObject(0)}static endNull(R){return R.endObject()}static createNull(R){return nA.startNull(R),nA.endNull(R)}}Ba.Null=nA});var Ha=a((_a)=>{Object.defineProperty(_a,"__esModule",{value:!0});_a.RunEndEncoded=void 0;var O4=f();class EA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsRunEndEncoded(R,T){return(T||new EA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsRunEndEncoded(R,T){return R.setPosition(R.position()+O4.SIZE_PREFIX_LENGTH),(T||new EA).__init(R.readInt32(R.position())+R.position(),R)}static startRunEndEncoded(R){R.startObject(0)}static endRunEndEncoded(R){return R.endObject()}static createRunEndEncoded(R){return EA.startRunEndEncoded(R),EA.endRunEndEncoded(R)}}_a.RunEndEncoded=EA});var pD=a((ia)=>{Object.defineProperty(ia,"__esModule",{value:!0});ia.Struct_=void 0;var H4=f();class $A{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsStruct_(R,T){return(T||new $A).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsStruct_(R,T){return R.setPosition(R.position()+H4.SIZE_PREFIX_LENGTH),(T||new $A).__init(R.readInt32(R.position())+R.position(),R)}static startStruct_(R){R.startObject(0)}static endStruct_(R){return R.endObject()}static createStruct_(R){return $A.startStruct_(R),$A.endStruct_(R)}}ia.Struct_=$A});var yC=a((La)=>{Object.defineProperty(La,"__esModule",{value:!0});La.Time=void 0;var i4=f(),aa=ih();class _9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsTime(R,T){return(T||new _9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsTime(R,T){return R.setPosition(R.position()+i4.SIZE_PREFIX_LENGTH),(T||new _9).__init(R.readInt32(R.position())+R.position(),R)}unit(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):aa.TimeUnit.MILLISECOND}bitWidth(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.readInt32(this.bb_pos+R):32}static startTime(R){R.startObject(2)}static addUnit(R,T){R.addFieldInt16(0,T,aa.TimeUnit.MILLISECOND)}static addBitWidth(R,T){R.addFieldInt32(1,T,32)}static endTime(R){return R.endObject()}static createTime(R,T,A){return _9.startTime(R),_9.addUnit(R,T),_9.addBitWidth(R,A),_9.endTime(R)}}La.Time=_9});var gC=a((ca)=>{Object.defineProperty(ca,"__esModule",{value:!0});ca.Timestamp=void 0;var q4=f(),Na=ih();class O9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsTimestamp(R,T){return(T||new O9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsTimestamp(R,T){return R.setPosition(R.position()+q4.SIZE_PREFIX_LENGTH),(T||new O9).__init(R.readInt32(R.position())+R.position(),R)}unit(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):Na.TimeUnit.SECOND}timezone(R){let T=this.bb.__offset(this.bb_pos,6);return T?this.bb.__string(this.bb_pos+T,R):null}static startTimestamp(R){R.startObject(2)}static addUnit(R,T){R.addFieldInt16(0,T,Na.TimeUnit.SECOND)}static addTimezone(R,T){R.addFieldOffset(1,T,0)}static endTimestamp(R){return R.endObject()}static createTimestamp(R,T,A){return O9.startTimestamp(R),O9.addUnit(R,T),O9.addTimezone(R,A),O9.endTimestamp(R)}}ca.Timestamp=O9});var sC=a((Ia)=>{Object.defineProperty(Ia,"__esModule",{value:!0});Ia.Union=void 0;var a4=f(),Ja=aD();class H9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsUnion(R,T){return(T||new H9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsUnion(R,T){return R.setPosition(R.position()+a4.SIZE_PREFIX_LENGTH),(T||new H9).__init(R.readInt32(R.position())+R.position(),R)}mode(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):Ja.UnionMode.Sparse}typeIds(R){let T=this.bb.__offset(this.bb_pos,6);return T?this.bb.readInt32(this.bb.__vector(this.bb_pos+T)+R*4):0}typeIdsLength(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__vector_len(this.bb_pos+R):0}typeIdsArray(){let R=this.bb.__offset(this.bb_pos,6);return R?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+R),this.bb.__vector_len(this.bb_pos+R)):null}static startUnion(R){R.startObject(2)}static addMode(R,T){R.addFieldInt16(0,T,Ja.UnionMode.Sparse)}static addTypeIds(R,T){R.addFieldOffset(1,T,0)}static createTypeIdsVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addInt32(T[A]);return R.endVector()}static startTypeIdsVector(R,T){R.startVector(4,T,4)}static endUnion(R){return R.endObject()}static createUnion(R,T,A){return H9.startUnion(R),H9.addMode(R,T),H9.addTypeIds(R,A),H9.endUnion(R)}}Ia.Union=H9});var rD=a((Sa)=>{Object.defineProperty(Sa,"__esModule",{value:!0});Sa.Utf8=void 0;var L4=f();class pA{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsUtf8(R,T){return(T||new pA).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsUtf8(R,T){return R.setPosition(R.position()+L4.SIZE_PREFIX_LENGTH),(T||new pA).__init(R.readInt32(R.position())+R.position(),R)}static startUtf8(R){R.startObject(0)}static endUtf8(R){return R.endObject()}static createUtf8(R){return pA.startUtf8(R),pA.endUtf8(R)}}Sa.Utf8=pA});var rA=a((Ua)=>{Object.defineProperty(Ua,"__esModule",{value:!0});Ua.unionListToType=Ua.unionToType=Ua.Type=void 0;var ga=tD(),sa=KD(),Pa=WC(),ta=NC(),Ka=cC(),ba=oC(),na=JC(),Ea=IC(),$a=B9(),pa=kC(),ra=bD(),Xa=mq(),Ga=nD(),xa=ED(),Fa=SC(),ea=$D(),la=Ha(),da=pD(),ja=yC(),ua=gC(),Za=sC(),wa=rD(),PC;(function(R){R[R.NONE=0]="NONE",R[R.Null=1]="Null",R[R.Int=2]="Int",R[R.FloatingPoint=3]="FloatingPoint",R[R.Binary=4]="Binary",R[R.Utf8=5]="Utf8",R[R.Bool=6]="Bool",R[R.Decimal=7]="Decimal",R[R.Date=8]="Date",R[R.Time=9]="Time",R[R.Timestamp=10]="Timestamp",R[R.Interval=11]="Interval",R[R.List=12]="List",R[R.Struct_=13]="Struct_",R[R.Union=14]="Union",R[R.FixedSizeBinary=15]="FixedSizeBinary",R[R.FixedSizeList=16]="FixedSizeList",R[R.Map=17]="Map",R[R.Duration=18]="Duration",R[R.LargeBinary=19]="LargeBinary",R[R.LargeUtf8=20]="LargeUtf8",R[R.LargeList=21]="LargeList",R[R.RunEndEncoded=22]="RunEndEncoded"})(PC||(Ua.Type=PC={}));function W4(R,T){switch(PC[R]){case"NONE":return null;case"Null":return T(new ea.Null);case"Int":return T(new $a.Int);case"FloatingPoint":return T(new Ea.FloatingPoint);case"Binary":return T(new ga.Binary);case"Utf8":return T(new wa.Utf8);case"Bool":return T(new sa.Bool);case"Decimal":return T(new ta.Decimal);case"Date":return T(new Pa.Date);case"Time":return T(new ja.Time);case"Timestamp":return T(new ua.Timestamp);case"Interval":return T(new pa.Interval);case"List":return T(new xa.List);case"Struct_":return T(new da.Struct_);case"Union":return T(new Za.Union);case"FixedSizeBinary":return T(new ba.FixedSizeBinary);case"FixedSizeList":return T(new na.FixedSizeList);case"Map":return T(new Fa.Map);case"Duration":return T(new Ka.Duration);case"LargeBinary":return T(new ra.LargeBinary);case"LargeUtf8":return T(new Ga.LargeUtf8);case"LargeList":return T(new Xa.LargeList);case"RunEndEncoded":return T(new la.RunEndEncoded);default:return null}}Ua.unionToType=W4;function N4(R,T,A){switch(PC[R]){case"NONE":return null;case"Null":return T(A,new ea.Null);case"Int":return T(A,new $a.Int);case"FloatingPoint":return T(A,new Ea.FloatingPoint);case"Binary":return T(A,new ga.Binary);case"Utf8":return T(A,new wa.Utf8);case"Bool":return T(A,new sa.Bool);case"Decimal":return T(A,new ta.Decimal);case"Date":return T(A,new Pa.Date);case"Time":return T(A,new ja.Time);case"Timestamp":return T(A,new ua.Timestamp);case"Interval":return T(A,new pa.Interval);case"List":return T(A,new xa.List);case"Struct_":return T(A,new da.Struct_);case"Union":return T(A,new Za.Union);case"FixedSizeBinary":return T(A,new ba.FixedSizeBinary);case"FixedSizeList":return T(A,new na.FixedSizeList);case"Map":return T(A,new Fa.Map);case"Duration":return T(A,new Ka.Duration);case"LargeBinary":return T(A,new ra.LargeBinary);case"LargeUtf8":return T(A,new Ga.LargeUtf8);case"LargeList":return T(A,new Xa.LargeList);case"RunEndEncoded":return T(A,new la.RunEndEncoded);default:return null}}Ua.unionListToType=N4});var XD=a((za)=>{Object.defineProperty(za,"__esModule",{value:!0});za.Field=void 0;var J4=f(),I4=PD(),k4=yA(),fa=rA();class qh{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsField(R,T){return(T||new qh).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsField(R,T){return R.setPosition(R.position()+J4.SIZE_PREFIX_LENGTH),(T||new qh).__init(R.readInt32(R.position())+R.position(),R)}name(R){let T=this.bb.__offset(this.bb_pos,4);return T?this.bb.__string(this.bb_pos+T,R):null}nullable(){let R=this.bb.__offset(this.bb_pos,6);return R?!!this.bb.readInt8(this.bb_pos+R):!1}typeType(){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.readUint8(this.bb_pos+R):fa.Type.NONE}type(R){let T=this.bb.__offset(this.bb_pos,10);return T?this.bb.__union(R,this.bb_pos+T):null}dictionary(R){let T=this.bb.__offset(this.bb_pos,12);return T?(R||new I4.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}children(R,T){let A=this.bb.__offset(this.bb_pos,14);return A?(T||new qh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+A)+R*4),this.bb):null}childrenLength(){let R=this.bb.__offset(this.bb_pos,14);return R?this.bb.__vector_len(this.bb_pos+R):0}customMetadata(R,T){let A=this.bb.__offset(this.bb_pos,16);return A?(T||new k4.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+A)+R*4),this.bb):null}customMetadataLength(){let R=this.bb.__offset(this.bb_pos,16);return R?this.bb.__vector_len(this.bb_pos+R):0}static startField(R){R.startObject(7)}static addName(R,T){R.addFieldOffset(0,T,0)}static addNullable(R,T){R.addFieldInt8(1,+T,0)}static addTypeType(R,T){R.addFieldInt8(2,T,fa.Type.NONE)}static addType(R,T){R.addFieldOffset(3,T,0)}static addDictionary(R,T){R.addFieldOffset(4,T,0)}static addChildren(R,T){R.addFieldOffset(5,T,0)}static createChildrenVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addOffset(T[A]);return R.endVector()}static startChildrenVector(R,T){R.startVector(4,T,4)}static addCustomMetadata(R,T){R.addFieldOffset(6,T,0)}static createCustomMetadataVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addOffset(T[A]);return R.endVector()}static startCustomMetadataVector(R,T){R.startVector(4,T,4)}static endField(R){return R.endObject()}}za.Field=qh});var tC=a((Va)=>{Object.defineProperty(Va,"__esModule",{value:!0});Va.Schema=void 0;var S4=f(),va=sD(),y4=XD(),g4=yA();class PT{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsSchema(R,T){return(T||new PT).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsSchema(R,T){return R.setPosition(R.position()+S4.SIZE_PREFIX_LENGTH),(T||new PT).__init(R.readInt32(R.position())+R.position(),R)}endianness(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):va.Endianness.Little}fields(R,T){let A=this.bb.__offset(this.bb_pos,6);return A?(T||new y4.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+A)+R*4),this.bb):null}fieldsLength(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__vector_len(this.bb_pos+R):0}customMetadata(R,T){let A=this.bb.__offset(this.bb_pos,8);return A?(T||new g4.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+A)+R*4),this.bb):null}customMetadataLength(){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__vector_len(this.bb_pos+R):0}features(R){let T=this.bb.__offset(this.bb_pos,10);return T?this.bb.readInt64(this.bb.__vector(this.bb_pos+T)+R*8):BigInt(0)}featuresLength(){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.__vector_len(this.bb_pos+R):0}static startSchema(R){R.startObject(4)}static addEndianness(R,T){R.addFieldInt16(0,T,va.Endianness.Little)}static addFields(R,T){R.addFieldOffset(1,T,0)}static createFieldsVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addOffset(T[A]);return R.endVector()}static startFieldsVector(R,T){R.startVector(4,T,4)}static addCustomMetadata(R,T){R.addFieldOffset(2,T,0)}static createCustomMetadataVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addOffset(T[A]);return R.endVector()}static startCustomMetadataVector(R,T){R.startVector(4,T,4)}static addFeatures(R,T){R.addFieldOffset(3,T,0)}static createFeaturesVector(R,T){R.startVector(8,T.length,8);for(let A=T.length-1;A>=0;A--)R.addInt64(T[A]);return R.endVector()}static startFeaturesVector(R,T){R.startVector(8,T,8)}static endSchema(R){return R.endObject()}static finishSchemaBuffer(R,T){R.finish(T)}static finishSizePrefixedSchemaBuffer(R,T){R.finish(T,void 0,!0)}static createSchema(R,T,A,h,C){return PT.startSchema(R),PT.addEndianness(R,T),PT.addFields(R,A),PT.addCustomMetadata(R,h),PT.addFeatures(R,C),PT.endSchema(R)}}Va.Schema=PT});var AL=a((RL)=>{Object.defineProperty(RL,"__esModule",{value:!0});RL.SparseMatrixCompressedAxis=void 0;var Ya;(function(R){R[R.Row=0]="Row",R[R.Column=1]="Column"})(Ya||(RL.SparseMatrixCompressedAxis=Ya={}))});var OL=a((DL)=>{Object.defineProperty(DL,"__esModule",{value:!0});DL.SparseMatrixIndexCSX=void 0;var s4=f(),hL=h9(),CL=B9(),BL=AL();class KC{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsSparseMatrixIndexCSX(R,T){return(T||new KC).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsSparseMatrixIndexCSX(R,T){return R.setPosition(R.position()+s4.SIZE_PREFIX_LENGTH),(T||new KC).__init(R.readInt32(R.position())+R.position(),R)}compressedAxis(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):BL.SparseMatrixCompressedAxis.Row}indptrType(R){let T=this.bb.__offset(this.bb_pos,6);return T?(R||new CL.Int).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}indptrBuffer(R){let T=this.bb.__offset(this.bb_pos,8);return T?(R||new hL.Buffer).__init(this.bb_pos+T,this.bb):null}indicesType(R){let T=this.bb.__offset(this.bb_pos,10);return T?(R||new CL.Int).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}indicesBuffer(R){let T=this.bb.__offset(this.bb_pos,12);return T?(R||new hL.Buffer).__init(this.bb_pos+T,this.bb):null}static startSparseMatrixIndexCSX(R){R.startObject(5)}static addCompressedAxis(R,T){R.addFieldInt16(0,T,BL.SparseMatrixCompressedAxis.Row)}static addIndptrType(R,T){R.addFieldOffset(1,T,0)}static addIndptrBuffer(R,T){R.addFieldStruct(2,T,0)}static addIndicesType(R,T){R.addFieldOffset(3,T,0)}static addIndicesBuffer(R,T){R.addFieldStruct(4,T,0)}static endSparseMatrixIndexCSX(R){let T=R.endObject();return R.requiredField(T,6),R.requiredField(T,8),R.requiredField(T,10),R.requiredField(T,12),T}}DL.SparseMatrixIndexCSX=KC});var qL=a((HL)=>{Object.defineProperty(HL,"__esModule",{value:!0});HL.SparseTensorIndexCOO=void 0;var P4=f(),t4=h9(),K4=B9();class bC{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsSparseTensorIndexCOO(R,T){return(T||new bC).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsSparseTensorIndexCOO(R,T){return R.setPosition(R.position()+P4.SIZE_PREFIX_LENGTH),(T||new bC).__init(R.readInt32(R.position())+R.position(),R)}indicesType(R){let T=this.bb.__offset(this.bb_pos,4);return T?(R||new K4.Int).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}indicesStrides(R){let T=this.bb.__offset(this.bb_pos,6);return T?this.bb.readInt64(this.bb.__vector(this.bb_pos+T)+R*8):BigInt(0)}indicesStridesLength(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__vector_len(this.bb_pos+R):0}indicesBuffer(R){let T=this.bb.__offset(this.bb_pos,8);return T?(R||new t4.Buffer).__init(this.bb_pos+T,this.bb):null}isCanonical(){let R=this.bb.__offset(this.bb_pos,10);return R?!!this.bb.readInt8(this.bb_pos+R):!1}static startSparseTensorIndexCOO(R){R.startObject(4)}static addIndicesType(R,T){R.addFieldOffset(0,T,0)}static addIndicesStrides(R,T){R.addFieldOffset(1,T,0)}static createIndicesStridesVector(R,T){R.startVector(8,T.length,8);for(let A=T.length-1;A>=0;A--)R.addInt64(T[A]);return R.endVector()}static startIndicesStridesVector(R,T){R.startVector(8,T,8)}static addIndicesBuffer(R,T){R.addFieldStruct(2,T,0)}static addIsCanonical(R,T){R.addFieldInt8(3,+T,0)}static endSparseTensorIndexCOO(R){let T=R.endObject();return R.requiredField(T,4),R.requiredField(T,8),T}}HL.SparseTensorIndexCOO=bC});var cL=a((WL)=>{Object.defineProperty(WL,"__esModule",{value:!0});WL.SparseTensorIndexCSF=void 0;var b4=f(),aL=h9(),LL=B9();class nC{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsSparseTensorIndexCSF(R,T){return(T||new nC).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsSparseTensorIndexCSF(R,T){return R.setPosition(R.position()+b4.SIZE_PREFIX_LENGTH),(T||new nC).__init(R.readInt32(R.position())+R.position(),R)}indptrType(R){let T=this.bb.__offset(this.bb_pos,4);return T?(R||new LL.Int).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}indptrBuffers(R,T){let A=this.bb.__offset(this.bb_pos,6);return A?(T||new aL.Buffer).__init(this.bb.__vector(this.bb_pos+A)+R*16,this.bb):null}indptrBuffersLength(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.__vector_len(this.bb_pos+R):0}indicesType(R){let T=this.bb.__offset(this.bb_pos,8);return T?(R||new LL.Int).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}indicesBuffers(R,T){let A=this.bb.__offset(this.bb_pos,10);return A?(T||new aL.Buffer).__init(this.bb.__vector(this.bb_pos+A)+R*16,this.bb):null}indicesBuffersLength(){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.__vector_len(this.bb_pos+R):0}axisOrder(R){let T=this.bb.__offset(this.bb_pos,12);return T?this.bb.readInt32(this.bb.__vector(this.bb_pos+T)+R*4):0}axisOrderLength(){let R=this.bb.__offset(this.bb_pos,12);return R?this.bb.__vector_len(this.bb_pos+R):0}axisOrderArray(){let R=this.bb.__offset(this.bb_pos,12);return R?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+R),this.bb.__vector_len(this.bb_pos+R)):null}static startSparseTensorIndexCSF(R){R.startObject(5)}static addIndptrType(R,T){R.addFieldOffset(0,T,0)}static addIndptrBuffers(R,T){R.addFieldOffset(1,T,0)}static startIndptrBuffersVector(R,T){R.startVector(16,T,8)}static addIndicesType(R,T){R.addFieldOffset(2,T,0)}static addIndicesBuffers(R,T){R.addFieldOffset(3,T,0)}static startIndicesBuffersVector(R,T){R.startVector(16,T,8)}static addAxisOrder(R,T){R.addFieldOffset(4,T,0)}static createAxisOrderVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addInt32(T[A]);return R.endVector()}static startAxisOrderVector(R,T){R.startVector(4,T,4)}static endSparseTensorIndexCSF(R){let T=R.endObject();return R.requiredField(T,4),R.requiredField(T,6),R.requiredField(T,8),R.requiredField(T,10),R.requiredField(T,12),T}}WL.SparseTensorIndexCSF=nC});var yL=a((kL)=>{Object.defineProperty(kL,"__esModule",{value:!0});kL.unionListToSparseTensorIndex=kL.unionToSparseTensorIndex=kL.SparseTensorIndex=void 0;var oL=OL(),JL=qL(),IL=cL(),EC;(function(R){R[R.NONE=0]="NONE",R[R.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",R[R.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",R[R.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(EC||(kL.SparseTensorIndex=EC={}));function n4(R,T){switch(EC[R]){case"NONE":return null;case"SparseTensorIndexCOO":return T(new JL.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return T(new oL.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return T(new IL.SparseTensorIndexCSF);default:return null}}kL.unionToSparseTensorIndex=n4;function E4(R,T,A){switch(EC[R]){case"NONE":return null;case"SparseTensorIndexCOO":return T(A,new JL.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return T(A,new oL.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return T(A,new IL.SparseTensorIndexCSF);default:return null}}kL.unionListToSparseTensorIndex=E4});var GD=a((gL)=>{Object.defineProperty(gL,"__esModule",{value:!0});gL.TensorDim=void 0;var r4=f();class i9{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsTensorDim(R,T){return(T||new i9).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsTensorDim(R,T){return R.setPosition(R.position()+r4.SIZE_PREFIX_LENGTH),(T||new i9).__init(R.readInt32(R.position())+R.position(),R)}size(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt64(this.bb_pos+R):BigInt("0")}name(R){let T=this.bb.__offset(this.bb_pos,6);return T?this.bb.__string(this.bb_pos+T,R):null}static startTensorDim(R){R.startObject(2)}static addSize(R,T){R.addFieldInt64(0,T,BigInt("0"))}static addName(R,T){R.addFieldOffset(1,T,0)}static endTensorDim(R){return R.endObject()}static createTensorDim(R,T,A){return i9.startTensorDim(R),i9.addSize(R,T),i9.addName(R,A),i9.endTensorDim(R)}}gL.TensorDim=i9});var nL=a((KL)=>{Object.defineProperty(KL,"__esModule",{value:!0});KL.SparseTensor=void 0;var X4=f(),G4=h9(),PL=yL(),x4=GD(),tL=rA();class $C{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsSparseTensor(R,T){return(T||new $C).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsSparseTensor(R,T){return R.setPosition(R.position()+X4.SIZE_PREFIX_LENGTH),(T||new $C).__init(R.readInt32(R.position())+R.position(),R)}typeType(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readUint8(this.bb_pos+R):tL.Type.NONE}type(R){let T=this.bb.__offset(this.bb_pos,6);return T?this.bb.__union(R,this.bb_pos+T):null}shape(R,T){let A=this.bb.__offset(this.bb_pos,8);return A?(T||new x4.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+A)+R*4),this.bb):null}shapeLength(){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__vector_len(this.bb_pos+R):0}nonZeroLength(){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.readInt64(this.bb_pos+R):BigInt("0")}sparseIndexType(){let R=this.bb.__offset(this.bb_pos,12);return R?this.bb.readUint8(this.bb_pos+R):PL.SparseTensorIndex.NONE}sparseIndex(R){let T=this.bb.__offset(this.bb_pos,14);return T?this.bb.__union(R,this.bb_pos+T):null}data(R){let T=this.bb.__offset(this.bb_pos,16);return T?(R||new G4.Buffer).__init(this.bb_pos+T,this.bb):null}static startSparseTensor(R){R.startObject(7)}static addTypeType(R,T){R.addFieldInt8(0,T,tL.Type.NONE)}static addType(R,T){R.addFieldOffset(1,T,0)}static addShape(R,T){R.addFieldOffset(2,T,0)}static createShapeVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addOffset(T[A]);return R.endVector()}static startShapeVector(R,T){R.startVector(4,T,4)}static addNonZeroLength(R,T){R.addFieldInt64(3,T,BigInt("0"))}static addSparseIndexType(R,T){R.addFieldInt8(4,T,PL.SparseTensorIndex.NONE)}static addSparseIndex(R,T){R.addFieldOffset(5,T,0)}static addData(R,T){R.addFieldStruct(6,T,0)}static endSparseTensor(R){let T=R.endObject();return R.requiredField(T,6),R.requiredField(T,8),R.requiredField(T,14),R.requiredField(T,16),T}static finishSparseTensorBuffer(R,T){R.finish(T)}static finishSizePrefixedSparseTensorBuffer(R,T){R.finish(T,void 0,!0)}}KL.SparseTensor=$C});var rL=a(($L)=>{Object.defineProperty($L,"__esModule",{value:!0});$L.Tensor=void 0;var F4=f(),e4=h9(),l4=GD(),EL=rA();class pC{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsTensor(R,T){return(T||new pC).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsTensor(R,T){return R.setPosition(R.position()+F4.SIZE_PREFIX_LENGTH),(T||new pC).__init(R.readInt32(R.position())+R.position(),R)}typeType(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readUint8(this.bb_pos+R):EL.Type.NONE}type(R){let T=this.bb.__offset(this.bb_pos,6);return T?this.bb.__union(R,this.bb_pos+T):null}shape(R,T){let A=this.bb.__offset(this.bb_pos,8);return A?(T||new l4.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+A)+R*4),this.bb):null}shapeLength(){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__vector_len(this.bb_pos+R):0}strides(R){let T=this.bb.__offset(this.bb_pos,10);return T?this.bb.readInt64(this.bb.__vector(this.bb_pos+T)+R*8):BigInt(0)}stridesLength(){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.__vector_len(this.bb_pos+R):0}data(R){let T=this.bb.__offset(this.bb_pos,12);return T?(R||new e4.Buffer).__init(this.bb_pos+T,this.bb):null}static startTensor(R){R.startObject(5)}static addTypeType(R,T){R.addFieldInt8(0,T,EL.Type.NONE)}static addType(R,T){R.addFieldOffset(1,T,0)}static addShape(R,T){R.addFieldOffset(2,T,0)}static createShapeVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addOffset(T[A]);return R.endVector()}static startShapeVector(R,T){R.startVector(4,T,4)}static addStrides(R,T){R.addFieldOffset(3,T,0)}static createStridesVector(R,T){R.startVector(8,T.length,8);for(let A=T.length-1;A>=0;A--)R.addInt64(T[A]);return R.endVector()}static startStridesVector(R,T){R.startVector(8,T,8)}static addData(R,T){R.addFieldStruct(4,T,0)}static endTensor(R){let T=R.endObject();return R.requiredField(T,6),R.requiredField(T,8),R.requiredField(T,12),T}static finishTensorBuffer(R,T){R.finish(T)}static finishSizePrefixedTensorBuffer(R,T){R.finish(T,void 0,!0)}}$L.Tensor=pC});var XC=a((lL)=>{Object.defineProperty(lL,"__esModule",{value:!0});lL.unionListToMessageHeader=lL.unionToMessageHeader=lL.MessageHeader=void 0;var XL=gD(),GL=qC(),xL=tC(),FL=nL(),eL=rL(),rC;(function(R){R[R.NONE=0]="NONE",R[R.Schema=1]="Schema",R[R.DictionaryBatch=2]="DictionaryBatch",R[R.RecordBatch=3]="RecordBatch",R[R.Tensor=4]="Tensor",R[R.SparseTensor=5]="SparseTensor"})(rC||(lL.MessageHeader=rC={}));function d4(R,T){switch(rC[R]){case"NONE":return null;case"Schema":return T(new xL.Schema);case"DictionaryBatch":return T(new XL.DictionaryBatch);case"RecordBatch":return T(new GL.RecordBatch);case"Tensor":return T(new eL.Tensor);case"SparseTensor":return T(new FL.SparseTensor);default:return null}}lL.unionToMessageHeader=d4;function j4(R,T,A){switch(rC[R]){case"NONE":return null;case"Schema":return T(A,new xL.Schema);case"DictionaryBatch":return T(A,new XL.DictionaryBatch);case"RecordBatch":return T(A,new GL.RecordBatch);case"Tensor":return T(A,new eL.Tensor);case"SparseTensor":return T(A,new FL.SparseTensor);default:return null}}lL.unionListToMessageHeader=j4});var NR=a((ZT)=>{Object.defineProperty(ZT,"__esModule",{value:!0});ZT.BufferType=ZT.Type=ZT.MessageHeader=ZT.IntervalUnit=ZT.TimeUnit=ZT.DateUnit=ZT.Precision=ZT.UnionMode=ZT.MetadataVersion=void 0;var w4=OC();Object.defineProperty(ZT,"MetadataVersion",{enumerable:!0,get:function(){return w4.MetadataVersion}});var U4=aD();Object.defineProperty(ZT,"UnionMode",{enumerable:!0,get:function(){return U4.UnionMode}});var Q4=LD();Object.defineProperty(ZT,"Precision",{enumerable:!0,get:function(){return Q4.Precision}});var f4=WD();Object.defineProperty(ZT,"DateUnit",{enumerable:!0,get:function(){return f4.DateUnit}});var z4=ih();Object.defineProperty(ZT,"TimeUnit",{enumerable:!0,get:function(){return z4.TimeUnit}});var M4=ND();Object.defineProperty(ZT,"IntervalUnit",{enumerable:!0,get:function(){return M4.IntervalUnit}});var v4=XC();Object.defineProperty(ZT,"MessageHeader",{enumerable:!0,get:function(){return v4.MessageHeader}});var jL;(function(R){R[R.NONE=0]="NONE",R[R.Null=1]="Null",R[R.Int=2]="Int",R[R.Float=3]="Float",R[R.Binary=4]="Binary",R[R.Utf8=5]="Utf8",R[R.Bool=6]="Bool",R[R.Decimal=7]="Decimal",R[R.Date=8]="Date",R[R.Time=9]="Time",R[R.Timestamp=10]="Timestamp",R[R.Interval=11]="Interval",R[R.List=12]="List",R[R.Struct=13]="Struct",R[R.Union=14]="Union",R[R.FixedSizeBinary=15]="FixedSizeBinary",R[R.FixedSizeList=16]="FixedSizeList",R[R.Map=17]="Map",R[R.Duration=18]="Duration",R[R.LargeBinary=19]="LargeBinary",R[R.LargeUtf8=20]="LargeUtf8",R[R.Dictionary=-1]="Dictionary",R[R.Int8=-2]="Int8",R[R.Int16=-3]="Int16",R[R.Int32=-4]="Int32",R[R.Int64=-5]="Int64",R[R.Uint8=-6]="Uint8",R[R.Uint16=-7]="Uint16",R[R.Uint32=-8]="Uint32",R[R.Uint64=-9]="Uint64",R[R.Float16=-10]="Float16",R[R.Float32=-11]="Float32",R[R.Float64=-12]="Float64",R[R.DateDay=-13]="DateDay",R[R.DateMillisecond=-14]="DateMillisecond",R[R.TimestampSecond=-15]="TimestampSecond",R[R.TimestampMillisecond=-16]="TimestampMillisecond",R[R.TimestampMicrosecond=-17]="TimestampMicrosecond",R[R.TimestampNanosecond=-18]="TimestampNanosecond",R[R.TimeSecond=-19]="TimeSecond",R[R.TimeMillisecond=-20]="TimeMillisecond",R[R.TimeMicrosecond=-21]="TimeMicrosecond",R[R.TimeNanosecond=-22]="TimeNanosecond",R[R.DenseUnion=-23]="DenseUnion",R[R.SparseUnion=-24]="SparseUnion",R[R.IntervalDayTime=-25]="IntervalDayTime",R[R.IntervalYearMonth=-26]="IntervalYearMonth",R[R.DurationSecond=-27]="DurationSecond",R[R.DurationMillisecond=-28]="DurationMillisecond",R[R.DurationMicrosecond=-29]="DurationMicrosecond",R[R.DurationNanosecond=-30]="DurationNanosecond"})(jL||(ZT.Type=jL={}));var uL;(function(R){R[R.OFFSET=0]="OFFSET",R[R.DATA=1]="DATA",R[R.VALIDITY=2]="VALIDITY",R[R.TYPE=3]="TYPE"})(uL||(ZT.BufferType=uL={}))});var ah=a((UL)=>{Object.defineProperty(UL,"__esModule",{value:!0});UL.valueToString=void 0;var m4=void 0;function wL(R){if(R===null)return"null";if(R===m4)return"undefined";switch(typeof R){case"number":return`${R}`;case"bigint":return`${R}`;case"string":return`"${R}"`}if(typeof R[Symbol.toPrimitive]==="function")return R[Symbol.toPrimitive]("string");if(ArrayBuffer.isView(R)){if(R instanceof BigInt64Array||R instanceof BigUint64Array)return`[${[...R].map((T)=>wL(T))}]`;return`[${R}]`}return ArrayBuffer.isView(R)?`[${R}]`:JSON.stringify(R,(T,A)=>typeof A==="bigint"?`${A}`:A)}UL.valueToString=wL});var q9=a((fL)=>{Object.defineProperty(fL,"__esModule",{value:!0});fL.divideBigInts=fL.bigIntToNumber=void 0;function GC(R){if(typeof R==="bigint"&&(R<Number.MIN_SAFE_INTEGER||R>Number.MAX_SAFE_INTEGER))throw TypeError(`${R} is not safe to convert to a number.`);return Number(R)}fL.bigIntToNumber=GC;function Y4(R,T){return GC(R/T)+GC(R%T)/GC(T)}fL.divideBigInts=Y4});var FC=a((vL)=>{Object.defineProperty(vL,"__esModule",{value:!0});vL.BN=vL.bigNumToBigInt=vL.bigNumToString=vL.bigNumToNumber=vL.isArrowBigNumSymbol=void 0;var Ts=bR(),xC=q9();vL.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function aT(R,...T){if(T.length===0)return Object.setPrototypeOf((0,Ts.toArrayBufferView)(this.TypedArray,R),this.constructor.prototype);return Object.setPrototypeOf(new this.TypedArray(R,...T),this.constructor.prototype)}aT.prototype[vL.isArrowBigNumSymbol]=!0;aT.prototype.toJSON=function(){return`"${xA(this)}"`};aT.prototype.valueOf=function(R){return FD(this,R)};aT.prototype.toString=function(){return xA(this)};aT.prototype[Symbol.toPrimitive]=function(R="default"){switch(R){case"number":return FD(this);case"string":return xA(this);case"default":return ML(this)}return xA(this)};function XA(...R){return aT.apply(this,R)}function GA(...R){return aT.apply(this,R)}function Lh(...R){return aT.apply(this,R)}Object.setPrototypeOf(XA.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(GA.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Lh.prototype,Object.create(Uint32Array.prototype));Object.assign(XA.prototype,aT.prototype,{constructor:XA,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(GA.prototype,aT.prototype,{constructor:GA,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Lh.prototype,aT.prototype,{constructor:Lh,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});var As=BigInt(4294967296)*BigInt(4294967296),hs=As-BigInt(1);function FD(R,T){let{buffer:A,byteOffset:h,byteLength:C,signed:B}=R,D=new BigUint64Array(A,h,C/8),_=B&&D.at(-1)&BigInt(1)<<BigInt(63),O=BigInt(0),H=0;if(_){for(let i of D)O|=(i^hs)*(BigInt(1)<<BigInt(64*H++));O*=BigInt(-1),O-=BigInt(1)}else for(let i of D)O|=i*(BigInt(1)<<BigInt(64*H++));if(typeof T==="number"){let i=BigInt(Math.pow(10,T)),J=O/i,P=O%i;return(0,xC.bigIntToNumber)(J)+(0,xC.bigIntToNumber)(P)/(0,xC.bigIntToNumber)(i)}return(0,xC.bigIntToNumber)(O)}vL.bigNumToNumber=FD;function xA(R){if(R.byteLength===8)return`${new R.BigIntArray(R.buffer,R.byteOffset,1)[0]}`;if(!R.signed)return xD(R);let T=new Uint16Array(R.buffer,R.byteOffset,R.byteLength/2);if(new Int16Array([T.at(-1)])[0]>=0)return xD(R);T=T.slice();let h=1;for(let B=0;B<T.length;B++){let D=T[B],_=~D+h;T[B]=_,h&=D===0?1:0}return`-${xD(T)}`}vL.bigNumToString=xA;function ML(R){if(R.byteLength===8)return new R.BigIntArray(R.buffer,R.byteOffset,1)[0];else return xA(R)}vL.bigNumToBigInt=ML;function xD(R){let T="",A=new Uint32Array(2),h=new Uint16Array(R.buffer,R.byteOffset,R.byteLength/2),C=new Uint32Array((h=new Uint16Array(h).reverse()).buffer),B=-1,D=h.length-1;do{for(A[0]=h[B=0];B<D;)h[B++]=A[1]=A[0]/10,A[0]=(A[0]-A[1]*10<<16)+h[B];h[B]=A[1]=A[0]/10,A[0]=A[0]-A[1]*10,T=`${A[0]}${T}`}while(C[0]||C[1]||C[2]||C[3]);return T!==null&&T!==void 0?T:"0"}class eD{static new(R,T){switch(T){case!0:return new XA(R);case!1:return new GA(R)}switch(R.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new XA(R)}if(R.byteLength===16)return new Lh(R);return new GA(R)}static signed(R){return new XA(R)}static unsigned(R){return new GA(R)}static decimal(R){return new Lh(R)}constructor(R,T){return eD.new(R,T)}}vL.BN=eD});var iR=a((lW)=>{var YL,RW,TW,AW,hW,CW,BW,DW,_W,OW,HW,iW,qW,aW,LW,WW,NW,cW,oW,JW,IW,kW;Object.defineProperty(lW,"__esModule",{value:!0});lW.Map_=lW.FixedSizeList=lW.FixedSizeBinary=lW.SparseUnion=lW.DenseUnion=lW.Union=lW.Struct=lW.List=lW.DurationNanosecond=lW.DurationMicrosecond=lW.DurationMillisecond=lW.DurationSecond=lW.Duration=lW.IntervalYearMonth=lW.IntervalDayTime=lW.Interval=lW.TimestampNanosecond=lW.TimestampMicrosecond=lW.TimestampMillisecond=lW.TimestampSecond=lW.Timestamp=lW.TimeNanosecond=lW.TimeMicrosecond=lW.TimeMillisecond=lW.TimeSecond=lW.Time=lW.DateMillisecond=lW.DateDay=lW.Date_=lW.Decimal=lW.Bool=lW.LargeUtf8=lW.Utf8=lW.LargeBinary=lW.Binary=lW.Float64=lW.Float32=lW.Float16=lW.Float=lW.Uint64=lW.Uint32=lW.Uint16=lW.Uint8=lW.Int64=lW.Int32=lW.Int16=lW.Int8=lW.Int=lW.Null=lW.DataType=void 0;lW.strideForType=lW.Dictionary=void 0;var _s=q9(),g=NR();class CR{static isNull(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Null}static isInt(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Int}static isFloat(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Float}static isBinary(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Binary}static isLargeBinary(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.LargeBinary}static isUtf8(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Utf8}static isLargeUtf8(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.LargeUtf8}static isBool(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Bool}static isDecimal(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Decimal}static isDate(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Date}static isTime(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Time}static isTimestamp(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Timestamp}static isInterval(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Interval}static isDuration(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Duration}static isList(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.List}static isStruct(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Struct}static isUnion(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Union}static isFixedSizeBinary(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.FixedSizeBinary}static isFixedSizeList(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.FixedSizeList}static isMap(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Map}static isDictionary(R){return(R===null||R===void 0?void 0:R.typeId)===g.Type.Dictionary}static isDenseUnion(R){return CR.isUnion(R)&&R.mode===g.UnionMode.Dense}static isSparseUnion(R){return CR.isUnion(R)&&R.mode===g.UnionMode.Sparse}constructor(R){this.typeId=R}}lW.DataType=CR;YL=Symbol.toStringTag;CR[YL]=((R)=>{return R.children=null,R.ArrayType=Array,R.OffsetArrayType=Int32Array,R[Symbol.toStringTag]="DataType"})(CR.prototype);class eC extends CR{constructor(){super(g.Type.Null)}toString(){return"Null"}}lW.Null=eC;RW=Symbol.toStringTag;eC[RW]=((R)=>R[Symbol.toStringTag]="Null")(eC.prototype);class mR extends CR{constructor(R,T){super(g.Type.Int);this.isSigned=R,this.bitWidth=T}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}lW.Int=mR;TW=Symbol.toStringTag;mR[TW]=((R)=>{return R.isSigned=null,R.bitWidth=null,R[Symbol.toStringTag]="Int"})(mR.prototype);class lD extends mR{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}lW.Int8=lD;class dD extends mR{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}lW.Int16=dD;class jD extends mR{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}lW.Int32=jD;class uD extends mR{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}lW.Int64=uD;class ZD extends mR{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}lW.Uint8=ZD;class wD extends mR{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}lW.Uint16=wD;class UD extends mR{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}lW.Uint32=UD;class QD extends mR{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}lW.Uint64=QD;Object.defineProperty(lD.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(dD.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(jD.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(uD.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(ZD.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(wD.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(UD.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(QD.prototype,"ArrayType",{value:BigUint64Array});class w9 extends CR{constructor(R){super(g.Type.Float);this.precision=R}get ArrayType(){switch(this.precision){case g.Precision.HALF:return Uint16Array;case g.Precision.SINGLE:return Float32Array;case g.Precision.DOUBLE:return Float64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}lW.Float=w9;AW=Symbol.toStringTag;w9[AW]=((R)=>{return R.precision=null,R[Symbol.toStringTag]="Float"})(w9.prototype);class fD extends w9{constructor(){super(g.Precision.HALF)}}lW.Float16=fD;class zD extends w9{constructor(){super(g.Precision.SINGLE)}}lW.Float32=zD;class MD extends w9{constructor(){super(g.Precision.DOUBLE)}}lW.Float64=MD;Object.defineProperty(fD.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(zD.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(MD.prototype,"ArrayType",{value:Float64Array});class lC extends CR{constructor(){super(g.Type.Binary)}toString(){return"Binary"}}lW.Binary=lC;hW=Symbol.toStringTag;lC[hW]=((R)=>{return R.ArrayType=Uint8Array,R[Symbol.toStringTag]="Binary"})(lC.prototype);class dC extends CR{constructor(){super(g.Type.LargeBinary)}toString(){return"LargeBinary"}}lW.LargeBinary=dC;CW=Symbol.toStringTag;dC[CW]=((R)=>{return R.ArrayType=Uint8Array,R.OffsetArrayType=BigInt64Array,R[Symbol.toStringTag]="LargeBinary"})(dC.prototype);class jC extends CR{constructor(){super(g.Type.Utf8)}toString(){return"Utf8"}}lW.Utf8=jC;BW=Symbol.toStringTag;jC[BW]=((R)=>{return R.ArrayType=Uint8Array,R[Symbol.toStringTag]="Utf8"})(jC.prototype);class uC extends CR{constructor(){super(g.Type.LargeUtf8)}toString(){return"LargeUtf8"}}lW.LargeUtf8=uC;DW=Symbol.toStringTag;uC[DW]=((R)=>{return R.ArrayType=Uint8Array,R.OffsetArrayType=BigInt64Array,R[Symbol.toStringTag]="LargeUtf8"})(uC.prototype);class ZC extends CR{constructor(){super(g.Type.Bool)}toString(){return"Bool"}}lW.Bool=ZC;_W=Symbol.toStringTag;ZC[_W]=((R)=>{return R.ArrayType=Uint8Array,R[Symbol.toStringTag]="Bool"})(ZC.prototype);class wC extends CR{constructor(R,T,A=128){super(g.Type.Decimal);this.scale=R,this.precision=T,this.bitWidth=A}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}lW.Decimal=wC;OW=Symbol.toStringTag;wC[OW]=((R)=>{return R.scale=null,R.precision=null,R.ArrayType=Uint32Array,R[Symbol.toStringTag]="Decimal"})(wC.prototype);class FA extends CR{constructor(R){super(g.Type.Date);this.unit=R}toString(){return`Date${(this.unit+1)*32}<${g.DateUnit[this.unit]}>`}get ArrayType(){return this.unit===g.DateUnit.DAY?Int32Array:BigInt64Array}}lW.Date_=FA;HW=Symbol.toStringTag;FA[HW]=((R)=>{return R.unit=null,R[Symbol.toStringTag]="Date"})(FA.prototype);class SW extends FA{constructor(){super(g.DateUnit.DAY)}}lW.DateDay=SW;class yW extends FA{constructor(){super(g.DateUnit.MILLISECOND)}}lW.DateMillisecond=yW;class a9 extends CR{constructor(R,T){super(g.Type.Time);this.unit=R,this.bitWidth=T}toString(){return`Time${this.bitWidth}<${g.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}lW.Time=a9;iW=Symbol.toStringTag;a9[iW]=((R)=>{return R.unit=null,R.bitWidth=null,R[Symbol.toStringTag]="Time"})(a9.prototype);class gW extends a9{constructor(){super(g.TimeUnit.SECOND,32)}}lW.TimeSecond=gW;class sW extends a9{constructor(){super(g.TimeUnit.MILLISECOND,32)}}lW.TimeMillisecond=sW;class PW extends a9{constructor(){super(g.TimeUnit.MICROSECOND,64)}}lW.TimeMicrosecond=PW;class tW extends a9{constructor(){super(g.TimeUnit.NANOSECOND,64)}}lW.TimeNanosecond=tW;class L9 extends CR{constructor(R,T){super(g.Type.Timestamp);this.unit=R,this.timezone=T}toString(){return`Timestamp<${g.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}lW.Timestamp=L9;qW=Symbol.toStringTag;L9[qW]=((R)=>{return R.unit=null,R.timezone=null,R.ArrayType=BigInt64Array,R[Symbol.toStringTag]="Timestamp"})(L9.prototype);class KW extends L9{constructor(R){super(g.TimeUnit.SECOND,R)}}lW.TimestampSecond=KW;class bW extends L9{constructor(R){super(g.TimeUnit.MILLISECOND,R)}}lW.TimestampMillisecond=bW;class nW extends L9{constructor(R){super(g.TimeUnit.MICROSECOND,R)}}lW.TimestampMicrosecond=nW;class EW extends L9{constructor(R){super(g.TimeUnit.NANOSECOND,R)}}lW.TimestampNanosecond=EW;class eA extends CR{constructor(R){super(g.Type.Interval);this.unit=R}toString(){return`Interval<${g.IntervalUnit[this.unit]}>`}}lW.Interval=eA;aW=Symbol.toStringTag;eA[aW]=((R)=>{return R.unit=null,R.ArrayType=Int32Array,R[Symbol.toStringTag]="Interval"})(eA.prototype);class $W extends eA{constructor(){super(g.IntervalUnit.DAY_TIME)}}lW.IntervalDayTime=$W;class pW extends eA{constructor(){super(g.IntervalUnit.YEAR_MONTH)}}lW.IntervalYearMonth=pW;class W9 extends CR{constructor(R){super(g.Type.Duration);this.unit=R}toString(){return`Duration<${g.TimeUnit[this.unit]}>`}}lW.Duration=W9;LW=Symbol.toStringTag;W9[LW]=((R)=>{return R.unit=null,R.ArrayType=BigInt64Array,R[Symbol.toStringTag]="Duration"})(W9.prototype);class rW extends W9{constructor(){super(g.TimeUnit.SECOND)}}lW.DurationSecond=rW;class XW extends W9{constructor(){super(g.TimeUnit.MILLISECOND)}}lW.DurationMillisecond=XW;class GW extends W9{constructor(){super(g.TimeUnit.MICROSECOND)}}lW.DurationMicrosecond=GW;class xW extends W9{constructor(){super(g.TimeUnit.NANOSECOND)}}lW.DurationNanosecond=xW;class UC extends CR{constructor(R){super(g.Type.List);this.children=[R]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}lW.List=UC;WW=Symbol.toStringTag;UC[WW]=((R)=>{return R.children=null,R[Symbol.toStringTag]="List"})(UC.prototype);class QC extends CR{constructor(R){super(g.Type.Struct);this.children=R}toString(){return`Struct<{${this.children.map((R)=>`${R.name}:${R.type}`).join(", ")}}>`}}lW.Struct=QC;NW=Symbol.toStringTag;QC[NW]=((R)=>{return R.children=null,R[Symbol.toStringTag]="Struct"})(QC.prototype);class lA extends CR{constructor(R,T,A){super(g.Type.Union);this.mode=R,this.children=A,this.typeIds=T=Int32Array.from(T),this.typeIdToChildIndex=T.reduce((h,C,B)=>(h[C]=B)&&h||h,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((R)=>`${R.type}`).join(" | ")}>`}}lW.Union=lA;cW=Symbol.toStringTag;lA[cW]=((R)=>{return R.mode=null,R.typeIds=null,R.children=null,R.typeIdToChildIndex=null,R.ArrayType=Int8Array,R[Symbol.toStringTag]="Union"})(lA.prototype);class FW extends lA{constructor(R,T){super(g.UnionMode.Dense,R,T)}}lW.DenseUnion=FW;class eW extends lA{constructor(R,T){super(g.UnionMode.Sparse,R,T)}}lW.SparseUnion=eW;class fC extends CR{constructor(R){super(g.Type.FixedSizeBinary);this.byteWidth=R}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}lW.FixedSizeBinary=fC;oW=Symbol.toStringTag;fC[oW]=((R)=>{return R.byteWidth=null,R.ArrayType=Uint8Array,R[Symbol.toStringTag]="FixedSizeBinary"})(fC.prototype);class zC extends CR{constructor(R,T){super(g.Type.FixedSizeList);this.listSize=R,this.children=[T]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}lW.FixedSizeList=zC;JW=Symbol.toStringTag;zC[JW]=((R)=>{return R.children=null,R.listSize=null,R[Symbol.toStringTag]="FixedSizeList"})(zC.prototype);class MC extends CR{constructor(R,T=!1){var A,h,C;super(g.Type.Map);if(this.children=[R],this.keysSorted=T,R){if(R.name="entries",(A=R===null||R===void 0?void 0:R.type)===null||A===void 0?void 0:A.children){let B=(h=R===null||R===void 0?void 0:R.type)===null||h===void 0?void 0:h.children[0];if(B)B.name="key";let D=(C=R===null||R===void 0?void 0:R.type)===null||C===void 0?void 0:C.children[1];if(D)D.name="value"}}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map((R)=>`${R.name}:${R.type}`).join(", ")}}>`}}lW.Map_=MC;IW=Symbol.toStringTag;MC[IW]=((R)=>{return R.children=null,R.keysSorted=null,R[Symbol.toStringTag]="Map_"})(MC.prototype);var Os=((R)=>()=>++R)(-1);class vC extends CR{constructor(R,T,A,h){super(g.Type.Dictionary);this.indices=T,this.dictionary=R,this.isOrdered=h||!1,this.id=A==null?Os():(0,_s.bigIntToNumber)(A)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}lW.Dictionary=vC;kW=Symbol.toStringTag;vC[kW]=((R)=>{return R.id=null,R.indices=null,R.isOrdered=null,R.dictionary=null,R[Symbol.toStringTag]="Dictionary"})(vC.prototype);function Hs(R){let T=R;switch(R.typeId){case g.Type.Decimal:return R.bitWidth/32;case g.Type.Interval:return 1+T.unit;case g.Type.FixedSizeList:return T.listSize;case g.Type.FixedSizeBinary:return T.byteWidth;default:return 1}}lW.strideForType=Hs});var ZR=a((wW)=>{Object.defineProperty(wW,"__esModule",{value:!0});wW.Visitor=void 0;var c=NR(),uW=iR();class m{visitMany(R,...T){return R.map((A,h)=>this.visit(A,...T.map((C)=>C[h])))}visit(...R){return this.getVisitFn(R[0],!1).apply(this,R)}getVisitFn(R,T=!0){return DP(this,R,T)}getVisitFnByTypeId(R,T=!0){return dA(this,R,T)}visitNull(R,...T){return null}visitBool(R,...T){return null}visitInt(R,...T){return null}visitFloat(R,...T){return null}visitUtf8(R,...T){return null}visitLargeUtf8(R,...T){return null}visitBinary(R,...T){return null}visitLargeBinary(R,...T){return null}visitFixedSizeBinary(R,...T){return null}visitDate(R,...T){return null}visitTimestamp(R,...T){return null}visitTime(R,...T){return null}visitDecimal(R,...T){return null}visitList(R,...T){return null}visitStruct(R,...T){return null}visitUnion(R,...T){return null}visitDictionary(R,...T){return null}visitInterval(R,...T){return null}visitDuration(R,...T){return null}visitFixedSizeList(R,...T){return null}visitMap(R,...T){return null}}wW.Visitor=m;function DP(R,T,A=!0){if(typeof T==="number")return dA(R,T,A);if(typeof T==="string"&&T in c.Type)return dA(R,c.Type[T],A);if(T&&T instanceof uW.DataType)return dA(R,ZW(T),A);if((T===null||T===void 0?void 0:T.type)&&T.type instanceof uW.DataType)return dA(R,ZW(T.type),A);return dA(R,c.Type.NONE,A)}function dA(R,T,A=!0){let h=null;switch(T){case c.Type.Null:h=R.visitNull;break;case c.Type.Bool:h=R.visitBool;break;case c.Type.Int:h=R.visitInt;break;case c.Type.Int8:h=R.visitInt8||R.visitInt;break;case c.Type.Int16:h=R.visitInt16||R.visitInt;break;case c.Type.Int32:h=R.visitInt32||R.visitInt;break;case c.Type.Int64:h=R.visitInt64||R.visitInt;break;case c.Type.Uint8:h=R.visitUint8||R.visitInt;break;case c.Type.Uint16:h=R.visitUint16||R.visitInt;break;case c.Type.Uint32:h=R.visitUint32||R.visitInt;break;case c.Type.Uint64:h=R.visitUint64||R.visitInt;break;case c.Type.Float:h=R.visitFloat;break;case c.Type.Float16:h=R.visitFloat16||R.visitFloat;break;case c.Type.Float32:h=R.visitFloat32||R.visitFloat;break;case c.Type.Float64:h=R.visitFloat64||R.visitFloat;break;case c.Type.Utf8:h=R.visitUtf8;break;case c.Type.LargeUtf8:h=R.visitLargeUtf8;break;case c.Type.Binary:h=R.visitBinary;break;case c.Type.LargeBinary:h=R.visitLargeBinary;break;case c.Type.FixedSizeBinary:h=R.visitFixedSizeBinary;break;case c.Type.Date:h=R.visitDate;break;case c.Type.DateDay:h=R.visitDateDay||R.visitDate;break;case c.Type.DateMillisecond:h=R.visitDateMillisecond||R.visitDate;break;case c.Type.Timestamp:h=R.visitTimestamp;break;case c.Type.TimestampSecond:h=R.visitTimestampSecond||R.visitTimestamp;break;case c.Type.TimestampMillisecond:h=R.visitTimestampMillisecond||R.visitTimestamp;break;case c.Type.TimestampMicrosecond:h=R.visitTimestampMicrosecond||R.visitTimestamp;break;case c.Type.TimestampNanosecond:h=R.visitTimestampNanosecond||R.visitTimestamp;break;case c.Type.Time:h=R.visitTime;break;case c.Type.TimeSecond:h=R.visitTimeSecond||R.visitTime;break;case c.Type.TimeMillisecond:h=R.visitTimeMillisecond||R.visitTime;break;case c.Type.TimeMicrosecond:h=R.visitTimeMicrosecond||R.visitTime;break;case c.Type.TimeNanosecond:h=R.visitTimeNanosecond||R.visitTime;break;case c.Type.Decimal:h=R.visitDecimal;break;case c.Type.List:h=R.visitList;break;case c.Type.Struct:h=R.visitStruct;break;case c.Type.Union:h=R.visitUnion;break;case c.Type.DenseUnion:h=R.visitDenseUnion||R.visitUnion;break;case c.Type.SparseUnion:h=R.visitSparseUnion||R.visitUnion;break;case c.Type.Dictionary:h=R.visitDictionary;break;case c.Type.Interval:h=R.visitInterval;break;case c.Type.IntervalDayTime:h=R.visitIntervalDayTime||R.visitInterval;break;case c.Type.IntervalYearMonth:h=R.visitIntervalYearMonth||R.visitInterval;break;case c.Type.Duration:h=R.visitDuration;break;case c.Type.DurationSecond:h=R.visitDurationSecond||R.visitDuration;break;case c.Type.DurationMillisecond:h=R.visitDurationMillisecond||R.visitDuration;break;case c.Type.DurationMicrosecond:h=R.visitDurationMicrosecond||R.visitDuration;break;case c.Type.DurationNanosecond:h=R.visitDurationNanosecond||R.visitDuration;break;case c.Type.FixedSizeList:h=R.visitFixedSizeList;break;case c.Type.Map:h=R.visitMap;break}if(typeof h==="function")return h;if(!A)return()=>null;throw Error(`Unrecognized type '${c.Type[T]}'`)}function ZW(R){switch(R.typeId){case c.Type.Null:return c.Type.Null;case c.Type.Int:{let{bitWidth:T,isSigned:A}=R;switch(T){case 8:return A?c.Type.Int8:c.Type.Uint8;case 16:return A?c.Type.Int16:c.Type.Uint16;case 32:return A?c.Type.Int32:c.Type.Uint32;case 64:return A?c.Type.Int64:c.Type.Uint64}return c.Type.Int}case c.Type.Float:switch(R.precision){case c.Precision.HALF:return c.Type.Float16;case c.Precision.SINGLE:return c.Type.Float32;case c.Precision.DOUBLE:return c.Type.Float64}return c.Type.Float;case c.Type.Binary:return c.Type.Binary;case c.Type.LargeBinary:return c.Type.LargeBinary;case c.Type.Utf8:return c.Type.Utf8;case c.Type.LargeUtf8:return c.Type.LargeUtf8;case c.Type.Bool:return c.Type.Bool;case c.Type.Decimal:return c.Type.Decimal;case c.Type.Time:switch(R.unit){case c.TimeUnit.SECOND:return c.Type.TimeSecond;case c.TimeUnit.MILLISECOND:return c.Type.TimeMillisecond;case c.TimeUnit.MICROSECOND:return c.Type.TimeMicrosecond;case c.TimeUnit.NANOSECOND:return c.Type.TimeNanosecond}return c.Type.Time;case c.Type.Timestamp:switch(R.unit){case c.TimeUnit.SECOND:return c.Type.TimestampSecond;case c.TimeUnit.MILLISECOND:return c.Type.TimestampMillisecond;case c.TimeUnit.MICROSECOND:return c.Type.TimestampMicrosecond;case c.TimeUnit.NANOSECOND:return c.Type.TimestampNanosecond}return c.Type.Timestamp;case c.Type.Date:switch(R.unit){case c.DateUnit.DAY:return c.Type.DateDay;case c.DateUnit.MILLISECOND:return c.Type.DateMillisecond}return c.Type.Date;case c.Type.Interval:switch(R.unit){case c.IntervalUnit.DAY_TIME:return c.Type.IntervalDayTime;case c.IntervalUnit.YEAR_MONTH:return c.Type.IntervalYearMonth}return c.Type.Interval;case c.Type.Duration:switch(R.unit){case c.TimeUnit.SECOND:return c.Type.DurationSecond;case c.TimeUnit.MILLISECOND:return c.Type.DurationMillisecond;case c.TimeUnit.MICROSECOND:return c.Type.DurationMicrosecond;case c.TimeUnit.NANOSECOND:return c.Type.DurationNanosecond}return c.Type.Duration;case c.Type.Map:return c.Type.Map;case c.Type.List:return c.Type.List;case c.Type.Struct:return c.Type.Struct;case c.Type.Union:switch(R.mode){case c.UnionMode.Dense:return c.Type.DenseUnion;case c.UnionMode.Sparse:return c.Type.SparseUnion}return c.Type.Union;case c.Type.FixedSizeBinary:return c.Type.FixedSizeBinary;case c.Type.FixedSizeList:return c.Type.FixedSizeList;case c.Type.Dictionary:return c.Type.Dictionary}throw Error(`Unrecognized type '${c.Type[R.typeId]}'`)}m.prototype.visitInt8=null;m.prototype.visitInt16=null;m.prototype.visitInt32=null;m.prototype.visitInt64=null;m.prototype.visitUint8=null;m.prototype.visitUint16=null;m.prototype.visitUint32=null;m.prototype.visitUint64=null;m.prototype.visitFloat16=null;m.prototype.visitFloat32=null;m.prototype.visitFloat64=null;m.prototype.visitDateDay=null;m.prototype.visitDateMillisecond=null;m.prototype.visitTimestampSecond=null;m.prototype.visitTimestampMillisecond=null;m.prototype.visitTimestampMicrosecond=null;m.prototype.visitTimestampNanosecond=null;m.prototype.visitTimeSecond=null;m.prototype.visitTimeMillisecond=null;m.prototype.visitTimeMicrosecond=null;m.prototype.visitTimeNanosecond=null;m.prototype.visitDenseUnion=null;m.prototype.visitSparseUnion=null;m.prototype.visitIntervalDayTime=null;m.prototype.visitIntervalYearMonth=null;m.prototype.visitDuration=null;m.prototype.visitDurationSecond=null;m.prototype.visitDurationMillisecond=null;m.prototype.visitDurationMicrosecond=null;m.prototype.visitDurationNanosecond=null});var Wh=a((fW)=>{Object.defineProperty(fW,"__esModule",{value:!0});fW.float64ToUint16=fW.uint16ToFloat64=void 0;var QW=new Float64Array(1),jA=new Uint32Array(QW.buffer);function _P(R){let T=(R&31744)>>10,A=(R&1023)/1024,h=Math.pow(-1,(R&32768)>>15);switch(T){case 31:return h*(A?Number.NaN:1/0);case 0:return h*(A?0.00006103515625*A:0)}return h*Math.pow(2,T-15)*(1+A)}fW.uint16ToFloat64=_P;function OP(R){if(R!==R)return 32256;QW[0]=R;let T=(jA[1]&2147483648)>>16&65535,A=jA[1]&2146435072,h=0;if(A>=1089470464)if(jA[0]>0)A=31744;else A=(A&2080374784)>>16,h=(jA[1]&1048575)>>10;else if(A<=1056964608)h=1048576+(jA[1]&1048575),h=1048576+(h<<(A>>20)-998)>>21,A=0;else A=A-1056964608>>10,h=(jA[1]&1048575)+512>>10;return T|A|h&65535}fW.float64ToUint16=OP});var vR=a((RN)=>{Object.defineProperty(RN,"__esModule",{value:!0});RN.instance=RN.setDuration=RN.setDurationNanosecond=RN.setDurationMicrosecond=RN.setDurationMillisecond=RN.setDurationSecond=RN.setIntervalYearMonth=RN.setIntervalDayTime=RN.setIntervalValue=RN.setDecimal=RN.setTime=RN.setTimeNanosecond=RN.setTimeMicrosecond=RN.setTimeMillisecond=RN.setTimeSecond=RN.setTimestamp=RN.setTimestampNanosecond=RN.setTimestampMicrosecond=RN.setTimestampMillisecond=RN.setTimestampSecond=RN.setDate=RN.setFixedSizeBinary=RN.setDateMillisecond=RN.setDateDay=RN.setAnyFloat=RN.setFloat16=RN.setFloat=RN.setInt=RN.setVariableWidthBytes=RN.setEpochMsToDays=RN.SetVisitor=void 0;var iP=dR(),qP=ZR(),MW=q9(),aP=T9(),LP=Wh(),nR=NR();class G extends qP.Visitor{}RN.SetVisitor=G;function d(R){return(T,A,h)=>{if(T.setValid(A,h!=null))return R(T,A,h)}}var WP=(R,T,A)=>{R[T]=Math.floor(A/86400000)};RN.setEpochMsToDays=WP;var NP=(R,T,A,h)=>{if(A+1<T.length){let C=(0,MW.bigIntToNumber)(T[A]),B=(0,MW.bigIntToNumber)(T[A+1]);R.set(h.subarray(0,B-C),C)}};RN.setVariableWidthBytes=NP;var cP=({offset:R,values:T},A,h)=>{let C=R+A;h?T[C>>3]|=1<<C%8:T[C>>3]&=~(1<<C%8)},oP=({values:R},T,A)=>{R[T]=A};RN.setInt=oP;var JP=({values:R},T,A)=>{R[T]=A};RN.setFloat=JP;var IP=({values:R},T,A)=>{R[T]=(0,LP.float64ToUint16)(A)};RN.setFloat16=IP;var kP=(R,T,A)=>{switch(R.type.precision){case nR.Precision.HALF:return RN.setFloat16(R,T,A);case nR.Precision.SINGLE:case nR.Precision.DOUBLE:return RN.setFloat(R,T,A)}};RN.setAnyFloat=kP;var SP=({values:R},T,A)=>{RN.setEpochMsToDays(R,T,A.valueOf())};RN.setDateDay=SP;var yP=({values:R},T,A)=>{R[T]=BigInt(A)};RN.setDateMillisecond=yP;var gP=({stride:R,values:T},A,h)=>{T.set(h.subarray(0,R),R*A)};RN.setFixedSizeBinary=gP;var vW=({values:R,valueOffsets:T},A,h)=>RN.setVariableWidthBytes(R,T,A,h),VW=({values:R,valueOffsets:T},A,h)=>RN.setVariableWidthBytes(R,T,A,(0,aP.encodeUtf8)(h)),sP=(R,T,A)=>{R.type.unit===nR.DateUnit.DAY?RN.setDateDay(R,T,A):RN.setDateMillisecond(R,T,A)};RN.setDate=sP;var PP=({values:R},T,A)=>{R[T]=BigInt(A/1000)};RN.setTimestampSecond=PP;var tP=({values:R},T,A)=>{R[T]=BigInt(A)};RN.setTimestampMillisecond=tP;var KP=({values:R},T,A)=>{R[T]=BigInt(A*1000)};RN.setTimestampMicrosecond=KP;var bP=({values:R},T,A)=>{R[T]=BigInt(A*1e6)};RN.setTimestampNanosecond=bP;var nP=(R,T,A)=>{switch(R.type.unit){case nR.TimeUnit.SECOND:return RN.setTimestampSecond(R,T,A);case nR.TimeUnit.MILLISECOND:return RN.setTimestampMillisecond(R,T,A);case nR.TimeUnit.MICROSECOND:return RN.setTimestampMicrosecond(R,T,A);case nR.TimeUnit.NANOSECOND:return RN.setTimestampNanosecond(R,T,A)}};RN.setTimestamp=nP;var EP=({values:R},T,A)=>{R[T]=A};RN.setTimeSecond=EP;var $P=({values:R},T,A)=>{R[T]=A};RN.setTimeMillisecond=$P;var pP=({values:R},T,A)=>{R[T]=A};RN.setTimeMicrosecond=pP;var rP=({values:R},T,A)=>{R[T]=A};RN.setTimeNanosecond=rP;var XP=(R,T,A)=>{switch(R.type.unit){case nR.TimeUnit.SECOND:return RN.setTimeSecond(R,T,A);case nR.TimeUnit.MILLISECOND:return RN.setTimeMillisecond(R,T,A);case nR.TimeUnit.MICROSECOND:return RN.setTimeMicrosecond(R,T,A);case nR.TimeUnit.NANOSECOND:return RN.setTimeNanosecond(R,T,A)}};RN.setTime=XP;var GP=({values:R,stride:T},A,h)=>{R.set(h.subarray(0,T),T*A)};RN.setDecimal=GP;var xP=(R,T,A)=>{let h=R.children[0],C=R.valueOffsets,B=RN.instance.getVisitFn(h);if(Array.isArray(A))for(let D=-1,_=C[T],O=C[T+1];_<O;)B(h,_++,A[++D]);else for(let D=-1,_=C[T],O=C[T+1];_<O;)B(h,_++,A.get(++D))},FP=(R,T,A)=>{let h=R.children[0],{valueOffsets:C}=R,B=RN.instance.getVisitFn(h),{[T]:D,[T+1]:_}=C,O=A instanceof Map?A.entries():Object.entries(A);for(let H of O)if(B(h,D,H),++D>=_)break},eP=(R,T)=>(A,h,C,B)=>h&&A(h,R,T[B]),lP=(R,T)=>(A,h,C,B)=>h&&A(h,R,T.get(B)),dP=(R,T)=>(A,h,C,B)=>h&&A(h,R,T.get(C.name)),jP=(R,T)=>(A,h,C,B)=>h&&A(h,R,T[C.name]),uP=(R,T,A)=>{let h=R.type.children.map((B)=>RN.instance.getVisitFn(B.type)),C=A instanceof Map?dP(T,A):A instanceof iP.Vector?lP(T,A):Array.isArray(A)?eP(T,A):jP(T,A);R.type.children.forEach((B,D)=>C(h[D],R.children[D],B,D))},ZP=(R,T,A)=>{R.type.mode===nR.UnionMode.Dense?mW(R,T,A):YW(R,T,A)},mW=(R,T,A)=>{let h=R.type.typeIdToChildIndex[R.typeIds[T]],C=R.children[h];RN.instance.visit(C,R.valueOffsets[T],A)},YW=(R,T,A)=>{let h=R.type.typeIdToChildIndex[R.typeIds[T]],C=R.children[h];RN.instance.visit(C,T,A)},wP=(R,T,A)=>{var h;(h=R.dictionary)===null||h===void 0||h.set(R.values[T],A)},UP=(R,T,A)=>{R.type.unit===nR.IntervalUnit.DAY_TIME?RN.setIntervalDayTime(R,T,A):RN.setIntervalYearMonth(R,T,A)};RN.setIntervalValue=UP;var QP=({values:R},T,A)=>{R.set(A.subarray(0,2),2*T)};RN.setIntervalDayTime=QP;var fP=({values:R},T,A)=>{R[T]=A[0]*12+A[1]%12};RN.setIntervalYearMonth=fP;var zP=({values:R},T,A)=>{R[T]=A};RN.setDurationSecond=zP;var MP=({values:R},T,A)=>{R[T]=A};RN.setDurationMillisecond=MP;var vP=({values:R},T,A)=>{R[T]=A};RN.setDurationMicrosecond=vP;var VP=({values:R},T,A)=>{R[T]=A};RN.setDurationNanosecond=VP;var mP=(R,T,A)=>{switch(R.type.unit){case nR.TimeUnit.SECOND:return RN.setDurationSecond(R,T,A);case nR.TimeUnit.MILLISECOND:return RN.setDurationMillisecond(R,T,A);case nR.TimeUnit.MICROSECOND:return RN.setDurationMicrosecond(R,T,A);case nR.TimeUnit.NANOSECOND:return RN.setDurationNanosecond(R,T,A)}};RN.setDuration=mP;var YP=(R,T,A)=>{let{stride:h}=R,C=R.children[0],B=RN.instance.getVisitFn(C);if(Array.isArray(A))for(let D=-1,_=T*h;++D<h;)B(C,_+D,A[D]);else for(let D=-1,_=T*h;++D<h;)B(C,_+D,A.get(D))};G.prototype.visitBool=d(cP);G.prototype.visitInt=d(RN.setInt);G.prototype.visitInt8=d(RN.setInt);G.prototype.visitInt16=d(RN.setInt);G.prototype.visitInt32=d(RN.setInt);G.prototype.visitInt64=d(RN.setInt);G.prototype.visitUint8=d(RN.setInt);G.prototype.visitUint16=d(RN.setInt);G.prototype.visitUint32=d(RN.setInt);G.prototype.visitUint64=d(RN.setInt);G.prototype.visitFloat=d(RN.setAnyFloat);G.prototype.visitFloat16=d(RN.setFloat16);G.prototype.visitFloat32=d(RN.setFloat);G.prototype.visitFloat64=d(RN.setFloat);G.prototype.visitUtf8=d(VW);G.prototype.visitLargeUtf8=d(VW);G.prototype.visitBinary=d(vW);G.prototype.visitLargeBinary=d(vW);G.prototype.visitFixedSizeBinary=d(RN.setFixedSizeBinary);G.prototype.visitDate=d(RN.setDate);G.prototype.visitDateDay=d(RN.setDateDay);G.prototype.visitDateMillisecond=d(RN.setDateMillisecond);G.prototype.visitTimestamp=d(RN.setTimestamp);G.prototype.visitTimestampSecond=d(RN.setTimestampSecond);G.prototype.visitTimestampMillisecond=d(RN.setTimestampMillisecond);G.prototype.visitTimestampMicrosecond=d(RN.setTimestampMicrosecond);G.prototype.visitTimestampNanosecond=d(RN.setTimestampNanosecond);G.prototype.visitTime=d(RN.setTime);G.prototype.visitTimeSecond=d(RN.setTimeSecond);G.prototype.visitTimeMillisecond=d(RN.setTimeMillisecond);G.prototype.visitTimeMicrosecond=d(RN.setTimeMicrosecond);G.prototype.visitTimeNanosecond=d(RN.setTimeNanosecond);G.prototype.visitDecimal=d(RN.setDecimal);G.prototype.visitList=d(xP);G.prototype.visitStruct=d(uP);G.prototype.visitUnion=d(ZP);G.prototype.visitDenseUnion=d(mW);G.prototype.visitSparseUnion=d(YW);G.prototype.visitDictionary=d(wP);G.prototype.visitInterval=d(RN.setIntervalValue);G.prototype.visitIntervalDayTime=d(RN.setIntervalDayTime);G.prototype.visitIntervalYearMonth=d(RN.setIntervalYearMonth);G.prototype.visitDuration=d(RN.setDuration);G.prototype.visitDurationSecond=d(RN.setDurationSecond);G.prototype.visitDurationMillisecond=d(RN.setDurationMillisecond);G.prototype.visitDurationMicrosecond=d(RN.setDurationMicrosecond);G.prototype.visitDurationNanosecond=d(RN.setDurationNanosecond);G.prototype.visitFixedSizeList=d(YP);G.prototype.visitMap=d(FP);RN.instance=new G});var mC=a((LN)=>{Object.defineProperty(LN,"__esModule",{value:!0});LN.StructRow=void 0;var iN=ah(),W_=U9(),T3=vR(),LT=Symbol.for("parent"),uA=Symbol.for("rowIndex");class N_{constructor(R,T){return this[LT]=R,this[uA]=T,new Proxy(this,A3)}toArray(){return Object.values(this.toJSON())}toJSON(){let R=this[uA],T=this[LT],A=T.type.children,h={};for(let C=-1,B=A.length;++C<B;)h[A[C].name]=W_.instance.visit(T.children[C],R);return h}toString(){return`{${[...this].map(([R,T])=>`${(0,iN.valueToString)(R)}: ${(0,iN.valueToString)(T)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new qN(this[LT],this[uA])}}LN.StructRow=N_;class qN{constructor(R,T){this.childIndex=0,this.children=R.children,this.rowIndex=T,this.childFields=R.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let R=this.childIndex;if(R<this.numChildren)return this.childIndex=R+1,{done:!1,value:[this.childFields[R].name,W_.instance.visit(this.children[R],this.rowIndex)]};return{done:!0,value:null}}}Object.defineProperties(N_.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[LT]:{writable:!0,enumerable:!1,configurable:!1,value:null},[uA]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class aN{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(R){return R[LT].type.children.map((T)=>T.name)}has(R,T){return R[LT].type.children.some((A)=>A.name===T)}getOwnPropertyDescriptor(R,T){if(R[LT].type.children.some((A)=>A.name===T))return{writable:!0,enumerable:!0,configurable:!0};return}get(R,T){if(Reflect.has(R,T))return R[T];let A=R[LT].type.children.findIndex((h)=>h.name===T);if(A!==-1){let h=W_.instance.visit(R[LT].children[A],R[uA]);return Reflect.set(R,T,h),h}}set(R,T,A){let h=R[LT].type.children.findIndex((C)=>C.name===T);if(h!==-1)return T3.instance.visit(R[LT].children[h],R[uA],A),Reflect.set(R,T,A);else if(Reflect.has(R,T)||typeof T==="symbol")return Reflect.set(R,T,A);return!1}}var A3=new aN});var U9=a((lN)=>{Object.defineProperty(lN,"__esModule",{value:!0});lN.instance=lN.GetVisitor=void 0;var h3=FC(),NN=dR(),C3=ZR(),B3=Nh(),D3=mC(),Q9=q9(),_3=T9(),cN=Wh(),XR=NR();class $ extends C3.Visitor{}lN.GetVisitor=$;function F(R){return(T,A)=>T.getValid(A)?R(T,A):null}var O3=(R,T)=>86400000*R[T],H3=(R,T)=>null,oN=(R,T,A)=>{if(A+1>=T.length)return null;let h=(0,Q9.bigIntToNumber)(T[A]),C=(0,Q9.bigIntToNumber)(T[A+1]);return R.subarray(h,C)},i3=({offset:R,values:T},A)=>{let h=R+A;return(T[h>>3]&1<<h%8)!==0},JN=({values:R},T)=>O3(R,T),IN=({values:R},T)=>(0,Q9.bigIntToNumber)(R[T]),c9=({stride:R,values:T},A)=>T[R*A],q3=({stride:R,values:T},A)=>(0,cN.uint16ToFloat64)(T[R*A]),kN=({values:R},T)=>R[T],a3=({stride:R,values:T},A)=>T.subarray(R*A,R*(A+1)),SN=({values:R,valueOffsets:T},A)=>oN(R,T,A),yN=({values:R,valueOffsets:T},A)=>{let h=oN(R,T,A);return h!==null?(0,_3.decodeUtf8)(h):null},L3=({values:R},T)=>R[T],W3=({type:R,values:T},A)=>R.precision!==XR.Precision.HALF?T[A]:(0,cN.uint16ToFloat64)(T[A]),N3=(R,T)=>R.type.unit===XR.DateUnit.DAY?JN(R,T):IN(R,T),gN=({values:R},T)=>1000*(0,Q9.bigIntToNumber)(R[T]),sN=({values:R},T)=>(0,Q9.bigIntToNumber)(R[T]),PN=({values:R},T)=>(0,Q9.divideBigInts)(R[T],BigInt(1000)),tN=({values:R},T)=>(0,Q9.divideBigInts)(R[T],BigInt(1e6)),c3=(R,T)=>{switch(R.type.unit){case XR.TimeUnit.SECOND:return gN(R,T);case XR.TimeUnit.MILLISECOND:return sN(R,T);case XR.TimeUnit.MICROSECOND:return PN(R,T);case XR.TimeUnit.NANOSECOND:return tN(R,T)}},KN=({values:R},T)=>R[T],bN=({values:R},T)=>R[T],nN=({values:R},T)=>R[T],EN=({values:R},T)=>R[T],o3=(R,T)=>{switch(R.type.unit){case XR.TimeUnit.SECOND:return KN(R,T);case XR.TimeUnit.MILLISECOND:return bN(R,T);case XR.TimeUnit.MICROSECOND:return nN(R,T);case XR.TimeUnit.NANOSECOND:return EN(R,T)}},J3=({values:R,stride:T},A)=>h3.BN.decimal(R.subarray(T*A,T*(A+1))),I3=(R,T)=>{let{valueOffsets:A,stride:h,children:C}=R,{[T*h]:B,[T*h+1]:D}=A,O=C[0].slice(B,D-B);return new NN.Vector([O])},k3=(R,T)=>{let{valueOffsets:A,children:h}=R,{[T]:C,[T+1]:B}=A,D=h[0];return new B3.MapRow(D.slice(C,B-C))},S3=(R,T)=>{return new D3.StructRow(R,T)},y3=(R,T)=>{return R.type.mode===XR.UnionMode.Dense?$N(R,T):pN(R,T)},$N=(R,T)=>{let A=R.type.typeIdToChildIndex[R.typeIds[T]],h=R.children[A];return lN.instance.visit(h,R.valueOffsets[T])},pN=(R,T)=>{let A=R.type.typeIdToChildIndex[R.typeIds[T]],h=R.children[A];return lN.instance.visit(h,T)},g3=(R,T)=>{var A;return(A=R.dictionary)===null||A===void 0?void 0:A.get(R.values[T])},s3=(R,T)=>R.type.unit===XR.IntervalUnit.DAY_TIME?rN(R,T):XN(R,T),rN=({values:R},T)=>R.subarray(2*T,2*(T+1)),XN=({values:R},T)=>{let A=R[T],h=new Int32Array(2);return h[0]=Math.trunc(A/12),h[1]=Math.trunc(A%12),h},GN=({values:R},T)=>R[T],xN=({values:R},T)=>R[T],FN=({values:R},T)=>R[T],eN=({values:R},T)=>R[T],P3=(R,T)=>{switch(R.type.unit){case XR.TimeUnit.SECOND:return GN(R,T);case XR.TimeUnit.MILLISECOND:return xN(R,T);case XR.TimeUnit.MICROSECOND:return FN(R,T);case XR.TimeUnit.NANOSECOND:return eN(R,T)}},t3=(R,T)=>{let{stride:A,children:h}=R,B=h[0].slice(T*A,A);return new NN.Vector([B])};$.prototype.visitNull=F(H3);$.prototype.visitBool=F(i3);$.prototype.visitInt=F(L3);$.prototype.visitInt8=F(c9);$.prototype.visitInt16=F(c9);$.prototype.visitInt32=F(c9);$.prototype.visitInt64=F(kN);$.prototype.visitUint8=F(c9);$.prototype.visitUint16=F(c9);$.prototype.visitUint32=F(c9);$.prototype.visitUint64=F(kN);$.prototype.visitFloat=F(W3);$.prototype.visitFloat16=F(q3);$.prototype.visitFloat32=F(c9);$.prototype.visitFloat64=F(c9);$.prototype.visitUtf8=F(yN);$.prototype.visitLargeUtf8=F(yN);$.prototype.visitBinary=F(SN);$.prototype.visitLargeBinary=F(SN);$.prototype.visitFixedSizeBinary=F(a3);$.prototype.visitDate=F(N3);$.prototype.visitDateDay=F(JN);$.prototype.visitDateMillisecond=F(IN);$.prototype.visitTimestamp=F(c3);$.prototype.visitTimestampSecond=F(gN);$.prototype.visitTimestampMillisecond=F(sN);$.prototype.visitTimestampMicrosecond=F(PN);$.prototype.visitTimestampNanosecond=F(tN);$.prototype.visitTime=F(o3);$.prototype.visitTimeSecond=F(KN);$.prototype.visitTimeMillisecond=F(bN);$.prototype.visitTimeMicrosecond=F(nN);$.prototype.visitTimeNanosecond=F(EN);$.prototype.visitDecimal=F(J3);$.prototype.visitList=F(I3);$.prototype.visitStruct=F(S3);$.prototype.visitUnion=F(y3);$.prototype.visitDenseUnion=F($N);$.prototype.visitSparseUnion=F(pN);$.prototype.visitDictionary=F(g3);$.prototype.visitInterval=F(s3);$.prototype.visitIntervalDayTime=F(rN);$.prototype.visitIntervalYearMonth=F(XN);$.prototype.visitDuration=F(P3);$.prototype.visitDurationSecond=F(GN);$.prototype.visitDurationMillisecond=F(xN);$.prototype.visitDurationMicrosecond=F(FN);$.prototype.visitDurationNanosecond=F(eN);$.prototype.visitFixedSizeList=F(t3);$.prototype.visitMap=F(k3);lN.instance=new $});var Nh=a((ZN)=>{Object.defineProperty(ZN,"__esModule",{value:!0});ZN.MapRow=ZN._kKeysAsStrings=ZN.kKeysAsStrings=ZN.kVals=ZN.kKeys=void 0;var b3=dR(),dN=ah(),c_=U9(),n3=vR();ZN.kKeys=Symbol.for("keys");ZN.kVals=Symbol.for("vals");ZN.kKeysAsStrings=Symbol.for("kKeysAsStrings");ZN._kKeysAsStrings=Symbol.for("_kKeysAsStrings");class o_{constructor(R){return this[ZN.kKeys]=new b3.Vector([R.children[0]]).memoize(),this[ZN.kVals]=R.children[1],new Proxy(this,new uN)}get[ZN.kKeysAsStrings](){return this[ZN._kKeysAsStrings]||(this[ZN._kKeysAsStrings]=Array.from(this[ZN.kKeys].toArray(),String))}[Symbol.iterator](){return new jN(this[ZN.kKeys],this[ZN.kVals])}get size(){return this[ZN.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let R=this[ZN.kKeys],T=this[ZN.kVals],A={};for(let h=-1,C=R.length;++h<C;)A[R.get(h)]=c_.instance.visit(T,h);return A}toString(){return`{${[...this].map(([R,T])=>`${(0,dN.valueToString)(R)}: ${(0,dN.valueToString)(T)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}ZN.MapRow=o_;class jN{constructor(R,T){this.keys=R,this.vals=T,this.keyIndex=0,this.numKeys=R.length}[Symbol.iterator](){return this}next(){let R=this.keyIndex;if(R===this.numKeys)return{done:!0,value:null};return this.keyIndex++,{done:!1,value:[this.keys.get(R),c_.instance.visit(this.vals,R)]}}}class uN{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(R){return R[ZN.kKeysAsStrings]}has(R,T){return R[ZN.kKeysAsStrings].includes(T)}getOwnPropertyDescriptor(R,T){if(R[ZN.kKeysAsStrings].indexOf(T)!==-1)return{writable:!0,enumerable:!0,configurable:!0};return}get(R,T){if(Reflect.has(R,T))return R[T];let A=R[ZN.kKeysAsStrings].indexOf(T);if(A!==-1){let h=c_.instance.visit(Reflect.get(R,ZN.kVals),A);return Reflect.set(R,T,h),h}}set(R,T,A){let h=R[ZN.kKeysAsStrings].indexOf(T);if(h!==-1)return n3.instance.visit(Reflect.get(R,ZN.kVals),h,A),Reflect.set(R,T,A);else if(Reflect.has(R,T))return Reflect.set(R,T,A);return!1}}Object.defineProperties(o_.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ZN.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ZN.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ZN._kKeysAsStrings]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var ZA=a((MN)=>{Object.defineProperty(MN,"__esModule",{value:!0});MN.createElementComparator=MN.wrapIndex=MN.clampRange=void 0;var zN=dR(),E3=Nh(),$3=mC(),p3=bR(),UN;function r3(R,T,A,h){let{length:C=0}=R,B=typeof T!=="number"?0:T,D=typeof A!=="number"?C:A;return B<0&&(B=(B%C+C)%C),D<0&&(D=(D%C+C)%C),D<B&&(UN=B,B=D,D=UN),D>C&&(D=C),h?h(R,B,D):[B,D]}MN.clampRange=r3;var X3=(R,T)=>R<0?T+R:R;MN.wrapIndex=X3;var QN=(R)=>R!==R;function ch(R){if(typeof R!=="object"||R===null){if(QN(R))return QN;return(A)=>A===R}if(R instanceof Date){let A=R.valueOf();return(h)=>h instanceof Date?h.valueOf()===A:!1}if(ArrayBuffer.isView(R))return(A)=>A?(0,p3.compareArrayLike)(R,A):!1;if(R instanceof Map)return x3(R);if(Array.isArray(R))return G3(R);if(R instanceof zN.Vector)return F3(R);return e3(R,!0)}MN.createElementComparator=ch;function G3(R){let T=[];for(let A=-1,h=R.length;++A<h;)T[A]=ch(R[A]);return TB(T)}function x3(R){let T=-1,A=[];for(let h of R.values())A[++T]=ch(h);return TB(A)}function F3(R){let T=[];for(let A=-1,h=R.length;++A<h;)T[A]=ch(R.get(A));return TB(T)}function e3(R,T=!1){let A=Object.keys(R);if(!T&&A.length===0)return()=>!1;let h=[];for(let C=-1,B=A.length;++C<B;)h[C]=ch(R[A[C]]);return TB(h,A)}function TB(R,T){return(A)=>{if(!A||typeof A!=="object")return!1;switch(A.constructor){case Array:return l3(R,A);case Map:return fN(R,A,A.keys());case E3.MapRow:case $3.StructRow:case Object:case void 0:return fN(R,A,T||Object.keys(A))}return A instanceof zN.Vector?d3(R,A):!1}}function l3(R,T){let A=R.length;if(T.length!==A)return!1;for(let h=-1;++h<A;)if(!R[h](T[h]))return!1;return!0}function d3(R,T){let A=R.length;if(T.length!==A)return!1;for(let h=-1;++h<A;)if(!R[h](T.get(h)))return!1;return!0}function fN(R,T,A){let h=A[Symbol.iterator](),C=T instanceof Map?T.keys():Object.keys(T)[Symbol.iterator](),B=T instanceof Map?T.values():Object.values(T)[Symbol.iterator](),D=0,_=R.length,O=B.next(),H=h.next(),i=C.next();for(;D<_&&!H.done&&!i.done&&!O.done;++D,H=h.next(),i=C.next(),O=B.next())if(H.value!==i.value||!R[D](O.value))break;if(D===_&&H.done&&i.done&&O.done)return!0;return h.return&&h.return(),C.return&&C.return(),B.return&&B.return(),!1}});var v9=a((Tc)=>{Object.defineProperty(Tc,"__esModule",{value:!0});Tc.popcnt_uint32=Tc.popcnt_array=Tc.popcnt_bit_range=Tc.BitIterator=Tc.packBools=Tc.truncateBitmap=Tc.setBool=Tc.getBit=Tc.getBool=void 0;function VN(R,T,A,h){return(A&1<<h)!==0}Tc.getBool=VN;function mN(R,T,A,h){return(A&1<<h)>>h}Tc.getBit=mN;function Z3(R,T,A){return A?!!(R[T>>3]|=1<<T%8)||!0:!(R[T>>3]&=~(1<<T%8))&&!1}Tc.setBool=Z3;function w3(R,T,A){let h=A.byteLength+7&-8;if(R>0||A.byteLength<h){let C=new Uint8Array(h);return C.set(R%8===0?A.subarray(R>>3):YN(new hB(A,R,T,null,VN)).subarray(0,h)),C}return A}Tc.truncateBitmap=w3;function YN(R){let T=[],A=0,h=0,C=0;for(let D of R)if(D&&(C|=1<<h),++h===8)T[A++]=C,C=h=0;if(A===0||h>0)T[A++]=C;let B=new Uint8Array(T.length+7&-8);return B.set(T),B}Tc.packBools=YN;class hB{constructor(R,T,A,h,C){this.bytes=R,this.length=A,this.context=h,this.get=C,this.bit=T%8,this.byteIndex=T>>3,this.byte=R[this.byteIndex++],this.index=0}next(){if(this.index<this.length){if(this.bit===8)this.bit=0,this.byte=this.bytes[this.byteIndex++];return{value:this.get(this.context,this.index++,this.byte,this.bit++)}}return{done:!0,value:null}}[Symbol.iterator](){return this}}Tc.BitIterator=hB;function J_(R,T,A){if(A-T<=0)return 0;if(A-T<8){let B=0;for(let D of new hB(R,T,A-T,R,mN))B+=D;return B}let h=A>>3<<3,C=T+(T%8===0?0:8-T%8);return J_(R,T,C)+J_(R,h,A)+Rc(R,C>>3,h-C>>3)}Tc.popcnt_bit_range=J_;function Rc(R,T,A){let h=0,C=Math.trunc(T),B=new DataView(R.buffer,R.byteOffset,R.byteLength),D=A===void 0?R.byteLength:C+A;while(D-C>=4)h+=AB(B.getUint32(C)),C+=4;while(D-C>=2)h+=AB(B.getUint16(C)),C+=2;while(D-C>=1)h+=AB(B.getUint8(C)),C+=1;return h}Tc.popcnt_array=Rc;function AB(R){let T=Math.trunc(R);return T=T-(T>>>1&1431655765),T=(T&858993459)+(T>>>2&858993459),(T+(T>>>4)&252645135)*16843009>>>24}Tc.popcnt_uint32=AB});var bT=a((hc)=>{Object.defineProperty(hc,"__esModule",{value:!0});hc.makeData=hc.Data=hc.kUnknownNullCount=void 0;var Y3=dR(),KT=NR(),wR=iR(),I_=v9();hc.kUnknownNullCount=-1;class BR{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){let{type:R}=this;if(wR.DataType.isSparseUnion(R))return this.children.some((T)=>T.nullable);else if(wR.DataType.isDenseUnion(R))return this.children.some((T)=>T.nullable);return this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let R=0,{valueOffsets:T,values:A,nullBitmap:h,typeIds:C}=this;return T&&(R+=T.byteLength),A&&(R+=A.byteLength),h&&(R+=h.byteLength),C&&(R+=C.byteLength),this.children.reduce((B,D)=>B+D.byteLength,R)}get nullCount(){if(wR.DataType.isUnion(this.type))return this.children.reduce((A,h)=>A+h.nullCount,0);let R=this._nullCount,T;if(R<=hc.kUnknownNullCount&&(T=this.nullBitmap))this._nullCount=R=T.length===0?0:this.length-(0,I_.popcnt_bit_range)(T,this.offset,this.offset+this.length);return R}constructor(R,T,A,h,C,B=[],D){this.type=R,this.children=B,this.dictionary=D,this.offset=Math.floor(Math.max(T||0,0)),this.length=Math.floor(Math.max(A||0,0)),this._nullCount=Math.floor(Math.max(h||0,-1));let _;if(C instanceof BR)this.stride=C.stride,this.values=C.values,this.typeIds=C.typeIds,this.nullBitmap=C.nullBitmap,this.valueOffsets=C.valueOffsets;else if(this.stride=(0,wR.strideForType)(R),C)(_=C[0])&&(this.valueOffsets=_),(_=C[1])&&(this.values=_),(_=C[2])&&(this.nullBitmap=_),(_=C[3])&&(this.typeIds=_)}getValid(R){let{type:T}=this;if(wR.DataType.isUnion(T)){let A=T,h=this.children[A.typeIdToChildIndex[this.typeIds[R]]],C=A.mode===KT.UnionMode.Dense?this.valueOffsets[R]:R;return h.getValid(C)}if(this.nullable&&this.nullCount>0){let A=this.offset+R;return(this.nullBitmap[A>>3]&1<<A%8)!==0}return!0}setValid(R,T){let A,{type:h}=this;if(wR.DataType.isUnion(h)){let C=h,B=this.children[C.typeIdToChildIndex[this.typeIds[R]]],D=C.mode===KT.UnionMode.Dense?this.valueOffsets[R]:R;A=B.getValid(D),B.setValid(D,T)}else{let{nullBitmap:C}=this,{offset:B,length:D}=this,_=B+R,O=1<<_%8,H=_>>3;if(!C||C.byteLength<=H)if(C=new Uint8Array((B+D+63&-64)>>3).fill(255),this.nullCount>0)C.set((0,I_.truncateBitmap)(B,D,this.nullBitmap),0),Object.assign(this,{nullBitmap:C});else Object.assign(this,{nullBitmap:C,_nullCount:0});let i=C[H];A=(i&O)!==0,C[H]=T?i|O:i&~O}if(A!==!!T)this._nullCount=this.nullCount+(T?-1:1);return T}clone(R=this.type,T=this.offset,A=this.length,h=this._nullCount,C=this,B=this.children){return new BR(R,T,A,h,C,B,this.dictionary)}slice(R,T){let{stride:A,typeId:h,children:C}=this,B=+(this._nullCount===0)-1,D=h===16?A:1,_=this._sliceBuffers(R,T,A,h);return this.clone(this.type,this.offset+R,T,B,_,C.length===0||this.valueOffsets?C:this._sliceChildren(C,D*R,D*T))}_changeLengthAndBackfillNullBitmap(R){if(this.typeId===KT.Type.Null)return this.clone(this.type,0,R,0);let{length:T,nullCount:A}=this,h=new Uint8Array((R+63&-64)>>3).fill(255,0,T>>3);if(h[T>>3]=(1<<T-(T&-8))-1,A>0)h.set((0,I_.truncateBitmap)(this.offset,T,this.nullBitmap),0);let C=this.buffers;return C[KT.BufferType.VALIDITY]=h,this.clone(this.type,0,R,A+(R-T),C)}_sliceBuffers(R,T,A,h){let C,{buffers:B}=this;return(C=B[KT.BufferType.TYPE])&&(B[KT.BufferType.TYPE]=C.subarray(R,R+T)),(C=B[KT.BufferType.OFFSET])&&(B[KT.BufferType.OFFSET]=C.subarray(R,R+T+1))||(C=B[KT.BufferType.DATA])&&(B[KT.BufferType.DATA]=h===6?C:C.subarray(A*R,A*(R+T))),B}_sliceChildren(R,T,A){return R.map((h)=>h.slice(T,A))}}hc.Data=BR;BR.prototype.children=Object.freeze([]);var Rt=ZR(),Q=bR();class oh extends Rt.Visitor{visit(R){return this.getVisitFn(R.type).call(this,R)}visitNull(R){let{["type"]:T,["offset"]:A=0,["length"]:h=0}=R;return new BR(T,A,h,h)}visitBool(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length>>3,["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitInt(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length,["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitFloat(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length,["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitUtf8(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.data),C=(0,Q.toUint8Array)(R.nullBitmap),B=(0,Q.toInt32Array)(R.valueOffsets),{["length"]:D=B.length-1,["nullCount"]:_=R.nullBitmap?-1:0}=R;return new BR(T,A,D,_,[B,h,C])}visitLargeUtf8(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.data),C=(0,Q.toUint8Array)(R.nullBitmap),B=(0,Q.toBigInt64Array)(R.valueOffsets),{["length"]:D=B.length-1,["nullCount"]:_=R.nullBitmap?-1:0}=R;return new BR(T,A,D,_,[B,h,C])}visitBinary(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.data),C=(0,Q.toUint8Array)(R.nullBitmap),B=(0,Q.toInt32Array)(R.valueOffsets),{["length"]:D=B.length-1,["nullCount"]:_=R.nullBitmap?-1:0}=R;return new BR(T,A,D,_,[B,h,C])}visitLargeBinary(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.data),C=(0,Q.toUint8Array)(R.nullBitmap),B=(0,Q.toBigInt64Array)(R.valueOffsets),{["length"]:D=B.length-1,["nullCount"]:_=R.nullBitmap?-1:0}=R;return new BR(T,A,D,_,[B,h,C])}visitFixedSizeBinary(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length/(0,wR.strideForType)(T),["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitDate(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length/(0,wR.strideForType)(T),["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitTimestamp(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length/(0,wR.strideForType)(T),["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitTime(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length/(0,wR.strideForType)(T),["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitDecimal(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length/(0,wR.strideForType)(T),["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitList(R){let{["type"]:T,["offset"]:A=0,["child"]:h}=R,C=(0,Q.toUint8Array)(R.nullBitmap),B=(0,Q.toInt32Array)(R.valueOffsets),{["length"]:D=B.length-1,["nullCount"]:_=R.nullBitmap?-1:0}=R;return new BR(T,A,D,_,[B,void 0,C],[h])}visitStruct(R){let{["type"]:T,["offset"]:A=0,["children"]:h=[]}=R,C=(0,Q.toUint8Array)(R.nullBitmap),{length:B=h.reduce((_,{length:O})=>Math.max(_,O),0),nullCount:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,void 0,C],h)}visitUnion(R){let{["type"]:T,["offset"]:A=0,["children"]:h=[]}=R,C=(0,Q.toArrayBufferView)(T.ArrayType,R.typeIds),{["length"]:B=C.length,["nullCount"]:D=-1}=R;if(wR.DataType.isSparseUnion(T))return new BR(T,A,B,D,[void 0,void 0,void 0,C],h);let _=(0,Q.toInt32Array)(R.valueOffsets);return new BR(T,A,B,D,[_,void 0,void 0,C],h)}visitDictionary(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.indices.ArrayType,R.data),{["dictionary"]:B=new Y3.Vector([new oh().visit({type:T.dictionary})])}=R,{["length"]:D=C.length,["nullCount"]:_=R.nullBitmap?-1:0}=R;return new BR(T,A,D,_,[void 0,C,h],[],B)}visitInterval(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length/(0,wR.strideForType)(T),["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitDuration(R){let{["type"]:T,["offset"]:A=0}=R,h=(0,Q.toUint8Array)(R.nullBitmap),C=(0,Q.toArrayBufferView)(T.ArrayType,R.data),{["length"]:B=C.length,["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,C,h])}visitFixedSizeList(R){let{["type"]:T,["offset"]:A=0,["child"]:h=new oh().visit({type:T.valueType})}=R,C=(0,Q.toUint8Array)(R.nullBitmap),{["length"]:B=h.length/(0,wR.strideForType)(T),["nullCount"]:D=R.nullBitmap?-1:0}=R;return new BR(T,A,B,D,[void 0,void 0,C],[h])}visitMap(R){let{["type"]:T,["offset"]:A=0,["child"]:h=new oh().visit({type:T.childType})}=R,C=(0,Q.toUint8Array)(R.nullBitmap),B=(0,Q.toInt32Array)(R.valueOffsets),{["length"]:D=B.length-1,["nullCount"]:_=R.nullBitmap?-1:0}=R;return new BR(T,A,D,_,[B,void 0,C],[h])}}var Tt=new oh;function At(R){return Tt.visit(R)}hc.makeData=At});var BB=a((_c)=>{Object.defineProperty(_c,"__esModule",{value:!0});_c.wrapChunkedIndexOf=_c.wrapChunkedCall2=_c.wrapChunkedCall1=_c.isChunkedValid=_c.binarySearch=_c.sliceChunks=_c.computeChunkOffsets=_c.computeChunkNullCounts=_c.computeChunkNullable=_c.ChunkedIterator=void 0;class Dc{constructor(R=0,T){this.numChunks=R,this.getChunkIterator=T,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){while(this.chunkIndex<this.numChunks){let R=this.chunkIterator.next();if(!R.done)return R;if(++this.chunkIndex<this.numChunks)this.chunkIterator=this.getChunkIterator(this.chunkIndex)}return{done:!0,value:null}}[Symbol.iterator](){return this}}_c.ChunkedIterator=Dc;function Ct(R){return R.some((T)=>T.nullable)}_c.computeChunkNullable=Ct;function Bt(R){return R.reduce((T,A)=>T+A.nullCount,0)}_c.computeChunkNullCounts=Bt;function Dt(R){return R.reduce((T,A,h)=>{return T[h+1]=T[h]+A.length,T},new Uint32Array(R.length+1))}_c.computeChunkOffsets=Dt;function _t(R,T,A,h){let C=[];for(let B=-1,D=R.length;++B<D;){let _=R[B],O=T[B],{length:H}=_;if(O>=h)break;if(A>=O+H)continue;if(O>=A&&O+H<=h){C.push(_);continue}let i=Math.max(0,A-O),J=Math.min(h-O,H);C.push(_.slice(i,J-i))}if(C.length===0)C.push(R[0].slice(0,0));return C}_c.sliceChunks=_t;function CB(R,T,A,h){let C=0,B=0,D=T.length-1;do{if(C>=D-1)return A<T[D]?h(R,C,A-T[C]):null;B=C+Math.trunc((D-C)*0.5),A<T[B]?D=B:C=B}while(C<D)}_c.binarySearch=CB;function Ot(R,T){return R.getValid(T)}_c.isChunkedValid=Ot;function Ht(R){function T(A,h,C){return R(A[h],C)}return function(A){let h=this.data;return CB(h,this._offsets,A,T)}}_c.wrapChunkedCall1=Ht;function it(R){let T;function A(h,C,B){return R(h[C],B,T)}return function(h,C){let B=this.data;T=C;let D=CB(B,this._offsets,h,A);return T=void 0,D}}_c.wrapChunkedCall2=it;function qt(R){let T;function A(h,C,B){let D=B,_=0,O=0;for(let H=C-1,i=h.length;++H<i;){let J=h[H];if(~(_=R(J,T,D)))return O+_;D=0,O+=J.length}return-1}return function(h,C){T=h;let B=this.data,D=typeof C!=="number"?A(B,0,0):CB(B,this._offsets,C,A);return T=void 0,D}}_c.wrapChunkedIndexOf=qt});var DB=a((Wc)=>{Object.defineProperty(Wc,"__esModule",{value:!0});Wc.instance=Wc.IndexOfVisitor=void 0;var Hc=NR(),St=ZR(),qc=U9(),ic=v9(),ac=ZA();class p extends St.Visitor{}Wc.IndexOfVisitor=p;function yt(R,T){return T===null&&R.length>0?0:-1}function gt(R,T){let{nullBitmap:A}=R;if(!A||R.nullCount<=0)return-1;let h=0;for(let C of new ic.BitIterator(A,R.offset+(T||0),R.length,A,ic.getBool)){if(!C)return h;++h}return-1}function j(R,T,A){if(T===void 0)return-1;if(T===null)switch(R.typeId){case Hc.Type.Union:break;case Hc.Type.Dictionary:break;default:return gt(R,A)}let h=qc.instance.getVisitFn(R),C=(0,ac.createElementComparator)(T);for(let B=(A||0)-1,D=R.length;++B<D;)if(C(h(R,B)))return B;return-1}function Lc(R,T,A){let h=qc.instance.getVisitFn(R),C=(0,ac.createElementComparator)(T);for(let B=(A||0)-1,D=R.length;++B<D;)if(C(h(R,B)))return B;return-1}p.prototype.visitNull=yt;p.prototype.visitBool=j;p.prototype.visitInt=j;p.prototype.visitInt8=j;p.prototype.visitInt16=j;p.prototype.visitInt32=j;p.prototype.visitInt64=j;p.prototype.visitUint8=j;p.prototype.visitUint16=j;p.prototype.visitUint32=j;p.prototype.visitUint64=j;p.prototype.visitFloat=j;p.prototype.visitFloat16=j;p.prototype.visitFloat32=j;p.prototype.visitFloat64=j;p.prototype.visitUtf8=j;p.prototype.visitLargeUtf8=j;p.prototype.visitBinary=j;p.prototype.visitLargeBinary=j;p.prototype.visitFixedSizeBinary=j;p.prototype.visitDate=j;p.prototype.visitDateDay=j;p.prototype.visitDateMillisecond=j;p.prototype.visitTimestamp=j;p.prototype.visitTimestampSecond=j;p.prototype.visitTimestampMillisecond=j;p.prototype.visitTimestampMicrosecond=j;p.prototype.visitTimestampNanosecond=j;p.prototype.visitTime=j;p.prototype.visitTimeSecond=j;p.prototype.visitTimeMillisecond=j;p.prototype.visitTimeMicrosecond=j;p.prototype.visitTimeNanosecond=j;p.prototype.visitDecimal=j;p.prototype.visitList=j;p.prototype.visitStruct=j;p.prototype.visitUnion=j;p.prototype.visitDenseUnion=Lc;p.prototype.visitSparseUnion=Lc;p.prototype.visitDictionary=j;p.prototype.visitInterval=j;p.prototype.visitIntervalDayTime=j;p.prototype.visitIntervalYearMonth=j;p.prototype.visitDuration=j;p.prototype.visitDurationSecond=j;p.prototype.visitDurationMillisecond=j;p.prototype.visitDurationMicrosecond=j;p.prototype.visitDurationNanosecond=j;p.prototype.visitFixedSizeList=j;p.prototype.visitMap=j;Wc.instance=new p});var _B=a((Jc)=>{Object.defineProperty(Jc,"__esModule",{value:!0});Jc.instance=Jc.IteratorVisitor=void 0;var Pt=ZR(),tt=NR(),k_=iR(),cc=BB();class r extends Pt.Visitor{}Jc.IteratorVisitor=r;function e(R){let{type:T}=R;if(R.nullCount===0&&R.stride===1&&(k_.DataType.isInt(T)&&T.bitWidth!==64||k_.DataType.isTime(T)&&T.bitWidth!==64||k_.DataType.isFloat(T)&&T.precision!==tt.Precision.HALF))return new cc.ChunkedIterator(R.data.length,(h)=>{let C=R.data[h];return C.values.subarray(0,C.length)[Symbol.iterator]()});let A=0;return new cc.ChunkedIterator(R.data.length,(h)=>{let B=R.data[h].length,D=R.slice(A,A+B);return A+=B,new oc(D)})}class oc{constructor(R){this.vector=R,this.index=0}next(){if(this.index<this.vector.length)return{value:this.vector.get(this.index++)};return{done:!0,value:null}}[Symbol.iterator](){return this}}r.prototype.visitNull=e;r.prototype.visitBool=e;r.prototype.visitInt=e;r.prototype.visitInt8=e;r.prototype.visitInt16=e;r.prototype.visitInt32=e;r.prototype.visitInt64=e;r.prototype.visitUint8=e;r.prototype.visitUint16=e;r.prototype.visitUint32=e;r.prototype.visitUint64=e;r.prototype.visitFloat=e;r.prototype.visitFloat16=e;r.prototype.visitFloat32=e;r.prototype.visitFloat64=e;r.prototype.visitUtf8=e;r.prototype.visitLargeUtf8=e;r.prototype.visitBinary=e;r.prototype.visitLargeBinary=e;r.prototype.visitFixedSizeBinary=e;r.prototype.visitDate=e;r.prototype.visitDateDay=e;r.prototype.visitDateMillisecond=e;r.prototype.visitTimestamp=e;r.prototype.visitTimestampSecond=e;r.prototype.visitTimestampMillisecond=e;r.prototype.visitTimestampMicrosecond=e;r.prototype.visitTimestampNanosecond=e;r.prototype.visitTime=e;r.prototype.visitTimeSecond=e;r.prototype.visitTimeMillisecond=e;r.prototype.visitTimeMicrosecond=e;r.prototype.visitTimeNanosecond=e;r.prototype.visitDecimal=e;r.prototype.visitList=e;r.prototype.visitStruct=e;r.prototype.visitUnion=e;r.prototype.visitDenseUnion=e;r.prototype.visitSparseUnion=e;r.prototype.visitDictionary=e;r.prototype.visitInterval=e;r.prototype.visitIntervalDayTime=e;r.prototype.visitIntervalYearMonth=e;r.prototype.visitDuration=e;r.prototype.visitDurationSecond=e;r.prototype.visitDurationMillisecond=e;r.prototype.visitDurationMicrosecond=e;r.prototype.visitDurationNanosecond=e;r.prototype.visitFixedSizeList=e;r.prototype.visitMap=e;Jc.instance=new r});var dR=a((bc)=>{var sc;Object.defineProperty(bc,"__esModule",{value:!0});bc.makeVector=bc.Vector=void 0;var wT=NR(),kc=ZA(),wA=iR(),UR=bT(),ET=BB(),Sc=U9(),yc=vR(),gc=DB(),bt=_B(),Pc={},tc={};class hR{constructor(R){var T,A,h;let C=R[0]instanceof hR?R.flatMap((D)=>D.data):R;if(C.length===0||C.some((D)=>!(D instanceof UR.Data)))throw TypeError("Vector constructor expects an Array of Data instances.");let B=(T=C[0])===null||T===void 0?void 0:T.type;switch(C.length){case 0:this._offsets=[0];break;case 1:{let{get:D,set:_,indexOf:O}=Pc[B.typeId],H=C[0];this.isValid=(i)=>(0,ET.isChunkedValid)(H,i),this.get=(i)=>D(H,i),this.set=(i,J)=>_(H,i,J),this.indexOf=(i)=>O(H,i),this._offsets=[0,H.length];break}default:Object.setPrototypeOf(this,tc[B.typeId]),this._offsets=(0,ET.computeChunkOffsets)(C);break}this.data=C,this.type=B,this.stride=(0,wA.strideForType)(B),this.numChildren=(h=(A=B.children)===null||A===void 0?void 0:A.length)!==null&&h!==void 0?h:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((R,T)=>R+T.byteLength,0)}get nullable(){return(0,ET.computeChunkNullable)(this.data)}get nullCount(){return(0,ET.computeChunkNullCounts)(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${wT.Type[this.type.typeId]}Vector`}isValid(R){return!1}get(R){return null}at(R){return this.get((0,kc.wrapIndex)(R,this.length))}set(R,T){return}indexOf(R,T){return-1}includes(R,T){return this.indexOf(R,T)>-1}[Symbol.iterator](){return bt.instance.visit(this)}concat(...R){return new hR(this.data.concat(R.flatMap((T)=>T.data).flat(Number.POSITIVE_INFINITY)))}slice(R,T){return new hR((0,kc.clampRange)(this,R,T,({data:A,_offsets:h},C,B)=>(0,ET.sliceChunks)(A,h,C,B)))}toJSON(){return[...this]}toArray(){let{type:R,data:T,length:A,stride:h,ArrayType:C}=this;switch(R.typeId){case wT.Type.Int:case wT.Type.Float:case wT.Type.Decimal:case wT.Type.Time:case wT.Type.Timestamp:switch(T.length){case 0:return new C;case 1:return T[0].values.subarray(0,A*h);default:return T.reduce((B,{values:D,length:_})=>{return B.array.set(D.subarray(0,_*h),B.offset),B.offset+=_*h,B},{array:new C(A*h),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(R){var T;return this.getChildAt((T=this.type.children)===null||T===void 0?void 0:T.findIndex((A)=>A.name===R))}getChildAt(R){if(R>-1&&R<this.numChildren)return new hR(this.data.map(({children:T})=>T[R]));return null}get isMemoized(){if(wA.DataType.isDictionary(this.type))return this.data[0].dictionary.isMemoized;return!1}memoize(){if(wA.DataType.isDictionary(this.type)){let R=new OB(this.data[0].dictionary),T=this.data.map((A)=>{let h=A.clone();return h.dictionary=R,h});return new hR(T)}return new OB(this)}unmemoize(){if(wA.DataType.isDictionary(this.type)&&this.isMemoized){let R=this.data[0].dictionary.unmemoize(),T=this.data.map((A)=>{let h=A.clone();return h.dictionary=R,h});return new hR(T)}return this}}bc.Vector=hR;sc=Symbol.toStringTag;hR[sc]=((R)=>{R.type=wA.DataType.prototype,R.data=[],R.length=0,R.stride=1,R.numChildren=0,R._offsets=new Uint32Array([0]),R[Symbol.isConcatSpreadable]=!0;let T=Object.keys(wT.Type).map((A)=>wT.Type[A]).filter((A)=>typeof A==="number"&&A!==wT.Type.NONE);for(let A of T){let h=Sc.instance.getVisitFnByTypeId(A),C=yc.instance.getVisitFnByTypeId(A),B=gc.instance.getVisitFnByTypeId(A);Pc[A]={get:h,set:C,indexOf:B},tc[A]=Object.create(R,{["isValid"]:{value:(0,ET.wrapChunkedCall1)(ET.isChunkedValid)},["get"]:{value:(0,ET.wrapChunkedCall1)(Sc.instance.getVisitFnByTypeId(A))},["set"]:{value:(0,ET.wrapChunkedCall2)(yc.instance.getVisitFnByTypeId(A))},["indexOf"]:{value:(0,ET.wrapChunkedIndexOf)(gc.instance.getVisitFnByTypeId(A))}})}return"Vector"})(hR.prototype);class OB extends hR{constructor(R){super(R.data);let T=this.get,A=this.set,h=this.slice,C=Array(this.length);Object.defineProperty(this,"get",{value(B){let D=C[B];if(D!==void 0)return D;let _=T.call(this,B);return C[B]=_,_}}),Object.defineProperty(this,"set",{value(B,D){A.call(this,B,D),C[B]=D}}),Object.defineProperty(this,"slice",{value:(B,D)=>new OB(h.call(this,B,D))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new hR(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}var nT=iR();function Kc(R){if(R){if(R instanceof UR.Data)return new hR([R]);if(R instanceof hR)return new hR(R.data);if(R.type instanceof wA.DataType)return new hR([(0,UR.makeData)(R)]);if(Array.isArray(R))return new hR(R.flatMap((T)=>nt(T)));if(ArrayBuffer.isView(R)){if(R instanceof DataView)R=new Uint8Array(R.buffer);let T={offset:0,length:R.length,nullCount:-1,data:R};if(R instanceof Int8Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Int8}))]);if(R instanceof Int16Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Int16}))]);if(R instanceof Int32Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Int32}))]);if(R instanceof BigInt64Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Int64}))]);if(R instanceof Uint8Array||R instanceof Uint8ClampedArray)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Uint8}))]);if(R instanceof Uint16Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Uint16}))]);if(R instanceof Uint32Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Uint32}))]);if(R instanceof BigUint64Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Uint64}))]);if(R instanceof Float32Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Float32}))]);if(R instanceof Float64Array)return new hR([(0,UR.makeData)(Object.assign(Object.assign({},T),{type:new nT.Float64}))]);throw Error("Unrecognized input")}}throw Error("Unrecognized input")}bc.makeVector=Kc;function nt(R){return R instanceof UR.Data?[R]:R instanceof hR?R.data:Kc(R).data}});var rc=a(($c)=>{Object.defineProperty($c,"__esModule",{value:!0});$c.createIsValidFunction=void 0;var Ec=ah();function $t(R){if(!R||R.length<=0)return function(C){return!0};let T="",A=R.filter((h)=>h===h);if(A.length>0)T=`
    switch (x) {${A.map((h)=>`
        case ${pt(h)}:`).join("")}
            return false;
    }`;if(R.length!==A.length)T=`if (x !== x) return false;
${T}`;return Function("x",`${T}
return true;`)}$c.createIsValidFunction=$t;function pt(R){if(typeof R!=="bigint")return(0,Ec.valueToString)(R);return`${(0,Ec.valueToString)(R)}n`}});var UT=a((Fc)=>{Object.defineProperty(Fc,"__esModule",{value:!0});Fc.OffsetsBufferBuilder=Fc.BitmapBufferBuilder=Fc.DataBufferBuilder=Fc.BufferBuilder=void 0;var rt=bR();function S_(R,T){let A=Math.ceil(R)*T-1;return(A-A%64+64||64)/T}function Xc(R,T=0){return R.length>=T?R.subarray(0,T):(0,rt.memcpy)(new R.constructor(T),R,0)}class y_{constructor(R,T=0,A=1){this.length=Math.ceil(T/A),this.buffer=new R(this.length),this.stride=A,this.BYTES_PER_ELEMENT=R.BYTES_PER_ELEMENT,this.ArrayType=R}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(R,T){return this}append(R){return this.set(this.length,R)}reserve(R){if(R>0){this.length+=R;let T=this.stride,A=this.length*T,h=this.buffer.length;if(A>=h)this._resize(h===0?S_(A*1,this.BYTES_PER_ELEMENT):S_(A*2,this.BYTES_PER_ELEMENT))}return this}flush(R=this.length){R=S_(R*this.stride,this.BYTES_PER_ELEMENT);let T=Xc(this.buffer,R);return this.clear(),T}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize(R){return this.buffer=Xc(this.buffer,R)}}Fc.BufferBuilder=y_;class HB extends y_{last(){return this.get(this.length-1)}get(R){return this.buffer[R]}set(R,T){return this.reserve(R-this.length+1),this.buffer[R*this.stride]=T,this}}Fc.DataBufferBuilder=HB;class Gc extends HB{constructor(){super(Uint8Array,0,0.125);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(R){return this.buffer[R>>3]>>R%8&1}set(R,T){let{buffer:A}=this.reserve(R-this.length+1),h=R>>3,C=R%8,B=A[h]>>C&1;return T?B===0&&(A[h]|=1<<C,++this.numValid):B===1&&(A[h]&=~(1<<C),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}Fc.BitmapBufferBuilder=Gc;class xc extends HB{constructor(R){super(R.OffsetArrayType,1,1)}append(R){return this.set(this.length-1,R)}set(R,T){let A=this.length-1,h=this.reserve(R-A+1).buffer;if(A<R++&&A>=0)h.fill(h[A],A,R);return h[R]=h[R-1]+T,this}flush(R=this.length-1){if(R>this.length)this.set(R-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0);return super.flush(R+1)}}Fc.OffsetsBufferBuilder=xc});var aR=a((uc)=>{Object.defineProperty(uc,"__esModule",{value:!0});uc.VariableWidthBuilder=uc.FixedWidthBuilder=uc.Builder=void 0;var Ft=dR(),et=bT(),lc=Nh(),lt=iR(),dt=rc(),g_=UT();class $T{static throughNode(R){throw Error('"throughNode" not available in this environment')}static throughDOM(R){throw Error('"throughDOM" not available in this environment')}constructor({type:R,nullValues:T}){if(this.length=0,this.finished=!1,this.type=R,this.children=[],this.nullValues=T,this.stride=(0,lt.strideForType)(R),this._nulls=new g_.BitmapBufferBuilder,T&&T.length>0)this._isValid=(0,dt.createIsValidFunction)(T)}toVector(){return new Ft.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let R=0,{_offsets:T,_values:A,_nulls:h,_typeIds:C,children:B}=this;return T&&(R+=T.byteLength),A&&(R+=A.byteLength),h&&(R+=h.byteLength),C&&(R+=C.byteLength),B.reduce((D,_)=>D+_.byteLength,R)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let R=0;return this._offsets&&(R+=this._offsets.reservedByteLength),this._values&&(R+=this._values.reservedByteLength),this._nulls&&(R+=this._nulls.reservedByteLength),this._typeIds&&(R+=this._typeIds.reservedByteLength),this.children.reduce((T,A)=>T+A.reservedByteLength,R)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(R){return this.set(this.length,R)}isValid(R){return this._isValid(R)}set(R,T){if(this.setValid(R,this.isValid(T)))this.setValue(R,T);return this}setValue(R,T){this._setValue(this,R,T)}setValid(R,T){return this.length=this._nulls.set(R,+T).length,T}addChild(R,T=`${this.numChildren}`){throw Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(R){return this.children[R]||null}flush(){let R,T,A,h,{type:C,length:B,nullCount:D,_typeIds:_,_offsets:O,_values:H,_nulls:i}=this;if(T=_===null||_===void 0?void 0:_.flush(B))h=O===null||O===void 0?void 0:O.flush(B);else if(h=O===null||O===void 0?void 0:O.flush(B))R=H===null||H===void 0?void 0:H.flush(O.last());else R=H===null||H===void 0?void 0:H.flush(B);if(D>0)A=i===null||i===void 0?void 0:i.flush(B);let J=this.children.map((P)=>P.flush());return this.clear(),(0,et.makeData)({type:C,length:B,nullCount:D,children:J,child:J[0],data:R,typeIds:T,nullBitmap:A,valueOffsets:h})}finish(){this.finished=!0;for(let R of this.children)R.finish();return this}clear(){var R,T,A,h;this.length=0,(R=this._nulls)===null||R===void 0||R.clear(),(T=this._values)===null||T===void 0||T.clear(),(A=this._offsets)===null||A===void 0||A.clear(),(h=this._typeIds)===null||h===void 0||h.clear();for(let C of this.children)C.clear();return this}}uc.Builder=$T;$T.prototype.length=1;$T.prototype.stride=1;$T.prototype.children=null;$T.prototype.finished=!1;$T.prototype.nullValues=null;$T.prototype._isValid=()=>!0;class dc extends $T{constructor(R){super(R);this._values=new g_.DataBufferBuilder(this.ArrayType,0,this.stride)}setValue(R,T){let A=this._values;return A.reserve(R-A.length+1),super.setValue(R,T)}}uc.FixedWidthBuilder=dc;class jc extends $T{constructor(R){super(R);this._pendingLength=0,this._offsets=new g_.OffsetsBufferBuilder(R.type)}setValue(R,T){let A=this._pending||(this._pending=new Map),h=A.get(R);h&&(this._pendingLength-=h.length),this._pendingLength+=T instanceof lc.MapRow?T[lc.kKeys].length:T.length,A.set(R,T)}setValid(R,T){if(!super.setValid(R,T))return(this._pending||(this._pending=new Map)).set(R,void 0),!1;return!0}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let R=this._pending,T=this._pendingLength;if(this._pendingLength=0,this._pending=void 0,R&&R.size>0)this._flushPending(R,T);return this}}uc.VariableWidthBuilder=jc});var s_=a((Uc)=>{Object.defineProperty(Uc,"__esModule",{value:!0});Uc.Block=void 0;class wc{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(R,T,A,h){return R.prep(8,24),R.writeInt64(BigInt(h!==null&&h!==void 0?h:0)),R.pad(4),R.writeInt32(A),R.writeInt64(BigInt(T!==null&&T!==void 0?T:0)),R.offset()}}Uc.Block=wc});var Vc=a((Mc)=>{Object.defineProperty(Mc,"__esModule",{value:!0});Mc.Footer=void 0;var Zt=f(),fc=s_(),wt=yA(),zc=OC(),Ut=tC();class iB{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsFooter(R,T){return(T||new iB).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsFooter(R,T){return R.setPosition(R.position()+Zt.SIZE_PREFIX_LENGTH),(T||new iB).__init(R.readInt32(R.position())+R.position(),R)}version(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):zc.MetadataVersion.V1}schema(R){let T=this.bb.__offset(this.bb_pos,6);return T?(R||new Ut.Schema).__init(this.bb.__indirect(this.bb_pos+T),this.bb):null}dictionaries(R,T){let A=this.bb.__offset(this.bb_pos,8);return A?(T||new fc.Block).__init(this.bb.__vector(this.bb_pos+A)+R*24,this.bb):null}dictionariesLength(){let R=this.bb.__offset(this.bb_pos,8);return R?this.bb.__vector_len(this.bb_pos+R):0}recordBatches(R,T){let A=this.bb.__offset(this.bb_pos,10);return A?(T||new fc.Block).__init(this.bb.__vector(this.bb_pos+A)+R*24,this.bb):null}recordBatchesLength(){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.__vector_len(this.bb_pos+R):0}customMetadata(R,T){let A=this.bb.__offset(this.bb_pos,12);return A?(T||new wt.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+A)+R*4),this.bb):null}customMetadataLength(){let R=this.bb.__offset(this.bb_pos,12);return R?this.bb.__vector_len(this.bb_pos+R):0}static startFooter(R){R.startObject(5)}static addVersion(R,T){R.addFieldInt16(0,T,zc.MetadataVersion.V1)}static addSchema(R,T){R.addFieldOffset(1,T,0)}static addDictionaries(R,T){R.addFieldOffset(2,T,0)}static startDictionariesVector(R,T){R.startVector(24,T,8)}static addRecordBatches(R,T){R.addFieldOffset(3,T,0)}static startRecordBatchesVector(R,T){R.startVector(24,T,8)}static addCustomMetadata(R,T){R.addFieldOffset(4,T,0)}static createCustomMetadataVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addOffset(T[A]);return R.endVector()}static startCustomMetadataVector(R,T){R.startVector(4,T,4)}static endFooter(R){return R.endObject()}static finishFooterBuffer(R,T){R.finish(T)}static finishSizePrefixedFooterBuffer(R,T){R.finish(T,void 0,!0)}}Mc.Footer=iB});var QR=a((mc)=>{Object.defineProperty(mc,"__esModule",{value:!0});mc.Field=mc.Schema=void 0;var Qt=NR(),ft=iR();class WT{constructor(R=[],T,A,h=Qt.MetadataVersion.V5){if(this.fields=R||[],this.metadata=T||new Map,!A)A=P_(this.fields);this.dictionaries=A,this.metadataVersion=h}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((R)=>R.name)}toString(){return`Schema<{ ${this.fields.map((R,T)=>`${T}: ${R}`).join(", ")} }>`}select(R){let T=new Set(R),A=this.fields.filter((h)=>T.has(h.name));return new WT(A,this.metadata)}selectAt(R){let T=R.map((A)=>this.fields[A]).filter(Boolean);return new WT(T,this.metadata)}assign(...R){let T=R[0]instanceof WT?R[0]:Array.isArray(R[0])?new WT(R[0]):new WT(R),A=[...this.fields],h=qB(qB(new Map,this.metadata),T.metadata),C=T.fields.filter((D)=>{let _=A.findIndex((O)=>O.name===D.name);return~_?(A[_]=D.clone({metadata:qB(qB(new Map,A[_].metadata),D.metadata)}))&&!1:!0}),B=P_(C,new Map);return new WT([...A,...C],h,new Map([...this.dictionaries,...B]))}}mc.Schema=WT;WT.prototype.fields=null;WT.prototype.metadata=null;WT.prototype.dictionaries=null;class o9{static new(...R){let[T,A,h,C]=R;if(R[0]&&typeof R[0]==="object")({name:T}=R[0]),A===void 0&&(A=R[0].type),h===void 0&&(h=R[0].nullable),C===void 0&&(C=R[0].metadata);return new o9(`${T}`,A,h,C)}constructor(R,T,A=!1,h){this.name=R,this.type=T,this.nullable=A,this.metadata=h||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...R){let[T,A,h,C]=R;return!R[0]||typeof R[0]!=="object"?[T=this.name,A=this.type,h=this.nullable,C=this.metadata]=R:{name:T=this.name,type:A=this.type,nullable:h=this.nullable,metadata:C=this.metadata}=R[0],o9.new(T,A,h,C)}}mc.Field=o9;o9.prototype.type=null;o9.prototype.name=null;o9.prototype.nullable=null;o9.prototype.metadata=null;function qB(R,T){return new Map([...R||new Map,...T||new Map])}function P_(R,T=new Map){for(let A=-1,h=R.length;++A<h;){let B=R[A].type;if(ft.DataType.isDictionary(B)){if(!T.has(B.id))T.set(B.id,B.dictionary);else if(T.get(B.id)!==B.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}if(B.children&&B.children.length>0)P_(B.children,T)}return T}});var K_=a((Bo)=>{Object.defineProperty(Bo,"__esModule",{value:!0});Bo.FileBlock=Bo.Footer=void 0;var Mt=s_(),pT=Vc(),ho=f(),vt=ho.Builder,Vt=ho.ByteBuffer,Ro=QR(),To=NR(),mt=bR(),Ao=q9();class t_{static decode(R){R=new Vt((0,mt.toUint8Array)(R));let T=pT.Footer.getRootAsFooter(R),A=Ro.Schema.decode(T.schema(),new Map,T.version());return new Co(A,T)}static encode(R){let T=new vt,A=Ro.Schema.encode(T,R.schema);pT.Footer.startRecordBatchesVector(T,R.numRecordBatches);for(let B of[...R.recordBatches()].slice().reverse())V9.encode(T,B);let h=T.endVector();pT.Footer.startDictionariesVector(T,R.numDictionaries);for(let B of[...R.dictionaryBatches()].slice().reverse())V9.encode(T,B);let C=T.endVector();return pT.Footer.startFooter(T),pT.Footer.addSchema(T,A),pT.Footer.addVersion(T,To.MetadataVersion.V5),pT.Footer.addRecordBatches(T,h),pT.Footer.addDictionaries(T,C),pT.Footer.finishFooterBuffer(T,pT.Footer.endFooter(T)),T.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(R,T=To.MetadataVersion.V5,A,h){this.schema=R,this.version=T,A&&(this._recordBatches=A),h&&(this._dictionaryBatches=h)}*recordBatches(){for(let R,T=-1,A=this.numRecordBatches;++T<A;)if(R=this.getRecordBatch(T))yield R}*dictionaryBatches(){for(let R,T=-1,A=this.numDictionaries;++T<A;)if(R=this.getDictionaryBatch(T))yield R}getRecordBatch(R){return R>=0&&R<this.numRecordBatches&&this._recordBatches[R]||null}getDictionaryBatch(R){return R>=0&&R<this.numDictionaries&&this._dictionaryBatches[R]||null}}Bo.Footer=t_;class Co extends t_{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(R,T){super(R,T.version());this._footer=T}getRecordBatch(R){if(R>=0&&R<this.numRecordBatches){let T=this._footer.recordBatches(R);if(T)return V9.decode(T)}return null}getDictionaryBatch(R){if(R>=0&&R<this.numDictionaries){let T=this._footer.dictionaries(R);if(T)return V9.decode(T)}return null}}class V9{static decode(R){return new V9(R.metaDataLength(),R.bodyLength(),R.offset())}static encode(R,T){let{metaDataLength:A}=T,h=BigInt(T.offset),C=BigInt(T.bodyLength);return Mt.Block.createBlock(R,h,A,C)}constructor(R,T,A){this.metaDataLength=R,this.offset=(0,Ao.bigIntToNumber)(A),this.bodyLength=(0,Ao.bigIntToNumber)(T)}}Bo.FileBlock=V9});var kh=a((io)=>{Object.defineProperty(io,"__esModule",{value:!0});io.AsyncQueue=io.ReadableInterop=io.ArrowJSON=io.ITERATOR_DONE=void 0;var Jh=KR(),_o=SA();io.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});class Oo{constructor(R){this._json=R}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}io.ArrowJSON=Oo;class b_{tee(){return this._getDOMStream().tee()}pipe(R,T){return this._getNodeStream().pipe(R,T)}pipeTo(R,T){return this._getDOMStream().pipeTo(R,T)}pipeThrough(R,T){return this._getDOMStream().pipeThrough(R,T)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}io.ReadableInterop=b_;class Ho extends b_{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise((R)=>this._closedPromiseResolve=R)}get closed(){return this._closedPromise}cancel(R){return Jh.__awaiter(this,void 0,void 0,function*(){yield this.return(R)})}write(R){if(this._ensureOpen())this.resolvers.length<=0?this._values.push(R):this.resolvers.shift().resolve({done:!1,value:R})}abort(R){if(this._closedPromiseResolve)this.resolvers.length<=0?this._error={error:R}:this.resolvers.shift().reject({done:!0,value:R})}close(){if(this._closedPromiseResolve){let{resolvers:R}=this;while(R.length>0)R.shift().resolve(io.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(R){return _o.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,R)}toNodeStream(R){return _o.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,R)}throw(R){return Jh.__awaiter(this,void 0,void 0,function*(){return yield this.abort(R),io.ITERATOR_DONE})}return(R){return Jh.__awaiter(this,void 0,void 0,function*(){return yield this.close(),io.ITERATOR_DONE})}read(R){return Jh.__awaiter(this,void 0,void 0,function*(){return(yield this.next(R,"read")).value})}peek(R){return Jh.__awaiter(this,void 0,void 0,function*(){return(yield this.next(R,"peek")).value})}next(...R){if(this._values.length>0)return Promise.resolve({done:!1,value:this._values.shift()});else if(this._error)return Promise.reject({done:!0,value:this._error.error});else if(!this._closedPromiseResolve)return Promise.resolve(io.ITERATOR_DONE);else return new Promise((T,A)=>{this.resolvers.push({resolve:T,reject:A})})}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw Error("AsyncQueue is closed")}}io.AsyncQueue=Ho});var rT=a((No)=>{Object.defineProperty(No,"__esModule",{value:!0});No.AsyncByteStream=No.ByteStream=No.AsyncByteQueue=void 0;var k9=KR(),J9=SA(),ao=T9(),Sh=kh(),n_=bR(),UA=jT();class E_ extends Sh.AsyncQueue{write(R){if((R=(0,n_.toUint8Array)(R)).byteLength>0)return super.write(R)}toString(R=!1){return R?(0,ao.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(ao.decodeUtf8)}toUint8Array(R=!1){return R?(0,n_.joinUint8Arrays)(this._values)[0]:(()=>k9.__awaiter(this,void 0,void 0,function*(){var T,A,h,C;let B=[],D=0;try{for(var _=!0,O=k9.__asyncValues(this),H;H=yield O.next(),T=H.done,!T;_=!0){C=H.value,_=!1;let i=C;B.push(i),D+=i.byteLength}}catch(i){A={error:i}}finally{try{if(!_&&!T&&(h=O.return))yield h.call(O)}finally{if(A)throw A.error}}return(0,n_.joinUint8Arrays)(B,D)[0]}))()}}No.AsyncByteQueue=E_;class Lo{constructor(R){if(R)this.source=new Wo(J9.default.fromIterable(R))}[Symbol.iterator](){return this}next(R){return this.source.next(R)}throw(R){return this.source.throw(R)}return(R){return this.source.return(R)}peek(R){return this.source.peek(R)}read(R){return this.source.read(R)}}No.ByteStream=Lo;class $_{constructor(R){if(R instanceof $_)this.source=R.source;else if(R instanceof E_)this.source=new I9(J9.default.fromAsyncIterable(R));else if((0,UA.isReadableNodeStream)(R))this.source=new I9(J9.default.fromNodeStream(R));else if((0,UA.isReadableDOMStream)(R))this.source=new I9(J9.default.fromDOMStream(R));else if((0,UA.isFetchResponse)(R))this.source=new I9(J9.default.fromDOMStream(R.body));else if((0,UA.isIterable)(R))this.source=new I9(J9.default.fromIterable(R));else if((0,UA.isPromise)(R))this.source=new I9(J9.default.fromAsyncIterable(R));else if((0,UA.isAsyncIterable)(R))this.source=new I9(J9.default.fromAsyncIterable(R))}[Symbol.asyncIterator](){return this}next(R){return this.source.next(R)}throw(R){return this.source.throw(R)}return(R){return this.source.return(R)}get closed(){return this.source.closed}cancel(R){return this.source.cancel(R)}peek(R){return this.source.peek(R)}read(R){return this.source.read(R)}}No.AsyncByteStream=$_;class Wo{constructor(R){this.source=R}cancel(R){this.return(R)}peek(R){return this.next(R,"peek").value}read(R){return this.next(R,"read").value}next(R,T="read"){return this.source.next({cmd:T,size:R})}throw(R){return Object.create(this.source.throw&&this.source.throw(R)||Sh.ITERATOR_DONE)}return(R){return Object.create(this.source.return&&this.source.return(R)||Sh.ITERATOR_DONE)}}class I9{constructor(R){this.source=R,this._closedPromise=new Promise((T)=>this._closedPromiseResolve=T)}cancel(R){return k9.__awaiter(this,void 0,void 0,function*(){yield this.return(R)})}get closed(){return this._closedPromise}read(R){return k9.__awaiter(this,void 0,void 0,function*(){return(yield this.next(R,"read")).value})}peek(R){return k9.__awaiter(this,void 0,void 0,function*(){return(yield this.next(R,"peek")).value})}next(R){return k9.__awaiter(this,arguments,void 0,function*(T,A="read"){return yield this.source.next({cmd:A,size:T})})}throw(R){return k9.__awaiter(this,void 0,void 0,function*(){let T=this.source.throw&&(yield this.source.throw(R))||Sh.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(T)})}return(R){return k9.__awaiter(this,void 0,void 0,function*(){let T=this.source.return&&(yield this.source.return(R))||Sh.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(T)})}}});var p_=a((ko)=>{Object.defineProperty(ko,"__esModule",{value:!0});ko.AsyncRandomAccessFile=ko.RandomAccessFile=void 0;var S9=KR(),oo=rT(),CK=bR();class Jo extends oo.ByteStream{constructor(R,T){super();this.position=0,this.buffer=(0,CK.toUint8Array)(R),this.size=T===void 0?this.buffer.byteLength:T}readInt32(R){let{buffer:T,byteOffset:A}=this.readAt(R,4);return new DataView(T,A).getInt32(0,!0)}seek(R){return this.position=Math.min(R,this.size),R<this.size}read(R){let{buffer:T,size:A,position:h}=this;if(T&&h<A){if(typeof R!=="number")R=Number.POSITIVE_INFINITY;return this.position=Math.min(A,h+Math.min(A-h,R)),T.subarray(h,this.position)}return null}readAt(R,T){let A=this.buffer,h=Math.min(this.size,R+T);return A?A.subarray(R,h):new Uint8Array(T)}close(){this.buffer&&(this.buffer=null)}throw(R){return this.close(),{done:!0,value:R}}return(R){return this.close(),{done:!0,value:R}}}ko.RandomAccessFile=Jo;class Io extends oo.AsyncByteStream{constructor(R,T){super();if(this.position=0,this._handle=R,typeof T==="number")this.size=T;else this._pending=(()=>S9.__awaiter(this,void 0,void 0,function*(){this.size=(yield R.stat()).size,delete this._pending}))()}readInt32(R){return S9.__awaiter(this,void 0,void 0,function*(){let{buffer:T,byteOffset:A}=yield this.readAt(R,4);return new DataView(T,A).getInt32(0,!0)})}seek(R){return S9.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(R,this.size),R<this.size})}read(R){return S9.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:T,size:A,position:h}=this;if(T&&h<A){if(typeof R!=="number")R=Number.POSITIVE_INFINITY;let C=h,B=0,D=0,_=Math.min(A,C+Math.min(A-C,R)),O=new Uint8Array(Math.max(0,(this.position=_)-C));while((C+=D)<_&&(B+=D)<O.byteLength)({bytesRead:D}=yield T.read(O,B,O.byteLength-B,C));return O}return null})}readAt(R,T){return S9.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:A,size:h}=this;if(A&&R+T<h){let C=Math.min(h,R+T),B=new Uint8Array(C-R);return(yield A.read(B,0,T,R)).buffer}return new Uint8Array(T)})}close(){return S9.__awaiter(this,void 0,void 0,function*(){let R=this._handle;this._handle=null,R&&(yield R.close())})}throw(R){return S9.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:R}})}return(R){return S9.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:R}})}}ko.AsyncRandomAccessFile=Io});var X_=a((yo)=>{Object.defineProperty(yo,"__esModule",{value:!0});yo.Int128=yo.Int64=yo.Uint64=yo.BaseInt64=void 0;var DK=65536;function QA(R){if(R<0)R=4294967295+R+1;return`0x${R.toString(16)}`}var fA=8,r_=[1,10,100,1000,1e4,1e5,1e6,1e7,1e8];class aB{constructor(R){this.buffer=R}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(R){let T=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),A=new Uint32Array([R.buffer[1]>>>16,R.buffer[1]&65535,R.buffer[0]>>>16,R.buffer[0]&65535]),h=T[3]*A[3];this.buffer[0]=h&65535;let C=h>>>16;return h=T[2]*A[3],C+=h,h=T[3]*A[2]>>>0,C+=h,this.buffer[0]+=C<<16,this.buffer[1]=C>>>0<h?DK:0,this.buffer[1]+=C>>>16,this.buffer[1]+=T[1]*A[3]+T[2]*A[2]+T[3]*A[1],this.buffer[1]+=T[0]*A[3]+T[1]*A[2]+T[2]*A[1]+T[3]*A[0]<<16,this}_plus(R){let T=this.buffer[0]+R.buffer[0]>>>0;if(this.buffer[1]+=R.buffer[1],T<this.buffer[0]>>>0)++this.buffer[1];this.buffer[0]=T}lessThan(R){return this.buffer[1]<R.buffer[1]||this.buffer[1]===R.buffer[1]&&this.buffer[0]<R.buffer[0]}equals(R){return this.buffer[1]===R.buffer[1]&&this.buffer[0]==R.buffer[0]}greaterThan(R){return R.lessThan(this)}hex(){return`${QA(this.buffer[1])} ${QA(this.buffer[0])}`}}yo.BaseInt64=aB;class RR extends aB{times(R){return this._times(R),this}plus(R){return this._plus(R),this}static from(R,T=new Uint32Array(2)){return RR.fromString(typeof R==="string"?R:R.toString(),T)}static fromNumber(R,T=new Uint32Array(2)){return RR.fromString(R.toString(),T)}static fromString(R,T=new Uint32Array(2)){let A=R.length,h=new RR(T);for(let C=0;C<A;){let B=fA<A-C?fA:A-C,D=new RR(new Uint32Array([Number.parseInt(R.slice(C,C+B),10),0])),_=new RR(new Uint32Array([r_[B],0]));h.times(_),h.plus(D),C+=B}return h}static convertArray(R){let T=new Uint32Array(R.length*2);for(let A=-1,h=R.length;++A<h;)RR.from(R[A],new Uint32Array(T.buffer,T.byteOffset+2*A*4,2));return T}static multiply(R,T){return new RR(new Uint32Array(R.buffer)).times(T)}static add(R,T){return new RR(new Uint32Array(R.buffer)).plus(T)}}yo.Uint64=RR;class YR extends aB{negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0)++this.buffer[1];return this}times(R){return this._times(R),this}plus(R){return this._plus(R),this}lessThan(R){let T=this.buffer[1]<<0,A=R.buffer[1]<<0;return T<A||T===A&&this.buffer[0]<R.buffer[0]}static from(R,T=new Uint32Array(2)){return YR.fromString(typeof R==="string"?R:R.toString(),T)}static fromNumber(R,T=new Uint32Array(2)){return YR.fromString(R.toString(),T)}static fromString(R,T=new Uint32Array(2)){let A=R.startsWith("-"),h=R.length,C=new YR(T);for(let B=A?1:0;B<h;){let D=fA<h-B?fA:h-B,_=new YR(new Uint32Array([Number.parseInt(R.slice(B,B+D),10),0])),O=new YR(new Uint32Array([r_[D],0]));C.times(O),C.plus(_),B+=D}return A?C.negate():C}static convertArray(R){let T=new Uint32Array(R.length*2);for(let A=-1,h=R.length;++A<h;)YR.from(R[A],new Uint32Array(T.buffer,T.byteOffset+2*A*4,2));return T}static multiply(R,T){return new YR(new Uint32Array(R.buffer)).times(T)}static add(R,T){return new YR(new Uint32Array(R.buffer)).plus(T)}}yo.Int64=YR;class XT{constructor(R){this.buffer=R}high(){return new YR(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new YR(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){if(this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0)++this.buffer[1];if(this.buffer[1]==0)++this.buffer[2];if(this.buffer[2]==0)++this.buffer[3];return this}times(R){let T=new RR(new Uint32Array([this.buffer[3],0])),A=new RR(new Uint32Array([this.buffer[2],0])),h=new RR(new Uint32Array([this.buffer[1],0])),C=new RR(new Uint32Array([this.buffer[0],0])),B=new RR(new Uint32Array([R.buffer[3],0])),D=new RR(new Uint32Array([R.buffer[2],0])),_=new RR(new Uint32Array([R.buffer[1],0])),O=new RR(new Uint32Array([R.buffer[0],0])),H=RR.multiply(C,O);this.buffer[0]=H.low();let i=new RR(new Uint32Array([H.high(),0]));return H=RR.multiply(h,O),i.plus(H),H=RR.multiply(C,_),i.plus(H),this.buffer[1]=i.low(),this.buffer[3]=i.lessThan(H)?1:0,this.buffer[2]=i.high(),new RR(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(RR.multiply(A,O)).plus(RR.multiply(h,_)).plus(RR.multiply(C,D)),this.buffer[3]+=RR.multiply(T,O).plus(RR.multiply(A,_)).plus(RR.multiply(h,D)).plus(RR.multiply(C,B)).low(),this}plus(R){let T=new Uint32Array(4);if(T[3]=this.buffer[3]+R.buffer[3]>>>0,T[2]=this.buffer[2]+R.buffer[2]>>>0,T[1]=this.buffer[1]+R.buffer[1]>>>0,T[0]=this.buffer[0]+R.buffer[0]>>>0,T[0]<this.buffer[0]>>>0)++T[1];if(T[1]<this.buffer[1]>>>0)++T[2];if(T[2]<this.buffer[2]>>>0)++T[3];return this.buffer[3]=T[3],this.buffer[2]=T[2],this.buffer[1]=T[1],this.buffer[0]=T[0],this}hex(){return`${QA(this.buffer[3])} ${QA(this.buffer[2])} ${QA(this.buffer[1])} ${QA(this.buffer[0])}`}static multiply(R,T){return new XT(new Uint32Array(R.buffer)).times(T)}static add(R,T){return new XT(new Uint32Array(R.buffer)).plus(T)}static from(R,T=new Uint32Array(4)){return XT.fromString(typeof R==="string"?R:R.toString(),T)}static fromNumber(R,T=new Uint32Array(4)){return XT.fromString(R.toString(),T)}static fromString(R,T=new Uint32Array(4)){let A=R.startsWith("-"),h=R.length,C=new XT(T);for(let B=A?1:0;B<h;){let D=fA<h-B?fA:h-B,_=new XT(new Uint32Array([Number.parseInt(R.slice(B,B+D),10),0,0,0])),O=new XT(new Uint32Array([r_[D],0,0,0]));C.times(O),C.plus(_),B+=D}return A?C.negate():C}static convertArray(R){let T=new Uint32Array(R.length*4);for(let A=-1,h=R.length;++A<h;)XT.from(R[A],new Uint32Array(T.buffer,T.byteOffset+16*A,4));return T}}yo.Int128=XT});var bo=a((to)=>{Object.defineProperty(to,"__esModule",{value:!0});to.JSONVectorLoader=to.VectorLoader=void 0;var oR=bT(),iK=QR(),RT=iR(),qK=ZR(),so=v9(),aK=T9(),LB=X_(),WB=NR(),GT=bR();class G_ extends qK.Visitor{constructor(R,T,A,h,C=WB.MetadataVersion.V5){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=R,this.nodes=T,this.buffers=A,this.dictionaries=h,this.metadataVersion=C}visit(R){return super.visit(R instanceof iK.Field?R.type:R)}visitNull(R,{length:T}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T})}visitBool(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitInt(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitFloat(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitUtf8(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),valueOffsets:this.readOffsets(R),data:this.readData(R)})}visitLargeUtf8(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),valueOffsets:this.readOffsets(R),data:this.readData(R)})}visitBinary(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),valueOffsets:this.readOffsets(R),data:this.readData(R)})}visitLargeBinary(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),valueOffsets:this.readOffsets(R),data:this.readData(R)})}visitFixedSizeBinary(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitDate(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitTimestamp(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitTime(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitDecimal(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitList(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),valueOffsets:this.readOffsets(R),child:this.visit(R.children[0])})}visitStruct(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),children:this.visitMany(R.children)})}visitUnion(R,{length:T,nullCount:A}=this.nextFieldNode()){if(this.metadataVersion<WB.MetadataVersion.V5)this.readNullBitmap(R,A);return R.mode===WB.UnionMode.Sparse?this.visitSparseUnion(R,{length:T,nullCount:A}):this.visitDenseUnion(R,{length:T,nullCount:A})}visitDenseUnion(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,typeIds:this.readTypeIds(R),valueOffsets:this.readOffsets(R),children:this.visitMany(R.children)})}visitSparseUnion(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,typeIds:this.readTypeIds(R),children:this.visitMany(R.children)})}visitDictionary(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R.indices),dictionary:this.readDictionary(R)})}visitInterval(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitDuration(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),data:this.readData(R)})}visitFixedSizeList(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),child:this.visit(R.children[0])})}visitMap(R,{length:T,nullCount:A}=this.nextFieldNode()){return(0,oR.makeData)({type:R,length:T,nullCount:A,nullBitmap:this.readNullBitmap(R,A),valueOffsets:this.readOffsets(R),child:this.visit(R.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(R,T,A=this.nextBufferRange()){return T>0&&this.readData(R,A)||new Uint8Array(0)}readOffsets(R,T){return this.readData(R,T)}readTypeIds(R,T){return this.readData(R,T)}readData(R,{length:T,offset:A}=this.nextBufferRange()){return this.bytes.subarray(A,A+T)}readDictionary(R){return this.dictionaries.get(R.id)}}to.VectorLoader=G_;class Po extends G_{constructor(R,T,A,h,C){super(new Uint8Array(0),T,A,h,C);this.sources=R}readNullBitmap(R,T,{offset:A}=this.nextBufferRange()){return T<=0?new Uint8Array(0):(0,so.packBools)(this.sources[A])}readOffsets(R,{offset:T}=this.nextBufferRange()){return(0,GT.toArrayBufferView)(Uint8Array,(0,GT.toArrayBufferView)(R.OffsetArrayType,this.sources[T]))}readTypeIds(R,{offset:T}=this.nextBufferRange()){return(0,GT.toArrayBufferView)(Uint8Array,(0,GT.toArrayBufferView)(R.ArrayType,this.sources[T]))}readData(R,{offset:T}=this.nextBufferRange()){let{sources:A}=this;if(RT.DataType.isTimestamp(R))return(0,GT.toArrayBufferView)(Uint8Array,LB.Int64.convertArray(A[T]));else if((RT.DataType.isInt(R)||RT.DataType.isTime(R))&&R.bitWidth===64||RT.DataType.isDuration(R))return(0,GT.toArrayBufferView)(Uint8Array,LB.Int64.convertArray(A[T]));else if(RT.DataType.isDate(R)&&R.unit===WB.DateUnit.MILLISECOND)return(0,GT.toArrayBufferView)(Uint8Array,LB.Int64.convertArray(A[T]));else if(RT.DataType.isDecimal(R))return(0,GT.toArrayBufferView)(Uint8Array,LB.Int128.convertArray(A[T]));else if(RT.DataType.isBinary(R)||RT.DataType.isLargeBinary(R)||RT.DataType.isFixedSizeBinary(R))return LK(A[T]);else if(RT.DataType.isBool(R))return(0,so.packBools)(A[T]);else if(RT.DataType.isUtf8(R)||RT.DataType.isLargeUtf8(R))return(0,aK.encodeUtf8)(A[T].join(""));return(0,GT.toArrayBufferView)(Uint8Array,(0,GT.toArrayBufferView)(R.ArrayType,A[T].map((h)=>+h)))}}to.JSONVectorLoader=Po;function LK(R){let T=R.join(""),A=new Uint8Array(T.length/2);for(let h=0;h<T.length;h+=2)A[h>>1]=Number.parseInt(T.slice(h,h+2),16);return A}});var NB=a((Eo)=>{Object.defineProperty(Eo,"__esModule",{value:!0});Eo.BinaryBuilder=void 0;var NK=UT(),cK=aR(),oK=bR();class no extends cK.VariableWidthBuilder{constructor(R){super(R);this._values=new NK.BufferBuilder(Uint8Array)}get byteLength(){let R=this._pendingLength+this.length*4;return this._offsets&&(R+=this._offsets.byteLength),this._values&&(R+=this._values.byteLength),this._nulls&&(R+=this._nulls.byteLength),R}setValue(R,T){return super.setValue(R,(0,oK.toUint8Array)(T))}_flushPending(R,T){let A=this._offsets,h=this._values.reserve(T).buffer,C=0;for(let[B,D]of R)if(D===void 0)A.set(B,0);else{let _=D.length;h.set(D,C),A.set(B,_),C+=_}}}Eo.BinaryBuilder=no});var cB=a((ro)=>{Object.defineProperty(ro,"__esModule",{value:!0});ro.LargeBinaryBuilder=void 0;var JK=bR(),IK=UT(),kK=aR();class po extends kK.VariableWidthBuilder{constructor(R){super(R);this._values=new IK.BufferBuilder(Uint8Array)}get byteLength(){let R=this._pendingLength+this.length*4;return this._offsets&&(R+=this._offsets.byteLength),this._values&&(R+=this._values.byteLength),this._nulls&&(R+=this._nulls.byteLength),R}setValue(R,T){return super.setValue(R,(0,JK.toUint8Array)(T))}_flushPending(R,T){let A=this._offsets,h=this._values.reserve(T).buffer,C=0;for(let[B,D]of R)if(D===void 0)A.set(B,BigInt(0));else{let _=D.length;h.set(D,C),A.set(B,BigInt(_)),C+=_}}}ro.LargeBinaryBuilder=po});var x_=a((xo)=>{Object.defineProperty(xo,"__esModule",{value:!0});xo.BoolBuilder=void 0;var SK=UT(),yK=aR();class Go extends yK.Builder{constructor(R){super(R);this._values=new SK.BitmapBufferBuilder}setValue(R,T){this._values.set(R,+T)}}xo.BoolBuilder=Go});var d_=a((eo)=>{Object.defineProperty(eo,"__esModule",{value:!0});eo.DateMillisecondBuilder=eo.DateDayBuilder=eo.DateBuilder=void 0;var gK=aR(),F_=vR();class yh extends gK.FixedWidthBuilder{}eo.DateBuilder=yh;yh.prototype._setValue=F_.setDate;class e_ extends yh{}eo.DateDayBuilder=e_;e_.prototype._setValue=F_.setDateDay;class l_ extends yh{}eo.DateMillisecondBuilder=l_;l_.prototype._setValue=F_.setDateMillisecond});var u_=a((jo)=>{Object.defineProperty(jo,"__esModule",{value:!0});jo.DecimalBuilder=void 0;var tK=aR(),KK=vR();class j_ extends tK.FixedWidthBuilder{}jo.DecimalBuilder=j_;j_.prototype._setValue=KK.setDecimal});var Z_=a((Uo)=>{Object.defineProperty(Uo,"__esModule",{value:!0});Uo.DictionaryBuilder=void 0;var bK=iR(),nK=aR(),Zo=zA();class wo extends nK.Builder{constructor({type:R,nullValues:T,dictionaryHashFunction:A}){super({type:new bK.Dictionary(R.dictionary,R.indices,R.id,R.isOrdered)});if(this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,Zo.makeBuilder)({type:this.type.indices,nullValues:T}),this.dictionary=(0,Zo.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof A==="function")this.valueToKey=A}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(R){return this.indices.isValid(R)}setValid(R,T){let A=this.indices;return T=A.setValid(R,T),this.length=A.length,T}setValue(R,T){let A=this._keysToIndices,h=this.valueToKey(T),C=A[h];if(C===void 0)A[h]=C=this._dictionaryOffset+this.dictionary.append(T).length-1;return this.indices.setValue(R,C)}flush(){let R=this.type,T=this._dictionary,A=this.dictionary.toVector(),h=this.indices.flush().clone(R);return h.dictionary=T?T.concat(A):A,this.finished||(this._dictionaryOffset+=A.length),this._dictionary=h.dictionary,this.clear(),h}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(R){return typeof R==="string"?R:`${R}`}}Uo.DictionaryBuilder=wo});var U_=a((fo)=>{Object.defineProperty(fo,"__esModule",{value:!0});fo.FixedSizeBinaryBuilder=void 0;var EK=aR(),$K=vR();class w_ extends EK.FixedWidthBuilder{}fo.FixedSizeBinaryBuilder=w_;w_.prototype._setValue=$K.setFixedSizeBinary});var Q_=a((vo)=>{Object.defineProperty(vo,"__esModule",{value:!0});vo.FixedSizeListBuilder=void 0;var pK=QR(),rK=aR(),XK=iR();class Mo extends rK.Builder{setValue(R,T){let[A]=this.children,h=R*this.stride;for(let C=-1,B=T.length;++C<B;)A.set(h+C,T[C])}addChild(R,T="0"){if(this.numChildren>0)throw Error("FixedSizeListBuilder can only have one child.");let A=this.children.push(R);return this.type=new XK.FixedSizeList(this.type.listSize,new pK.Field(T,R.type,!0)),A}}vo.FixedSizeListBuilder=Mo});var f_=a((T8)=>{Object.defineProperty(T8,"__esModule",{value:!0});T8.Float64Builder=T8.Float32Builder=T8.Float16Builder=T8.FloatBuilder=void 0;var GK=Wh(),xK=aR();class gh extends xK.FixedWidthBuilder{setValue(R,T){this._values.set(R,T)}}T8.FloatBuilder=gh;class mo extends gh{setValue(R,T){super.setValue(R,(0,GK.float64ToUint16)(T))}}T8.Float16Builder=mo;class Yo extends gh{}T8.Float32Builder=Yo;class R8 extends gh{}T8.Float64Builder=R8});var V_=a((h8)=>{Object.defineProperty(h8,"__esModule",{value:!0});h8.IntervalYearMonthBuilder=h8.IntervalDayTimeBuilder=h8.IntervalBuilder=void 0;var dK=aR(),z_=vR();class sh extends dK.FixedWidthBuilder{}h8.IntervalBuilder=sh;sh.prototype._setValue=z_.setIntervalValue;class M_ extends sh{}h8.IntervalDayTimeBuilder=M_;M_.prototype._setValue=z_.setIntervalDayTime;class v_ extends sh{}h8.IntervalYearMonthBuilder=v_;v_.prototype._setValue=z_.setIntervalYearMonth});var AO=a((B8)=>{Object.defineProperty(B8,"__esModule",{value:!0});B8.DurationNanosecondBuilder=B8.DurationMicrosecondBuilder=B8.DurationMillisecondBuilder=B8.DurationSecondBuilder=B8.DurationBuilder=void 0;var ZK=aR(),Ph=vR();class m9 extends ZK.FixedWidthBuilder{}B8.DurationBuilder=m9;m9.prototype._setValue=Ph.setDuration;class m_ extends m9{}B8.DurationSecondBuilder=m_;m_.prototype._setValue=Ph.setDurationSecond;class Y_ extends m9{}B8.DurationMillisecondBuilder=Y_;Y_.prototype._setValue=Ph.setDurationMillisecond;class RO extends m9{}B8.DurationMicrosecondBuilder=RO;RO.prototype._setValue=Ph.setDurationMicrosecond;class TO extends m9{}B8.DurationNanosecondBuilder=TO;TO.prototype._setValue=Ph.setDurationNanosecond});var hO=a((N8)=>{Object.defineProperty(N8,"__esModule",{value:!0});N8.Uint64Builder=N8.Uint32Builder=N8.Uint16Builder=N8.Uint8Builder=N8.Int64Builder=N8.Int32Builder=N8.Int16Builder=N8.Int8Builder=N8.IntBuilder=void 0;var zK=aR();class xT extends zK.FixedWidthBuilder{setValue(R,T){this._values.set(R,T)}}N8.IntBuilder=xT;class _8 extends xT{}N8.Int8Builder=_8;class O8 extends xT{}N8.Int16Builder=O8;class H8 extends xT{}N8.Int32Builder=H8;class i8 extends xT{}N8.Int64Builder=i8;class q8 extends xT{}N8.Uint8Builder=q8;class a8 extends xT{}N8.Uint16Builder=a8;class L8 extends xT{}N8.Uint32Builder=L8;class W8 extends xT{}N8.Uint64Builder=W8});var CO=a((J8)=>{Object.defineProperty(J8,"__esModule",{value:!0});J8.ListBuilder=void 0;var h5=QR(),C5=iR(),B5=UT(),D5=aR();class o8 extends D5.VariableWidthBuilder{constructor(R){super(R);this._offsets=new B5.OffsetsBufferBuilder(R.type)}addChild(R,T="0"){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=R,this.type=new C5.List(new h5.Field(T,R.type,!0)),this.numChildren-1}_flushPending(R){let T=this._offsets,[A]=this.children;for(let[h,C]of R)if(typeof C>"u")T.set(h,0);else{let B=C,D=B.length,_=T.set(h,D).buffer[h];for(let O=-1;++O<D;)A.set(_+O,B[O])}}}J8.ListBuilder=o8});var BO=a((S8)=>{Object.defineProperty(S8,"__esModule",{value:!0});S8.MapBuilder=void 0;var _5=QR(),O5=iR(),H5=aR();class k8 extends H5.VariableWidthBuilder{set(R,T){return super.set(R,T)}setValue(R,T){let A=T instanceof Map?T:new Map(Object.entries(T)),h=this._pending||(this._pending=new Map),C=h.get(R);C&&(this._pendingLength-=C.size),this._pendingLength+=A.size,h.set(R,A)}addChild(R,T=`${this.numChildren}`){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=R,this.type=new O5.Map_(new _5.Field(T,R.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(R){let T=this._offsets,[A]=this.children;for(let[h,C]of R)if(C===void 0)T.set(h,0);else{let{[h]:B,[h+1]:D}=T.set(h,C.size).buffer;for(let _ of C.entries())if(A.set(B,_),++B>=D)break}}}S8.MapBuilder=k8});var DO=a((s8)=>{Object.defineProperty(s8,"__esModule",{value:!0});s8.NullBuilder=void 0;var i5=aR();class g8 extends i5.Builder{setValue(R,T){}setValid(R,T){return this.length=Math.max(R+1,this.length),T}}s8.NullBuilder=g8});var _O=a((K8)=>{Object.defineProperty(K8,"__esModule",{value:!0});K8.StructBuilder=void 0;var q5=QR(),a5=aR(),L5=iR();class t8 extends a5.Builder{setValue(R,T){let{children:A,type:h}=this;switch(Array.isArray(T)||T.constructor){case!0:return h.children.forEach((C,B)=>A[B].set(R,T[B]));case Map:return h.children.forEach((C,B)=>A[B].set(R,T.get(C.name)));default:return h.children.forEach((C,B)=>A[B].set(R,T[C.name]))}}setValid(R,T){if(!super.setValid(R,T))this.children.forEach((A)=>A.setValid(R,T));return T}addChild(R,T=`${this.numChildren}`){let A=this.children.push(R);return this.type=new L5.Struct([...this.type.children,new q5.Field(T,R.type,!0)]),A}}K8.StructBuilder=t8});var aO=a((n8)=>{Object.defineProperty(n8,"__esModule",{value:!0});n8.TimestampNanosecondBuilder=n8.TimestampMicrosecondBuilder=n8.TimestampMillisecondBuilder=n8.TimestampSecondBuilder=n8.TimestampBuilder=void 0;var W5=aR(),th=vR();class Y9 extends W5.FixedWidthBuilder{}n8.TimestampBuilder=Y9;Y9.prototype._setValue=th.setTimestamp;class OO extends Y9{}n8.TimestampSecondBuilder=OO;OO.prototype._setValue=th.setTimestampSecond;class HO extends Y9{}n8.TimestampMillisecondBuilder=HO;HO.prototype._setValue=th.setTimestampMillisecond;class iO extends Y9{}n8.TimestampMicrosecondBuilder=iO;iO.prototype._setValue=th.setTimestampMicrosecond;class qO extends Y9{}n8.TimestampNanosecondBuilder=qO;qO.prototype._setValue=th.setTimestampNanosecond});var oO=a(($8)=>{Object.defineProperty($8,"__esModule",{value:!0});$8.TimeNanosecondBuilder=$8.TimeMicrosecondBuilder=$8.TimeMillisecondBuilder=$8.TimeSecondBuilder=$8.TimeBuilder=void 0;var I5=aR(),Kh=vR();class RA extends I5.FixedWidthBuilder{}$8.TimeBuilder=RA;RA.prototype._setValue=Kh.setTime;class LO extends RA{}$8.TimeSecondBuilder=LO;LO.prototype._setValue=Kh.setTimeSecond;class WO extends RA{}$8.TimeMillisecondBuilder=WO;WO.prototype._setValue=Kh.setTimeMillisecond;class NO extends RA{}$8.TimeMicrosecondBuilder=NO;NO.prototype._setValue=Kh.setTimeMicrosecond;class cO extends RA{}$8.TimeNanosecondBuilder=cO;cO.prototype._setValue=Kh.setTimeNanosecond});var JO=a((x8)=>{Object.defineProperty(x8,"__esModule",{value:!0});x8.DenseUnionBuilder=x8.SparseUnionBuilder=x8.UnionBuilder=void 0;var s5=QR(),r8=UT(),P5=aR(),t5=iR();class oB extends P5.Builder{constructor(R){super(R);if(this._typeIds=new r8.DataBufferBuilder(Int8Array,0,1),typeof R.valueToChildTypeId==="function")this._valueToChildTypeId=R.valueToChildTypeId}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(R,T){return this.set(this.length,R,T)}set(R,T,A){if(A===void 0)A=this._valueToChildTypeId(this,T,R);return this.setValue(R,T,A),this}setValue(R,T,A){this._typeIds.set(R,A);let h=this.type.typeIdToChildIndex[A],C=this.children[h];C===null||C===void 0||C.set(R,T)}addChild(R,T=`${this.children.length}`){let A=this.children.push(R),{type:{children:h,mode:C,typeIds:B}}=this,D=[...h,new s5.Field(T,R.type)];return this.type=new t5.Union(C,[...B,A],D),A}_valueToChildTypeId(R,T,A){throw Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}x8.UnionBuilder=oB;class X8 extends oB{}x8.SparseUnionBuilder=X8;class G8 extends oB{constructor(R){super(R);this._offsets=new r8.DataBufferBuilder(Int32Array)}setValue(R,T,A){let h=this._typeIds.set(R,A).buffer[R],C=this.getChildAt(this.type.typeIdToChildIndex[h]),B=this._offsets.set(R,C.length).buffer[R];C===null||C===void 0||C.set(B,T)}}x8.DenseUnionBuilder=G8});var kO=a((e8)=>{Object.defineProperty(e8,"__esModule",{value:!0});e8.Utf8Builder=void 0;var n5=T9(),E5=NB(),$5=UT(),p5=aR();class IO extends p5.VariableWidthBuilder{constructor(R){super(R);this._values=new $5.BufferBuilder(Uint8Array)}get byteLength(){let R=this._pendingLength+this.length*4;return this._offsets&&(R+=this._offsets.byteLength),this._values&&(R+=this._values.byteLength),this._nulls&&(R+=this._nulls.byteLength),R}setValue(R,T){return super.setValue(R,(0,n5.encodeUtf8)(T))}_flushPending(R,T){}}e8.Utf8Builder=IO;IO.prototype._flushPending=E5.BinaryBuilder.prototype._flushPending});var yO=a((d8)=>{Object.defineProperty(d8,"__esModule",{value:!0});d8.LargeUtf8Builder=void 0;var r5=T9(),X5=UT(),G5=aR(),x5=cB();class SO extends G5.VariableWidthBuilder{constructor(R){super(R);this._values=new X5.BufferBuilder(Uint8Array)}get byteLength(){let R=this._pendingLength+this.length*4;return this._offsets&&(R+=this._offsets.byteLength),this._values&&(R+=this._values.byteLength),this._nulls&&(R+=this._nulls.byteLength),R}setValue(R,T){return super.setValue(R,(0,r5.encodeUtf8)(T))}_flushPending(R,T){}}d8.LargeUtf8Builder=SO;SO.prototype._flushPending=x5.LargeBinaryBuilder.prototype._flushPending});var w8=a((u8)=>{Object.defineProperty(u8,"__esModule",{value:!0});u8.instance=u8.GetBuilderCtor=void 0;var F5=ZR(),e5=NB(),l5=cB(),d5=x_(),gO=d_(),j5=u_(),u5=Z_(),Z5=U_(),w5=Q_(),JB=f_(),sO=V_(),bh=AO(),QT=hO(),U5=CO(),Q5=BO(),f5=DO(),z5=_O(),nh=aO(),Eh=oO(),PO=JO(),M5=kO(),v5=yO();class tO extends F5.Visitor{visitNull(){return f5.NullBuilder}visitBool(){return d5.BoolBuilder}visitInt(){return QT.IntBuilder}visitInt8(){return QT.Int8Builder}visitInt16(){return QT.Int16Builder}visitInt32(){return QT.Int32Builder}visitInt64(){return QT.Int64Builder}visitUint8(){return QT.Uint8Builder}visitUint16(){return QT.Uint16Builder}visitUint32(){return QT.Uint32Builder}visitUint64(){return QT.Uint64Builder}visitFloat(){return JB.FloatBuilder}visitFloat16(){return JB.Float16Builder}visitFloat32(){return JB.Float32Builder}visitFloat64(){return JB.Float64Builder}visitUtf8(){return M5.Utf8Builder}visitLargeUtf8(){return v5.LargeUtf8Builder}visitBinary(){return e5.BinaryBuilder}visitLargeBinary(){return l5.LargeBinaryBuilder}visitFixedSizeBinary(){return Z5.FixedSizeBinaryBuilder}visitDate(){return gO.DateBuilder}visitDateDay(){return gO.DateDayBuilder}visitDateMillisecond(){return gO.DateMillisecondBuilder}visitTimestamp(){return nh.TimestampBuilder}visitTimestampSecond(){return nh.TimestampSecondBuilder}visitTimestampMillisecond(){return nh.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return nh.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return nh.TimestampNanosecondBuilder}visitTime(){return Eh.TimeBuilder}visitTimeSecond(){return Eh.TimeSecondBuilder}visitTimeMillisecond(){return Eh.TimeMillisecondBuilder}visitTimeMicrosecond(){return Eh.TimeMicrosecondBuilder}visitTimeNanosecond(){return Eh.TimeNanosecondBuilder}visitDecimal(){return j5.DecimalBuilder}visitList(){return U5.ListBuilder}visitStruct(){return z5.StructBuilder}visitUnion(){return PO.UnionBuilder}visitDenseUnion(){return PO.DenseUnionBuilder}visitSparseUnion(){return PO.SparseUnionBuilder}visitDictionary(){return u5.DictionaryBuilder}visitInterval(){return sO.IntervalBuilder}visitIntervalDayTime(){return sO.IntervalDayTimeBuilder}visitIntervalYearMonth(){return sO.IntervalYearMonthBuilder}visitDuration(){return bh.DurationBuilder}visitDurationSecond(){return bh.DurationSecondBuilder}visitDurationMillisecond(){return bh.DurationMillisecondBuilder}visitDurationMicrosecond(){return bh.DurationMicrosecondBuilder}visitDurationNanosecond(){return bh.DurationNanosecondBuilder}visitFixedSizeList(){return w5.FixedSizeListBuilder}visitMap(){return Q5.MapBuilder}}u8.GetBuilderCtor=tO;u8.instance=new tO});var Xh=a((U8)=>{Object.defineProperty(U8,"__esModule",{value:!0});U8.compareTypes=U8.compareFields=U8.compareSchemas=U8.instance=U8.TypeComparator=void 0;var m5=ZR();class X extends m5.Visitor{compareSchemas(R,T){return R===T||T instanceof R.constructor&&this.compareManyFields(R.fields,T.fields)}compareManyFields(R,T){return R===T||Array.isArray(R)&&Array.isArray(T)&&R.length===T.length&&R.every((A,h)=>this.compareFields(A,T[h]))}compareFields(R,T){return R===T||T instanceof R.constructor&&R.name===T.name&&R.nullable===T.nullable&&this.visit(R.type,T.type)}}U8.TypeComparator=X;function jR(R,T){return T instanceof R.constructor}function TA(R,T){return R===T||jR(R,T)}function fT(R,T){return R===T||jR(R,T)&&R.bitWidth===T.bitWidth&&R.isSigned===T.isSigned}function IB(R,T){return R===T||jR(R,T)&&R.precision===T.precision}function Y5(R,T){return R===T||jR(R,T)&&R.byteWidth===T.byteWidth}function KO(R,T){return R===T||jR(R,T)&&R.unit===T.unit}function $h(R,T){return R===T||jR(R,T)&&R.unit===T.unit&&R.timezone===T.timezone}function ph(R,T){return R===T||jR(R,T)&&R.unit===T.unit&&R.bitWidth===T.bitWidth}function Rb(R,T){return R===T||jR(R,T)&&R.children.length===T.children.length&&U8.instance.compareManyFields(R.children,T.children)}function Tb(R,T){return R===T||jR(R,T)&&R.children.length===T.children.length&&U8.instance.compareManyFields(R.children,T.children)}function bO(R,T){return R===T||jR(R,T)&&R.mode===T.mode&&R.typeIds.every((A,h)=>A===T.typeIds[h])&&U8.instance.compareManyFields(R.children,T.children)}function Ab(R,T){return R===T||jR(R,T)&&R.id===T.id&&R.isOrdered===T.isOrdered&&U8.instance.visit(R.indices,T.indices)&&U8.instance.visit(R.dictionary,T.dictionary)}function nO(R,T){return R===T||jR(R,T)&&R.unit===T.unit}function rh(R,T){return R===T||jR(R,T)&&R.unit===T.unit}function hb(R,T){return R===T||jR(R,T)&&R.listSize===T.listSize&&R.children.length===T.children.length&&U8.instance.compareManyFields(R.children,T.children)}function Cb(R,T){return R===T||jR(R,T)&&R.keysSorted===T.keysSorted&&R.children.length===T.children.length&&U8.instance.compareManyFields(R.children,T.children)}X.prototype.visitNull=TA;X.prototype.visitBool=TA;X.prototype.visitInt=fT;X.prototype.visitInt8=fT;X.prototype.visitInt16=fT;X.prototype.visitInt32=fT;X.prototype.visitInt64=fT;X.prototype.visitUint8=fT;X.prototype.visitUint16=fT;X.prototype.visitUint32=fT;X.prototype.visitUint64=fT;X.prototype.visitFloat=IB;X.prototype.visitFloat16=IB;X.prototype.visitFloat32=IB;X.prototype.visitFloat64=IB;X.prototype.visitUtf8=TA;X.prototype.visitLargeUtf8=TA;X.prototype.visitBinary=TA;X.prototype.visitLargeBinary=TA;X.prototype.visitFixedSizeBinary=Y5;X.prototype.visitDate=KO;X.prototype.visitDateDay=KO;X.prototype.visitDateMillisecond=KO;X.prototype.visitTimestamp=$h;X.prototype.visitTimestampSecond=$h;X.prototype.visitTimestampMillisecond=$h;X.prototype.visitTimestampMicrosecond=$h;X.prototype.visitTimestampNanosecond=$h;X.prototype.visitTime=ph;X.prototype.visitTimeSecond=ph;X.prototype.visitTimeMillisecond=ph;X.prototype.visitTimeMicrosecond=ph;X.prototype.visitTimeNanosecond=ph;X.prototype.visitDecimal=TA;X.prototype.visitList=Rb;X.prototype.visitStruct=Tb;X.prototype.visitUnion=bO;X.prototype.visitDenseUnion=bO;X.prototype.visitSparseUnion=bO;X.prototype.visitDictionary=Ab;X.prototype.visitInterval=nO;X.prototype.visitIntervalDayTime=nO;X.prototype.visitIntervalYearMonth=nO;X.prototype.visitDuration=rh;X.prototype.visitDurationSecond=rh;X.prototype.visitDurationMillisecond=rh;X.prototype.visitDurationMicrosecond=rh;X.prototype.visitDurationNanosecond=rh;X.prototype.visitFixedSizeList=hb;X.prototype.visitMap=Cb;U8.instance=new X;function Bb(R,T){return U8.instance.compareSchemas(R,T)}U8.compareSchemas=Bb;function Db(R,T){return U8.instance.compareFields(R,T)}U8.compareFields=Db;function _b(R,T){return U8.instance.visit(R,T)}U8.compareTypes=_b});var zA=a((v8)=>{Object.defineProperty(v8,"__esModule",{value:!0});v8.builderThroughAsyncIterable=v8.builderThroughIterable=v8.tableFromJSON=v8.vectorFromArray=v8.makeBuilder=void 0;var MA=KR(),EO=QR(),TT=iR(),qb=bT(),f8=dR(),ab=w8(),Lb=vA(),Wb=y9(),Nb=Xh();function SB(R){let T=R.type,A=new(ab.instance.getVisitFn(T)())(R);if(T.children&&T.children.length>0){let h=R.children||[],C={nullValues:R.nullValues},B=Array.isArray(h)?(D,_)=>h[_]||C:({name:D})=>h[D]||C;for(let[D,_]of T.children.entries()){let{type:O}=_,H=B(_,D);A.children.push(SB(Object.assign(Object.assign({},H),{type:O})))}}return A}v8.makeBuilder=SB;function z8(R,T){if(R instanceof qb.Data||R instanceof f8.Vector||R.type instanceof TT.DataType||ArrayBuffer.isView(R))return(0,f8.makeVector)(R);let A={type:T!==null&&T!==void 0?T:kB(R),nullValues:[null]},h=[...M8(A)(R)],C=h.length===1?h[0]:h.reduce((B,D)=>B.concat(D));if(TT.DataType.isDictionary(C.type))return C.memoize();return C}v8.vectorFromArray=z8;function cb(R){let T=z8(R),A=new Wb.RecordBatch(new EO.Schema(T.type.children),T.data[0]);return new Lb.Table(A)}v8.tableFromJSON=cb;function kB(R){if(R.length===0)return new TT.Null;let T=0,A=0,h=0,C=0,B=0,D=0,_=0,O=0;for(let H of R){if(H==null){++T;continue}switch(typeof H){case"bigint":++D;continue;case"boolean":++_;continue;case"number":++C;continue;case"string":++B;continue;case"object":if(Array.isArray(H))++A;else if(Object.prototype.toString.call(H)==="[object Date]")++O;else++h;continue}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}if(C+T===R.length)return new TT.Float64;else if(B+T===R.length)return new TT.Dictionary(new TT.Utf8,new TT.Int32);else if(D+T===R.length)return new TT.Int64;else if(_+T===R.length)return new TT.Bool;else if(O+T===R.length)return new TT.TimestampMillisecond;else if(A+T===R.length){let H=R,i=kB(H[H.findIndex((J)=>J!=null)]);if(H.every((J)=>J==null||(0,Nb.compareTypes)(i,kB(J))))return new TT.List(new EO.Field("",i,!0))}else if(h+T===R.length){let H=new Map;for(let i of R)for(let J of Object.keys(i))if(!H.has(J)&&i[J]!=null)H.set(J,new EO.Field(J,kB([i[J]]),!0));return new TT.Struct([...H.values()])}throw TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}function M8(R){let{["queueingStrategy"]:T="count"}=R,{["highWaterMark"]:A=T!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=R,h=T!=="bytes"?"length":"byteLength";return function*(C){let B=0,D=SB(R);for(let _ of C)if(D.append(_)[h]>=A)++B&&(yield D.toVector());if(D.finish().length>0||B===0)yield D.toVector()}}v8.builderThroughIterable=M8;function ob(R){let{["queueingStrategy"]:T="count"}=R,{["highWaterMark"]:A=T!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=R,h=T!=="bytes"?"length":"byteLength";return function(C){return MA.__asyncGenerator(this,arguments,function*(){var B,D,_,O;let H=0,i=SB(R);try{for(var J=!0,P=MA.__asyncValues(C),U;U=yield MA.__await(P.next()),B=U.done,!B;J=!0){O=U.value,J=!1;let t=O;if(i.append(t)[h]>=A)++H&&(yield yield MA.__await(i.toVector()))}}catch(t){D={error:t}}finally{try{if(!J&&!B&&(_=P.return))yield MA.__await(_.call(P))}finally{if(D)throw D.error}}if(i.finish().length>0||H===0)yield yield MA.__await(i.toVector())})}}v8.builderThroughAsyncIterable=ob});var TJ=a((Y8)=>{Object.defineProperty(Y8,"__esModule",{value:!0});Y8.distributeVectorsIntoRecordBatches=void 0;var m8=bT(),yb=iR(),gb=y9();function sb(R,T){return Pb(R,T.map((A)=>A.data.concat()))}Y8.distributeVectorsIntoRecordBatches=sb;function Pb(R,T){let A=[...R.fields],h=[],C={numBatches:T.reduce((J,P)=>Math.max(J,P.length),0)},B=0,D=0,_=-1,O=T.length,H,i=[];while(C.numBatches-- >0){for(D=Number.POSITIVE_INFINITY,_=-1;++_<O;)i[_]=H=T[_].shift(),D=Math.min(D,H?H.length:D);if(Number.isFinite(D)){if(i=tb(A,D,i,T,C),D>0)h[B++]=(0,m8.makeData)({type:new yb.Struct(A),length:D,nullCount:0,children:i.slice()})}}return[R=R.assign(A),h.map((J)=>new gb.RecordBatch(R,J))]}function tb(R,T,A,h,C){var B;let D=(T+63&-64)>>3;for(let _=-1,O=h.length;++_<O;){let H=A[_],i=H===null||H===void 0?void 0:H.length;if(i>=T)if(i===T)A[_]=H;else A[_]=H.slice(0,T),C.numBatches=Math.max(C.numBatches,h[_].unshift(H.slice(T,i-T)));else{let J=R[_];R[_]=J.clone({nullable:!0}),A[_]=(B=H===null||H===void 0?void 0:H._changeLengthAndBackfillNullBitmap(T))!==null&&B!==void 0?B:(0,m8.makeData)({type:J.type,length:T,nullCount:T,nullBitmap:new Uint8Array(D)})}}return A}});var vA=a((BJ)=>{var CJ;Object.defineProperty(BJ,"__esModule",{value:!0});BJ.tableFromArrays=BJ.makeTable=BJ.Table=void 0;var $O=NR(),pO=bT(),Kb=zA(),Gh=dR(),AA=QR(),AJ=iR(),bb=Xh(),rO=TJ(),g9=BB(),nb=U9(),Eb=vR(),$b=DB(),pb=_B(),hJ=ZA(),VA=y9();class AT{constructor(...R){var T,A;if(R.length===0)return this.batches=[],this.schema=new AA.Schema([]),this._offsets=[0],this;let h,C;if(R[0]instanceof AA.Schema)h=R.shift();if(R.at(-1)instanceof Uint32Array)C=R.pop();let B=(_)=>{if(_){if(_ instanceof VA.RecordBatch)return[_];else if(_ instanceof AT)return _.batches;else if(_ instanceof pO.Data){if(_.type instanceof AJ.Struct)return[new VA.RecordBatch(new AA.Schema(_.type.children),_)]}else if(Array.isArray(_))return _.flatMap((O)=>B(O));else if(typeof _[Symbol.iterator]==="function")return[..._].flatMap((O)=>B(O));else if(typeof _==="object"){let O=Object.keys(_),H=O.map((P)=>new Gh.Vector([_[P]])),i=h!==null&&h!==void 0?h:new AA.Schema(O.map((P,U)=>new AA.Field(String(P),H[U].type,H[U].nullable))),[,J]=(0,rO.distributeVectorsIntoRecordBatches)(i,H);return J.length===0?[new VA.RecordBatch(_)]:J}}return[]},D=R.flatMap((_)=>B(_));if(h=(A=h!==null&&h!==void 0?h:(T=D[0])===null||T===void 0?void 0:T.schema)!==null&&A!==void 0?A:new AA.Schema([]),!(h instanceof AA.Schema))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let _ of D){if(!(_ instanceof VA.RecordBatch))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,bb.compareSchemas)(h,_.schema))throw TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=h,this.batches=D,this._offsets=C!==null&&C!==void 0?C:(0,g9.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:R})=>R)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((R,T)=>R+T.length,0)}get nullCount(){if(this._nullCount===-1)this._nullCount=(0,g9.computeChunkNullCounts)(this.data);return this._nullCount}isValid(R){return!1}get(R){return null}at(R){return this.get((0,hJ.wrapIndex)(R,this.numRows))}set(R,T){return}indexOf(R,T){return-1}[Symbol.iterator](){if(this.batches.length>0)return pb.instance.visit(new Gh.Vector(this.data));return[][Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...R){let T=this.schema,A=this.data.concat(R.flatMap(({data:h})=>h));return new AT(T,A.map((h)=>new VA.RecordBatch(T,h)))}slice(R,T){let A=this.schema;[R,T]=(0,hJ.clampRange)({length:this.numRows},R,T);let h=(0,g9.sliceChunks)(this.data,this._offsets,R,T);return new AT(A,h.map((C)=>new VA.RecordBatch(A,C)))}getChild(R){return this.getChildAt(this.schema.fields.findIndex((T)=>T.name===R))}getChildAt(R){if(R>-1&&R<this.schema.fields.length){let T=this.data.map((A)=>A.children[R]);if(T.length===0){let{type:A}=this.schema.fields[R],h=(0,pO.makeData)({type:A,length:0,nullCount:0});T.push(h._changeLengthAndBackfillNullBitmap(this.numRows))}return new Gh.Vector(T)}return null}setChild(R,T){var A;return this.setChildAt((A=this.schema.fields)===null||A===void 0?void 0:A.findIndex((h)=>h.name===R),T)}setChildAt(R,T){let A=this.schema,h=[...this.batches];if(R>-1&&R<this.numCols){if(!T)T=new Gh.Vector([(0,pO.makeData)({type:new AJ.Null,length:this.numRows})]);let C=A.fields.slice(),B=C[R].clone({type:T.type}),D=this.schema.fields.map((_,O)=>this.getChildAt(O));[C[R],D[R]]=[B,T],[A,h]=(0,rO.distributeVectorsIntoRecordBatches)(A,D)}return new AT(A,h)}select(R){let T=this.schema.fields.reduce((A,h,C)=>A.set(h.name,C),new Map);return this.selectAt(R.map((A)=>T.get(A)).filter((A)=>A>-1))}selectAt(R){let T=this.schema.selectAt(R),A=this.batches.map((h)=>h.selectAt(R));return new AT(T,A)}assign(R){let T=this.schema.fields,[A,h]=R.schema.fields.reduce((D,_,O)=>{let[H,i]=D,J=T.findIndex((P)=>P.name===_.name);return~J?i[J]=O:H.push(O),D},[[],[]]),C=this.schema.assign(R.schema),B=[...T.map((D,_)=>[_,h[_]]).map(([D,_])=>_===void 0?this.getChildAt(D):R.getChildAt(_)),...A.map((D)=>R.getChildAt(D))].filter(Boolean);return new AT(...(0,rO.distributeVectorsIntoRecordBatches)(C,B))}}BJ.Table=AT;CJ=Symbol.toStringTag;AT[CJ]=((R)=>{return R.schema=null,R.batches=[],R._offsets=new Uint32Array([0]),R._nullCount=-1,R[Symbol.isConcatSpreadable]=!0,R.isValid=(0,g9.wrapChunkedCall1)(g9.isChunkedValid),R.get=(0,g9.wrapChunkedCall1)(nb.instance.getVisitFn($O.Type.Struct)),R.set=(0,g9.wrapChunkedCall2)(Eb.instance.getVisitFn($O.Type.Struct)),R.indexOf=(0,g9.wrapChunkedIndexOf)($b.instance.getVisitFn($O.Type.Struct)),"Table"})(AT.prototype);function rb(R){let T={},A=Object.entries(R);for(let[h,C]of A)T[h]=(0,Gh.makeVector)(C);return new AT(T)}BJ.makeTable=rb;function Xb(R){let T={},A=Object.entries(R);for(let[h,C]of A)T[h]=(0,Kb.vectorFromArray)(C);return new AT(T)}BJ.tableFromArrays=Xb});var y9=a((qJ)=>{var OJ;Object.defineProperty(qJ,"__esModule",{value:!0});qJ._InternalEmptyPlaceholderRecordBatch=qJ.RecordBatch=void 0;var hT=bT(),Fb=vA(),yB=dR(),gB=QR(),zT=iR(),eb=ZA(),lb=U9(),db=vR(),jb=DB(),ub=_B();class MT{constructor(...R){switch(R.length){case 2:{if([this.schema]=R,!(this.schema instanceof gB.Schema))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,hT.makeData)({nullCount:0,type:new zT.Struct(this.schema.fields),children:this.schema.fields.map((T)=>(0,hT.makeData)({type:T.type,nullCount:0}))})]=R,!(this.data instanceof hT.Data))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=_J(this.schema,this.data.children);break}case 1:{let[T]=R,{fields:A,children:h,length:C}=Object.keys(T).reduce((_,O,H)=>{return _.children[H]=T[O],_.length=Math.max(_.length,T[O].length),_.fields[H]=gB.Field.new({name:O,type:T[O].type,nullable:!0}),_},{length:0,fields:[],children:[]}),B=new gB.Schema(A),D=(0,hT.makeData)({type:new zT.Struct(A),length:C,children:h,nullCount:0});[this.schema,this.data]=_J(B,D.children,C);break}default:throw TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=HJ(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(R){return this.data.getValid(R)}get(R){return lb.instance.visit(this.data,R)}at(R){return this.get((0,eb.wrapIndex)(R,this.numRows))}set(R,T){return db.instance.visit(this.data,R,T)}indexOf(R,T){return jb.instance.visit(this.data,R,T)}[Symbol.iterator](){return ub.instance.visit(new yB.Vector([this.data]))}toArray(){return[...this]}concat(...R){return new Fb.Table(this.schema,[this,...R])}slice(R,T){let[A]=new yB.Vector([this.data]).slice(R,T).data;return new MT(this.schema,A)}getChild(R){var T;return this.getChildAt((T=this.schema.fields)===null||T===void 0?void 0:T.findIndex((A)=>A.name===R))}getChildAt(R){if(R>-1&&R<this.schema.fields.length)return new yB.Vector([this.data.children[R]]);return null}setChild(R,T){var A;return this.setChildAt((A=this.schema.fields)===null||A===void 0?void 0:A.findIndex((h)=>h.name===R),T)}setChildAt(R,T){let A=this.schema,h=this.data;if(R>-1&&R<this.numCols){if(!T)T=new yB.Vector([(0,hT.makeData)({type:new zT.Null,length:this.numRows})]);let C=A.fields.slice(),B=h.children.slice(),D=C[R].clone({type:T.type});[C[R],B[R]]=[D,T.data[0]],A=new gB.Schema(C,new Map(this.schema.metadata)),h=(0,hT.makeData)({type:new zT.Struct(C),children:B})}return new MT(A,h)}select(R){let T=this.schema.select(R),A=new zT.Struct(T.fields),h=[];for(let C of R){let B=this.schema.fields.findIndex((D)=>D.name===C);if(~B)h[B]=this.data.children[B]}return new MT(T,(0,hT.makeData)({type:A,length:this.numRows,children:h}))}selectAt(R){let T=this.schema.selectAt(R),A=R.map((C)=>this.data.children[C]).filter(Boolean),h=(0,hT.makeData)({type:new zT.Struct(T.fields),length:this.numRows,children:A});return new MT(T,h)}}qJ.RecordBatch=MT;OJ=Symbol.toStringTag;MT[OJ]=((R)=>{return R._nullCount=-1,R[Symbol.isConcatSpreadable]=!0,"RecordBatch"})(MT.prototype);function _J(R,T,A=T.reduce((h,C)=>Math.max(h,C.length),0)){var h;let C=[...R.fields],B=[...T],D=(A+63&-64)>>3;for(let[_,O]of R.fields.entries()){let H=T[_];if(!H||H.length!==A)C[_]=O.clone({nullable:!0}),B[_]=(h=H===null||H===void 0?void 0:H._changeLengthAndBackfillNullBitmap(A))!==null&&h!==void 0?h:(0,hT.makeData)({type:O.type,length:A,nullCount:A,nullBitmap:new Uint8Array(D)})}return[R.assign(C),(0,hT.makeData)({type:new zT.Struct(C),length:A,children:B})]}function HJ(R,T,A=new Map){var h,C;if(((h=R===null||R===void 0?void 0:R.length)!==null&&h!==void 0?h:0)>0&&(R===null||R===void 0?void 0:R.length)===(T===null||T===void 0?void 0:T.length))for(let B=-1,D=R.length;++B<D;){let{type:_}=R[B],O=T[B];for(let H of[O,...((C=O===null||O===void 0?void 0:O.dictionary)===null||C===void 0?void 0:C.data)||[]])HJ(_.children,H===null||H===void 0?void 0:H.children,A);if(zT.DataType.isDictionary(_)){let{id:H}=_;if(!A.has(H)){if(O===null||O===void 0?void 0:O.dictionary)A.set(H,O.dictionary)}else if(A.get(H)!==O.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}}return A}class iJ extends MT{constructor(R){let T=R.fields.map((h)=>(0,hT.makeData)({type:h.type})),A=(0,hT.makeData)({type:new zT.Struct(R.fields),nullCount:0,children:T});super(R,A)}}qJ._InternalEmptyPlaceholderRecordBatch=iJ});var oJ=a((NJ)=>{Object.defineProperty(NJ,"__esModule",{value:!0});NJ.Message=void 0;var wb=f(),Ub=yA(),LJ=XC(),WJ=OC();class cT{constructor(){this.bb=null,this.bb_pos=0}__init(R,T){return this.bb_pos=R,this.bb=T,this}static getRootAsMessage(R,T){return(T||new cT).__init(R.readInt32(R.position())+R.position(),R)}static getSizePrefixedRootAsMessage(R,T){return R.setPosition(R.position()+wb.SIZE_PREFIX_LENGTH),(T||new cT).__init(R.readInt32(R.position())+R.position(),R)}version(){let R=this.bb.__offset(this.bb_pos,4);return R?this.bb.readInt16(this.bb_pos+R):WJ.MetadataVersion.V1}headerType(){let R=this.bb.__offset(this.bb_pos,6);return R?this.bb.readUint8(this.bb_pos+R):LJ.MessageHeader.NONE}header(R){let T=this.bb.__offset(this.bb_pos,8);return T?this.bb.__union(R,this.bb_pos+T):null}bodyLength(){let R=this.bb.__offset(this.bb_pos,10);return R?this.bb.readInt64(this.bb_pos+R):BigInt("0")}customMetadata(R,T){let A=this.bb.__offset(this.bb_pos,12);return A?(T||new Ub.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+A)+R*4),this.bb):null}customMetadataLength(){let R=this.bb.__offset(this.bb_pos,12);return R?this.bb.__vector_len(this.bb_pos+R):0}static startMessage(R){R.startObject(5)}static addVersion(R,T){R.addFieldInt16(0,T,WJ.MetadataVersion.V1)}static addHeaderType(R,T){R.addFieldInt8(1,T,LJ.MessageHeader.NONE)}static addHeader(R,T){R.addFieldOffset(2,T,0)}static addBodyLength(R,T){R.addFieldInt64(3,T,BigInt("0"))}static addCustomMetadata(R,T){R.addFieldOffset(4,T,0)}static createCustomMetadataVector(R,T){R.startVector(4,T.length,4);for(let A=T.length-1;A>=0;A--)R.addOffset(T[A]);return R.endVector()}static startCustomMetadataVector(R,T){R.startVector(4,T,4)}static endMessage(R){return R.endObject()}static finishMessageBuffer(R,T){R.finish(T)}static finishSizePrefixedMessageBuffer(R,T){R.finish(T,void 0,!0)}static createMessage(R,T,A,h,C,B){return cT.startMessage(R),cT.addVersion(R,T),cT.addHeaderType(R,A),cT.addHeader(R,h),cT.addBodyLength(R,C),cT.addCustomMetadata(R,B),cT.endMessage(R)}}NJ.Message=cT});var bJ=a((tJ)=>{Object.defineProperty(tJ,"__esModule",{value:!0});tJ.instance=tJ.TypeAssembler=void 0;var Qb=ZR(),JJ=$D(),sB=B9(),XO=IC(),IJ=tD(),kJ=bD(),SJ=KD(),yJ=rD(),gJ=nD(),xh=NC(),GO=WC(),PB=yC(),tB=gC(),xO=kC(),FO=cC(),sJ=ED(),PJ=pD(),mA=sC(),Fh=PD(),eO=oC(),lO=JC(),dO=SC();class jO extends Qb.Visitor{visit(R,T){return R==null||T==null?void 0:super.visit(R,T)}visitNull(R,T){return JJ.Null.startNull(T),JJ.Null.endNull(T)}visitInt(R,T){return sB.Int.startInt(T),sB.Int.addBitWidth(T,R.bitWidth),sB.Int.addIsSigned(T,R.isSigned),sB.Int.endInt(T)}visitFloat(R,T){return XO.FloatingPoint.startFloatingPoint(T),XO.FloatingPoint.addPrecision(T,R.precision),XO.FloatingPoint.endFloatingPoint(T)}visitBinary(R,T){return IJ.Binary.startBinary(T),IJ.Binary.endBinary(T)}visitLargeBinary(R,T){return kJ.LargeBinary.startLargeBinary(T),kJ.LargeBinary.endLargeBinary(T)}visitBool(R,T){return SJ.Bool.startBool(T),SJ.Bool.endBool(T)}visitUtf8(R,T){return yJ.Utf8.startUtf8(T),yJ.Utf8.endUtf8(T)}visitLargeUtf8(R,T){return gJ.LargeUtf8.startLargeUtf8(T),gJ.LargeUtf8.endLargeUtf8(T)}visitDecimal(R,T){return xh.Decimal.startDecimal(T),xh.Decimal.addScale(T,R.scale),xh.Decimal.addPrecision(T,R.precision),xh.Decimal.addBitWidth(T,R.bitWidth),xh.Decimal.endDecimal(T)}visitDate(R,T){return GO.Date.startDate(T),GO.Date.addUnit(T,R.unit),GO.Date.endDate(T)}visitTime(R,T){return PB.Time.startTime(T),PB.Time.addUnit(T,R.unit),PB.Time.addBitWidth(T,R.bitWidth),PB.Time.endTime(T)}visitTimestamp(R,T){let A=R.timezone&&T.createString(R.timezone)||void 0;if(tB.Timestamp.startTimestamp(T),tB.Timestamp.addUnit(T,R.unit),A!==void 0)tB.Timestamp.addTimezone(T,A);return tB.Timestamp.endTimestamp(T)}visitInterval(R,T){return xO.Interval.startInterval(T),xO.Interval.addUnit(T,R.unit),xO.Interval.endInterval(T)}visitDuration(R,T){return FO.Duration.startDuration(T),FO.Duration.addUnit(T,R.unit),FO.Duration.endDuration(T)}visitList(R,T){return sJ.List.startList(T),sJ.List.endList(T)}visitStruct(R,T){return PJ.Struct_.startStruct_(T),PJ.Struct_.endStruct_(T)}visitUnion(R,T){mA.Union.startTypeIdsVector(T,R.typeIds.length);let A=mA.Union.createTypeIdsVector(T,R.typeIds);return mA.Union.startUnion(T),mA.Union.addMode(T,R.mode),mA.Union.addTypeIds(T,A),mA.Union.endUnion(T)}visitDictionary(R,T){let A=this.visit(R.indices,T);if(Fh.DictionaryEncoding.startDictionaryEncoding(T),Fh.DictionaryEncoding.addId(T,BigInt(R.id)),Fh.DictionaryEncoding.addIsOrdered(T,R.isOrdered),A!==void 0)Fh.DictionaryEncoding.addIndexType(T,A);return Fh.DictionaryEncoding.endDictionaryEncoding(T)}visitFixedSizeBinary(R,T){return eO.FixedSizeBinary.startFixedSizeBinary(T),eO.FixedSizeBinary.addByteWidth(T,R.byteWidth),eO.FixedSizeBinary.endFixedSizeBinary(T)}visitFixedSizeList(R,T){return lO.FixedSizeList.startFixedSizeList(T),lO.FixedSizeList.addListSize(T,R.listSize),lO.FixedSizeList.endFixedSizeList(T)}visitMap(R,T){return dO.Map.startMap(T),dO.Map.addKeysSorted(T,R.keysSorted),dO.Map.endMap(T)}}tJ.TypeAssembler=jO;tJ.instance=new jO});var FJ=a((GJ)=>{Object.defineProperty(GJ,"__esModule",{value:!0});GJ.fieldFromJSON=GJ.dictionaryBatchFromJSON=GJ.recordBatchFromJSON=GJ.schemaFromJSON=void 0;var YA=QR(),DR=iR(),CA=BA(),hA=NR();function zb(R,T=new Map){return new YA.Schema(vb(R,T),KB(R.metadata),T)}GJ.schemaFromJSON=zb;function pJ(R){return new CA.RecordBatch(R.count,rJ(R.columns),XJ(R.columns))}GJ.recordBatchFromJSON=pJ;function Mb(R){return new CA.DictionaryBatch(pJ(R.data),R.id,R.isDelta)}GJ.dictionaryBatchFromJSON=Mb;function vb(R,T){return(R.fields||[]).filter(Boolean).map((A)=>YA.Field.fromJSON(A,T))}function nJ(R,T){return(R.children||[]).filter(Boolean).map((A)=>YA.Field.fromJSON(A,T))}function rJ(R){return(R||[]).reduce((T,A)=>[...T,new CA.FieldNode(A.count,Vb(A.VALIDITY)),...rJ(A.children)],[])}function XJ(R,T=[]){for(let A=-1,h=(R||[]).length;++A<h;){let C=R[A];C.VALIDITY&&T.push(new CA.BufferRegion(T.length,C.VALIDITY.length)),C.TYPE_ID&&T.push(new CA.BufferRegion(T.length,C.TYPE_ID.length)),C.OFFSET&&T.push(new CA.BufferRegion(T.length,C.OFFSET.length)),C.DATA&&T.push(new CA.BufferRegion(T.length,C.DATA.length)),T=XJ(C.children,T)}return T}function Vb(R){return(R||[]).reduce((T,A)=>T+ +(A===0),0)}function mb(R,T){let A,h,C,B,D,_;if(!T||!(B=R.dictionary))D=$J(R,nJ(R,T)),C=new YA.Field(R.name,D,R.nullable,KB(R.metadata));else if(!T.has(A=B.id))h=(h=B.indexType)?EJ(h):new DR.Int32,T.set(A,D=$J(R,nJ(R,T))),_=new DR.Dictionary(D,h,A,B.isOrdered),C=new YA.Field(R.name,_,R.nullable,KB(R.metadata));else h=(h=B.indexType)?EJ(h):new DR.Int32,_=new DR.Dictionary(T.get(A),h,A,B.isOrdered),C=new YA.Field(R.name,_,R.nullable,KB(R.metadata));return C||null}GJ.fieldFromJSON=mb;function KB(R=[]){return new Map(R.map(({key:T,value:A})=>[T,A]))}function EJ(R){return new DR.Int(R.isSigned,R.bitWidth)}function $J(R,T){let A=R.type.name;switch(A){case"NONE":return new DR.Null;case"null":return new DR.Null;case"binary":return new DR.Binary;case"largebinary":return new DR.LargeBinary;case"utf8":return new DR.Utf8;case"largeutf8":return new DR.LargeUtf8;case"bool":return new DR.Bool;case"list":return new DR.List((T||[])[0]);case"struct":return new DR.Struct(T||[]);case"struct_":return new DR.Struct(T||[])}switch(A){case"int":{let h=R.type;return new DR.Int(h.isSigned,h.bitWidth)}case"floatingpoint":{let h=R.type;return new DR.Float(hA.Precision[h.precision])}case"decimal":{let h=R.type;return new DR.Decimal(h.scale,h.precision,h.bitWidth)}case"date":{let h=R.type;return new DR.Date_(hA.DateUnit[h.unit])}case"time":{let h=R.type;return new DR.Time(hA.TimeUnit[h.unit],h.bitWidth)}case"timestamp":{let h=R.type;return new DR.Timestamp(hA.TimeUnit[h.unit],h.timezone)}case"interval":{let h=R.type;return new DR.Interval(hA.IntervalUnit[h.unit])}case"duration":{let h=R.type;return new DR.Duration(hA.TimeUnit[h.unit])}case"union":{let h=R.type,[C,...B]=(h.mode+"").toLowerCase(),D=C.toUpperCase()+B.join("");return new DR.Union(hA.UnionMode[D],h.typeIds||[],T||[])}case"fixedsizebinary":{let h=R.type;return new DR.FixedSizeBinary(h.byteWidth)}case"fixedsizelist":{let h=R.type;return new DR.FixedSizeList(h.listSize,(T||[])[0])}case"map":{let h=R.type;return new DR.Map_((T||[])[0],h.keysSorted)}}throw Error(`Unrecognized type: "${A}"`)}});var BA=a((ZJ)=>{Object.defineProperty(ZJ,"__esModule",{value:!0});ZJ.FieldNode=ZJ.BufferRegion=ZJ.DictionaryBatch=ZJ.RecordBatch=ZJ.Message=void 0;var uJ=f(),vT=tC(),A0=B9(),P9=qC(),Rh=gD(),h0=h9(),oT=XD(),C0=yD(),JR=rA(),t9=yA(),eJ=sD(),B0=IC(),D0=NC(),_0=WC(),O0=yC(),H0=gC(),i0=kC(),q0=cC(),a0=sC(),L0=oC(),W0=JC(),N0=SC(),s9=oJ(),ER=QR(),c0=bR(),K9=q9(),cR=NR(),uO=bJ(),nB=FJ(),o0=uJ.Builder,J0=uJ.ByteBuffer,_R=iR();class DA{static fromJSON(R,T){let A=new DA(0,cR.MetadataVersion.V5,T);return A._createHeader=I0(R,T),A}static decode(R){R=new J0((0,c0.toUint8Array)(R));let T=s9.Message.getRootAsMessage(R),A=T.bodyLength(),h=T.version(),C=T.headerType(),B=new DA(A,h,C);return B._createHeader=k0(T,C),B}static encode(R){let T=new o0,A=-1;if(R.isSchema())A=ER.Schema.encode(T,R.header());else if(R.isRecordBatch())A=CT.encode(T,R.header());else if(R.isDictionaryBatch())A=FT.encode(T,R.header());return s9.Message.startMessage(T),s9.Message.addVersion(T,cR.MetadataVersion.V5),s9.Message.addHeader(T,A),s9.Message.addHeaderType(T,R.headerType),s9.Message.addBodyLength(T,BigInt(R.bodyLength)),s9.Message.finishMessageBuffer(T,s9.Message.endMessage(T)),T.asUint8Array()}static from(R,T=0){if(R instanceof ER.Schema)return new DA(0,cR.MetadataVersion.V5,cR.MessageHeader.Schema,R);if(R instanceof CT)return new DA(T,cR.MetadataVersion.V5,cR.MessageHeader.RecordBatch,R);if(R instanceof FT)return new DA(T,cR.MetadataVersion.V5,cR.MessageHeader.DictionaryBatch,R);throw Error(`Unrecognized Message header: ${R}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===cR.MessageHeader.Schema}isRecordBatch(){return this.headerType===cR.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===cR.MessageHeader.DictionaryBatch}constructor(R,T,A,h){this._version=T,this._headerType=A,this.body=new Uint8Array(0),h&&(this._createHeader=()=>h),this._bodyLength=(0,K9.bigIntToNumber)(R)}}ZJ.Message=DA;class CT{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(R,T,A){this._nodes=T,this._buffers=A,this._length=(0,K9.bigIntToNumber)(R)}}ZJ.RecordBatch=CT;class FT{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(R,T,A=!1){this._data=R,this._isDelta=A,this._id=(0,K9.bigIntToNumber)(T)}}ZJ.DictionaryBatch=FT;class _A{constructor(R,T){this.offset=(0,K9.bigIntToNumber)(R),this.length=(0,K9.bigIntToNumber)(T)}}ZJ.BufferRegion=_A;class OA{constructor(R,T){this.length=(0,K9.bigIntToNumber)(R),this.nullCount=(0,K9.bigIntToNumber)(T)}}ZJ.FieldNode=OA;function I0(R,T){return()=>{switch(T){case cR.MessageHeader.Schema:return ER.Schema.fromJSON(R);case cR.MessageHeader.RecordBatch:return CT.fromJSON(R);case cR.MessageHeader.DictionaryBatch:return FT.fromJSON(R)}throw Error(`Unrecognized Message type: { name: ${cR.MessageHeader[T]}, type: ${T} }`)}}function k0(R,T){return()=>{switch(T){case cR.MessageHeader.Schema:return ER.Schema.decode(R.header(new vT.Schema),new Map,R.version());case cR.MessageHeader.RecordBatch:return CT.decode(R.header(new P9.RecordBatch),R.version());case cR.MessageHeader.DictionaryBatch:return FT.decode(R.header(new Rh.DictionaryBatch),R.version())}throw Error(`Unrecognized Message type: { name: ${cR.MessageHeader[T]}, type: ${T} }`)}}ER.Field.encode=$0;ER.Field.decode=n0;ER.Field.fromJSON=nB.fieldFromJSON;ER.Schema.encode=E0;ER.Schema.decode=S0;ER.Schema.fromJSON=nB.schemaFromJSON;CT.encode=p0;CT.decode=y0;CT.fromJSON=nB.recordBatchFromJSON;FT.encode=r0;FT.decode=g0;FT.fromJSON=nB.dictionaryBatchFromJSON;OA.encode=X0;OA.decode=P0;_A.encode=G0;_A.decode=s0;function S0(R,T=new Map,A=cR.MetadataVersion.V5){let h=b0(R,T);return new ER.Schema(h,bB(R),T,A)}function y0(R,T=cR.MetadataVersion.V5){if(R.compression()!==null)throw Error("Record batch compression not implemented");return new CT(R.length(),t0(R),K0(R,T))}function g0(R,T=cR.MetadataVersion.V5){return new FT(CT.decode(R.data(),T),R.id(),R.isDelta())}function s0(R){return new _A(R.offset(),R.length())}function P0(R){return new OA(R.length(),R.nullCount())}function t0(R){let T=[];for(let A,h=-1,C=-1,B=R.nodesLength();++h<B;)if(A=R.nodes(h))T[++C]=OA.decode(A);return T}function K0(R,T){let A=[];for(let h,C=-1,B=-1,D=R.buffersLength();++C<D;)if(h=R.buffers(C)){if(T<cR.MetadataVersion.V4)h.bb_pos+=8*(C+1);A[++B]=_A.decode(h)}return A}function b0(R,T){let A=[];for(let h,C=-1,B=-1,D=R.fieldsLength();++C<D;)if(h=R.fields(C))A[++B]=ER.Field.decode(h,T);return A}function lJ(R,T){let A=[];for(let h,C=-1,B=-1,D=R.childrenLength();++C<D;)if(h=R.children(C))A[++B]=ER.Field.decode(h,T);return A}function n0(R,T){let A,h,C,B,D,_;if(!T||!(_=R.dictionary()))C=jJ(R,lJ(R,T)),h=new ER.Field(R.name(),C,R.nullable(),bB(R));else if(!T.has(A=(0,K9.bigIntToNumber)(_.id())))B=(B=_.indexType())?dJ(B):new _R.Int32,T.set(A,C=jJ(R,lJ(R,T))),D=new _R.Dictionary(C,B,A,_.isOrdered()),h=new ER.Field(R.name(),D,R.nullable(),bB(R));else B=(B=_.indexType())?dJ(B):new _R.Int32,D=new _R.Dictionary(T.get(A),B,A,_.isOrdered()),h=new ER.Field(R.name(),D,R.nullable(),bB(R));return h||null}function bB(R){let T=new Map;if(R){for(let A,h,C=-1,B=Math.trunc(R.customMetadataLength());++C<B;)if((A=R.customMetadata(C))&&(h=A.key())!=null)T.set(h,A.value())}return T}function dJ(R){return new _R.Int(R.isSigned(),R.bitWidth())}function jJ(R,T){let A=R.typeType();switch(A){case JR.Type.NONE:return new _R.Null;case JR.Type.Null:return new _R.Null;case JR.Type.Binary:return new _R.Binary;case JR.Type.LargeBinary:return new _R.LargeBinary;case JR.Type.Utf8:return new _R.Utf8;case JR.Type.LargeUtf8:return new _R.LargeUtf8;case JR.Type.Bool:return new _R.Bool;case JR.Type.List:return new _R.List((T||[])[0]);case JR.Type.Struct_:return new _R.Struct(T||[])}switch(A){case JR.Type.Int:{let h=R.type(new A0.Int);return new _R.Int(h.isSigned(),h.bitWidth())}case JR.Type.FloatingPoint:{let h=R.type(new B0.FloatingPoint);return new _R.Float(h.precision())}case JR.Type.Decimal:{let h=R.type(new D0.Decimal);return new _R.Decimal(h.scale(),h.precision(),h.bitWidth())}case JR.Type.Date:{let h=R.type(new _0.Date);return new _R.Date_(h.unit())}case JR.Type.Time:{let h=R.type(new O0.Time);return new _R.Time(h.unit(),h.bitWidth())}case JR.Type.Timestamp:{let h=R.type(new H0.Timestamp);return new _R.Timestamp(h.unit(),h.timezone())}case JR.Type.Interval:{let h=R.type(new i0.Interval);return new _R.Interval(h.unit())}case JR.Type.Duration:{let h=R.type(new q0.Duration);return new _R.Duration(h.unit())}case JR.Type.Union:{let h=R.type(new a0.Union);return new _R.Union(h.mode(),h.typeIdsArray()||[],T||[])}case JR.Type.FixedSizeBinary:{let h=R.type(new L0.FixedSizeBinary);return new _R.FixedSizeBinary(h.byteWidth())}case JR.Type.FixedSizeList:{let h=R.type(new W0.FixedSizeList);return new _R.FixedSizeList(h.listSize(),(T||[])[0])}case JR.Type.Map:{let h=R.type(new N0.Map);return new _R.Map_((T||[])[0],h.keysSorted())}}throw Error(`Unrecognized type: "${JR.Type[A]}" (${A})`)}function E0(R,T){let A=T.fields.map((B)=>ER.Field.encode(R,B));vT.Schema.startFieldsVector(R,A.length);let h=vT.Schema.createFieldsVector(R,A),C=!(T.metadata&&T.metadata.size>0)?-1:vT.Schema.createCustomMetadataVector(R,[...T.metadata].map(([B,D])=>{let _=R.createString(`${B}`),O=R.createString(`${D}`);return t9.KeyValue.startKeyValue(R),t9.KeyValue.addKey(R,_),t9.KeyValue.addValue(R,O),t9.KeyValue.endKeyValue(R)}));if(vT.Schema.startSchema(R),vT.Schema.addFields(R,h),vT.Schema.addEndianness(R,x0?eJ.Endianness.Little:eJ.Endianness.Big),C!==-1)vT.Schema.addCustomMetadata(R,C);return vT.Schema.endSchema(R)}function $0(R,T){let A=-1,h=-1,C=-1,B=T.type,D=T.typeId;if(!_R.DataType.isDictionary(B))h=uO.instance.visit(B,R);else D=B.dictionary.typeId,C=uO.instance.visit(B,R),h=uO.instance.visit(B.dictionary,R);let _=(B.children||[]).map((i)=>ER.Field.encode(R,i)),O=oT.Field.createChildrenVector(R,_),H=!(T.metadata&&T.metadata.size>0)?-1:oT.Field.createCustomMetadataVector(R,[...T.metadata].map(([i,J])=>{let P=R.createString(`${i}`),U=R.createString(`${J}`);return t9.KeyValue.startKeyValue(R),t9.KeyValue.addKey(R,P),t9.KeyValue.addValue(R,U),t9.KeyValue.endKeyValue(R)}));if(T.name)A=R.createString(T.name);if(oT.Field.startField(R),oT.Field.addType(R,h),oT.Field.addTypeType(R,D),oT.Field.addChildren(R,O),oT.Field.addNullable(R,!!T.nullable),A!==-1)oT.Field.addName(R,A);if(C!==-1)oT.Field.addDictionary(R,C);if(H!==-1)oT.Field.addCustomMetadata(R,H);return oT.Field.endField(R)}function p0(R,T){let A=T.nodes||[],h=T.buffers||[];P9.RecordBatch.startNodesVector(R,A.length);for(let D of A.slice().reverse())OA.encode(R,D);let C=R.endVector();P9.RecordBatch.startBuffersVector(R,h.length);for(let D of h.slice().reverse())_A.encode(R,D);let B=R.endVector();return P9.RecordBatch.startRecordBatch(R),P9.RecordBatch.addLength(R,BigInt(T.length)),P9.RecordBatch.addNodes(R,C),P9.RecordBatch.addBuffers(R,B),P9.RecordBatch.endRecordBatch(R)}function r0(R,T){let A=CT.encode(R,T.data);return Rh.DictionaryBatch.startDictionaryBatch(R),Rh.DictionaryBatch.addId(R,BigInt(T.id)),Rh.DictionaryBatch.addIsDelta(R,T.isDelta),Rh.DictionaryBatch.addData(R,A),Rh.DictionaryBatch.endDictionaryBatch(R)}function X0(R,T){return C0.FieldNode.createFieldNode(R,BigInt(T.length),BigInt(T.nullCount))}function G0(R,T){return h0.Buffer.createBuffer(R,BigInt(T.offset),BigInt(T.length))}var x0=(()=>{let R=new ArrayBuffer(2);return new DataView(R).setInt16(0,256,!0),new Int16Array(R)[0]===256})()});var pB=a((VJ)=>{Object.defineProperty(VJ,"__esModule",{value:!0});VJ.magicX2AndPadding=VJ.magicAndPadding=VJ.magicLength=VJ.checkForMagicArrowString=VJ.MAGIC=VJ.MAGIC_STR=VJ.PADDING=VJ.JSONMessageReader=VJ.AsyncMessageReader=VJ.MessageReader=void 0;var b9=KR(),n9=NR(),UJ=f(),eh=BA(),j0=jT(),u0=p_(),QJ=bR(),EB=rT(),JT=kh(),ZO=(R)=>`Expected ${n9.MessageHeader[R]} Message in stream, but was null or length 0.`,wO=(R)=>`Header pointer of flatbuffer-encoded ${n9.MessageHeader[R]} Message is null or length 0.`,fJ=(R,T)=>`Expected to read ${R} metadata bytes, but only read ${T}.`,zJ=(R,T)=>`Expected to read ${R} bytes for message body, but only read ${T}.`;class UO{constructor(R){this.source=R instanceof EB.ByteStream?R:new EB.ByteStream(R)}[Symbol.iterator](){return this}next(){let R;if((R=this.readMetadataLength()).done)return JT.ITERATOR_DONE;if(R.value===-1&&(R=this.readMetadataLength()).done)return JT.ITERATOR_DONE;if((R=this.readMetadata(R.value)).done)return JT.ITERATOR_DONE;return R}throw(R){return this.source.throw(R)}return(R){return this.source.return(R)}readMessage(R){let T;if((T=this.next()).done)return null;if(R!=null&&T.value.headerType!==R)throw Error(ZO(R));return T.value}readMessageBody(R){if(R<=0)return new Uint8Array(0);let T=(0,QJ.toUint8Array)(this.source.read(R));if(T.byteLength<R)throw Error(zJ(R,T.byteLength));return T.byteOffset%8===0&&T.byteOffset+T.byteLength<=T.buffer.byteLength?T:T.slice()}readSchema(R=!1){let T=n9.MessageHeader.Schema,A=this.readMessage(T),h=A===null||A===void 0?void 0:A.header();if(R&&!h)throw Error(wO(T));return h}readMetadataLength(){let R=this.source.read(VJ.PADDING),T=R&&new UJ.ByteBuffer(R),A=(T===null||T===void 0?void 0:T.readInt32(0))||0;return{done:A===0,value:A}}readMetadata(R){let T=this.source.read(R);if(!T)return JT.ITERATOR_DONE;if(T.byteLength<R)throw Error(fJ(R,T.byteLength));return{done:!1,value:eh.Message.decode(T)}}}VJ.MessageReader=UO;class MJ{constructor(R,T){this.source=R instanceof EB.AsyncByteStream?R:(0,j0.isFileHandle)(R)?new u0.AsyncRandomAccessFile(R,T):new EB.AsyncByteStream(R)}[Symbol.asyncIterator](){return this}next(){return b9.__awaiter(this,void 0,void 0,function*(){let R;if((R=yield this.readMetadataLength()).done)return JT.ITERATOR_DONE;if(R.value===-1&&(R=yield this.readMetadataLength()).done)return JT.ITERATOR_DONE;if((R=yield this.readMetadata(R.value)).done)return JT.ITERATOR_DONE;return R})}throw(R){return b9.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(R)})}return(R){return b9.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(R)})}readMessage(R){return b9.__awaiter(this,void 0,void 0,function*(){let T;if((T=yield this.next()).done)return null;if(R!=null&&T.value.headerType!==R)throw Error(ZO(R));return T.value})}readMessageBody(R){return b9.__awaiter(this,void 0,void 0,function*(){if(R<=0)return new Uint8Array(0);let T=(0,QJ.toUint8Array)(yield this.source.read(R));if(T.byteLength<R)throw Error(zJ(R,T.byteLength));return T.byteOffset%8===0&&T.byteOffset+T.byteLength<=T.buffer.byteLength?T:T.slice()})}readSchema(){return b9.__awaiter(this,arguments,void 0,function*(R=!1){let T=n9.MessageHeader.Schema,A=yield this.readMessage(T),h=A===null||A===void 0?void 0:A.header();if(R&&!h)throw Error(wO(T));return h})}readMetadataLength(){return b9.__awaiter(this,void 0,void 0,function*(){let R=yield this.source.read(VJ.PADDING),T=R&&new UJ.ByteBuffer(R),A=(T===null||T===void 0?void 0:T.readInt32(0))||0;return{done:A===0,value:A}})}readMetadata(R){return b9.__awaiter(this,void 0,void 0,function*(){let T=yield this.source.read(R);if(!T)return JT.ITERATOR_DONE;if(T.byteLength<R)throw Error(fJ(R,T.byteLength));return{done:!1,value:eh.Message.decode(T)}})}}VJ.AsyncMessageReader=MJ;class vJ extends UO{constructor(R){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=R instanceof JT.ArrowJSON?R:new JT.ArrowJSON(R)}next(){let{_json:R}=this;if(!this._schema)return this._schema=!0,{done:!1,value:eh.Message.fromJSON(R.schema,n9.MessageHeader.Schema)};if(this._dictionaryIndex<R.dictionaries.length){let T=R.dictionaries[this._dictionaryIndex++];return this._body=T.data.columns,{done:!1,value:eh.Message.fromJSON(T,n9.MessageHeader.DictionaryBatch)}}if(this._batchIndex<R.batches.length){let T=R.batches[this._batchIndex++];return this._body=T.columns,{done:!1,value:eh.Message.fromJSON(T,n9.MessageHeader.RecordBatch)}}return this._body=[],JT.ITERATOR_DONE}readMessageBody(R){return T(this._body);function T(A){return(A||[]).reduce((h,C)=>[...h,...C.VALIDITY&&[C.VALIDITY]||[],...C.TYPE_ID&&[C.TYPE_ID]||[],...C.OFFSET&&[C.OFFSET]||[],...C.DATA&&[C.DATA]||[],...T(C.children)],[])}}readMessage(R){let T;if((T=this.next()).done)return null;if(R!=null&&T.value.headerType!==R)throw Error(ZO(R));return T.value}readSchema(){let R=n9.MessageHeader.Schema,T=this.readMessage(R),A=T===null||T===void 0?void 0:T.header();if(!T||!A)throw Error(wO(R));return A}}VJ.JSONMessageReader=vJ;VJ.PADDING=4;VJ.MAGIC_STR="ARROW1";VJ.MAGIC=new Uint8Array(VJ.MAGIC_STR.length);for(let R=0;R<VJ.MAGIC_STR.length;R+=1)VJ.MAGIC[R]=VJ.MAGIC_STR.codePointAt(R);function Z0(R,T=0){for(let A=-1,h=VJ.MAGIC.length;++A<h;)if(VJ.MAGIC[A]!==R[T+A])return!1;return!0}VJ.checkForMagicArrowString=Z0;VJ.magicLength=VJ.MAGIC.length;VJ.magicAndPadding=VJ.magicLength+VJ.PADDING;VJ.magicX2AndPadding=VJ.magicLength*2+VJ.PADDING});var iA=a((HI)=>{Object.defineProperty(HI,"__esModule",{value:!0});HI.AsyncRecordBatchFileReader=HI.RecordBatchFileReader=HI.AsyncRecordBatchStreamReader=HI.RecordBatchStreamReader=HI.RecordBatchReader=void 0;var OR=KR(),M0=bT(),YJ=dR(),v0=iR(),rB=NR(),CI=K_(),RI=SA(),TI=rT(),jh=p_(),BI=bo(),fO=y9(),HA=kh(),DT=pB(),BT=jT();class VT extends HA.ReadableInterop{constructor(R){super();this._impl=R}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(R){return this._impl.throw(R)}return(R){return this._impl.return(R)}cancel(){return this._impl.cancel()}reset(R){return this._impl.reset(R),this._DOMStream=void 0,this._nodeStream=void 0,this}open(R){let T=this._impl.open(R);return(0,BT.isPromise)(T)?T.then(()=>this):this}readRecordBatch(R){return this._impl.isFile()?this._impl.readRecordBatch(R):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return RI.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return RI.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(R){throw Error('"throughNode" not available in this environment')}static throughDOM(R,T){throw Error('"throughDOM" not available in this environment')}static from(R){if(R instanceof VT)return R;else if((0,BT.isArrowJSON)(R))return V0(R);else if((0,BT.isFileHandle)(R))return Rn(R);else if((0,BT.isPromise)(R))return(()=>OR.__awaiter(this,void 0,void 0,function*(){return yield VT.from(yield R)}))();else if((0,BT.isFetchResponse)(R)||(0,BT.isReadableDOMStream)(R)||(0,BT.isReadableNodeStream)(R)||(0,BT.isAsyncIterable)(R))return Y0(new TI.AsyncByteStream(R));return m0(new TI.ByteStream(R))}static readAll(R){if(R instanceof VT)return R.isSync()?AI(R):hI(R);else if((0,BT.isArrowJSON)(R)||ArrayBuffer.isView(R)||(0,BT.isIterable)(R)||(0,BT.isIteratorResult)(R))return AI(R);return hI(R)}}HI.RecordBatchReader=VT;class Th extends VT{constructor(R){super(R);this._impl=R}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return OR.__asyncGenerator(this,arguments,function*(){yield OR.__await(yield*OR.__asyncDelegator(OR.__asyncValues(this[Symbol.iterator]())))})}}HI.RecordBatchStreamReader=Th;class Ah extends VT{constructor(R){super(R);this._impl=R}readAll(){return OR.__awaiter(this,void 0,void 0,function*(){var R,T,A,h;let C=[];try{for(var B=!0,D=OR.__asyncValues(this),_;_=yield D.next(),R=_.done,!R;B=!0){h=_.value,B=!1;let O=h;C.push(O)}}catch(O){T={error:O}}finally{try{if(!B&&!R&&(A=D.return))yield A.call(D)}finally{if(T)throw T.error}}return C})}[Symbol.iterator](){throw Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}HI.AsyncRecordBatchStreamReader=Ah;class XB extends Th{constructor(R){super(R);this._impl=R}}HI.RecordBatchFileReader=XB;class zO extends Ah{constructor(R){super(R);this._impl=R}}HI.AsyncRecordBatchFileReader=zO;class MO{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(R=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=R}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(R){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=R,this.dictionaries=new Map,this}_loadRecordBatch(R,T){let A=this._loadVectors(R,T,this.schema.fields),h=(0,M0.makeData)({type:new v0.Struct(this.schema.fields),length:R.length,children:A});return new fO.RecordBatch(this.schema,h)}_loadDictionaryBatch(R,T){let{id:A,isDelta:h}=R,{dictionaries:C,schema:B}=this,D=C.get(A),_=B.dictionaries.get(A),O=this._loadVectors(R.data,T,[_]);return(D&&h?D.concat(new YJ.Vector(O)):new YJ.Vector(O)).memoize()}_loadVectors(R,T,A){return new BI.VectorLoader(T,R.nodes,R.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(A)}}class uh extends MO{constructor(R,T){super(T);this._reader=!(0,BT.isArrowJSON)(R)?new DT.MessageReader(this._handle=R):new DT.JSONMessageReader(this._handle=R)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){if(!this.closed&&(this.closed=!0))this.reset()._reader.return(),this._reader=null,this.dictionaries=null}open(R){if(!this.closed){if(this.autoDestroy=OI(this,R),!(this.schema||(this.schema=this._reader.readSchema())))this.cancel()}return this}throw(R){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.throw(R);return HA.ITERATOR_DONE}return(R){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return this.reset()._reader.return(R);return HA.ITERATOR_DONE}next(){if(this.closed)return HA.ITERATOR_DONE;let R,{_reader:T}=this;while(R=this._readNextMessageAndValidate())if(R.isSchema())this.reset(R.header());else if(R.isRecordBatch()){this._recordBatchIndex++;let A=R.header(),h=T.readMessageBody(R.bodyLength);return{done:!1,value:this._loadRecordBatch(A,h)}}else if(R.isDictionaryBatch()){this._dictionaryIndex++;let A=R.header(),h=T.readMessageBody(R.bodyLength),C=this._loadDictionaryBatch(A,h);this.dictionaries.set(A.id,C)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new fO._InternalEmptyPlaceholderRecordBatch(this.schema)};return this.return()}_readNextMessageAndValidate(R){return this._reader.readMessage(R)}}class Zh extends MO{constructor(R,T){super(T);this._reader=new DT.AsyncMessageReader(this._handle=R)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return OR.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&(this.closed=!0))yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null})}open(R){return OR.__awaiter(this,void 0,void 0,function*(){if(!this.closed){if(this.autoDestroy=OI(this,R),!(this.schema||(this.schema=yield this._reader.readSchema())))yield this.cancel()}return this})}throw(R){return OR.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.throw(R);return HA.ITERATOR_DONE})}return(R){return OR.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&this.autoDestroy&&(this.closed=!0))return yield this.reset()._reader.return(R);return HA.ITERATOR_DONE})}next(){return OR.__awaiter(this,void 0,void 0,function*(){if(this.closed)return HA.ITERATOR_DONE;let R,{_reader:T}=this;while(R=yield this._readNextMessageAndValidate())if(R.isSchema())yield this.reset(R.header());else if(R.isRecordBatch()){this._recordBatchIndex++;let A=R.header(),h=yield T.readMessageBody(R.bodyLength);return{done:!1,value:this._loadRecordBatch(A,h)}}else if(R.isDictionaryBatch()){this._dictionaryIndex++;let A=R.header(),h=yield T.readMessageBody(R.bodyLength),C=this._loadDictionaryBatch(A,h);this.dictionaries.set(A.id,C)}if(this.schema&&this._recordBatchIndex===0)return this._recordBatchIndex++,{done:!1,value:new fO._InternalEmptyPlaceholderRecordBatch(this.schema)};return yield this.return()})}_readNextMessageAndValidate(R){return OR.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(R)})}}class vO extends uh{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(R,T){super(R instanceof jh.RandomAccessFile?R:new jh.RandomAccessFile(R),T)}isSync(){return!0}isFile(){return!0}open(R){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let T of this._footer.dictionaryBatches())T&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(R)}readRecordBatch(R){var T;if(this.closed)return null;if(!this._footer)this.open();let A=(T=this._footer)===null||T===void 0?void 0:T.getRecordBatch(R);if(A&&this._handle.seek(A.offset)){let h=this._reader.readMessage(rB.MessageHeader.RecordBatch);if(h===null||h===void 0?void 0:h.isRecordBatch()){let C=h.header(),B=this._reader.readMessageBody(h.bodyLength);return this._loadRecordBatch(C,B)}}return null}_readDictionaryBatch(R){var T;let A=(T=this._footer)===null||T===void 0?void 0:T.getDictionaryBatch(R);if(A&&this._handle.seek(A.offset)){let h=this._reader.readMessage(rB.MessageHeader.DictionaryBatch);if(h===null||h===void 0?void 0:h.isDictionaryBatch()){let C=h.header(),B=this._reader.readMessageBody(h.bodyLength),D=this._loadDictionaryBatch(C,B);this.dictionaries.set(C.id,D)}}}_readFooter(){let{_handle:R}=this,T=R.size-DT.magicAndPadding,A=R.readInt32(T),h=R.readAt(T-A,A);return CI.Footer.decode(h)}_readNextMessageAndValidate(R){var T;if(!this._footer)this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let A=(T=this._footer)===null||T===void 0?void 0:T.getRecordBatch(this._recordBatchIndex);if(A&&this._handle.seek(A.offset))return this._reader.readMessage(R)}return null}}class DI extends Zh{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(R,...T){let A=typeof T[0]!=="number"?T.shift():void 0,h=T[0]instanceof Map?T.shift():void 0;super(R instanceof jh.AsyncRandomAccessFile?R:new jh.AsyncRandomAccessFile(R,A),h)}isFile(){return!0}isAsync(){return!0}open(R){let T=Object.create(null,{open:{get:()=>super.open}});return OR.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let A of this._footer.dictionaryBatches())A&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield T.open.call(this,R)})}readRecordBatch(R){return OR.__awaiter(this,void 0,void 0,function*(){var T;if(this.closed)return null;if(!this._footer)yield this.open();let A=(T=this._footer)===null||T===void 0?void 0:T.getRecordBatch(R);if(A&&(yield this._handle.seek(A.offset))){let h=yield this._reader.readMessage(rB.MessageHeader.RecordBatch);if(h===null||h===void 0?void 0:h.isRecordBatch()){let C=h.header(),B=yield this._reader.readMessageBody(h.bodyLength);return this._loadRecordBatch(C,B)}}return null})}_readDictionaryBatch(R){return OR.__awaiter(this,void 0,void 0,function*(){var T;let A=(T=this._footer)===null||T===void 0?void 0:T.getDictionaryBatch(R);if(A&&(yield this._handle.seek(A.offset))){let h=yield this._reader.readMessage(rB.MessageHeader.DictionaryBatch);if(h===null||h===void 0?void 0:h.isDictionaryBatch()){let C=h.header(),B=yield this._reader.readMessageBody(h.bodyLength),D=this._loadDictionaryBatch(C,B);this.dictionaries.set(C.id,D)}}})}_readFooter(){return OR.__awaiter(this,void 0,void 0,function*(){let{_handle:R}=this;R._pending&&(yield R._pending);let T=R.size-DT.magicAndPadding,A=yield R.readInt32(T),h=yield R.readAt(T-A,A);return CI.Footer.decode(h)})}_readNextMessageAndValidate(R){return OR.__awaiter(this,void 0,void 0,function*(){if(!this._footer)yield this.open();if(this._footer&&this._recordBatchIndex<this.numRecordBatches){let T=this._footer.getRecordBatch(this._recordBatchIndex);if(T&&(yield this._handle.seek(T.offset)))return yield this._reader.readMessage(R)}return null})}}class _I extends uh{constructor(R,T){super(R,T)}_loadVectors(R,T,A){return new BI.JSONVectorLoader(T,R.nodes,R.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(A)}}function OI(R,T){return T&&typeof T.autoDestroy==="boolean"?T.autoDestroy:R.autoDestroy}function*AI(R){let T=VT.from(R);try{if(!T.open({autoDestroy:!1}).closed)do yield T;while(!T.reset().open().closed)}finally{T.cancel()}}function hI(R){return OR.__asyncGenerator(this,arguments,function*(){let A=yield OR.__await(VT.from(R));try{if(!(yield OR.__await(A.open({autoDestroy:!1}))).closed)do yield yield OR.__await(A);while(!(yield OR.__await(A.reset().open())).closed)}finally{yield OR.__await(A.cancel())}})}function V0(R){return new Th(new _I(R))}function m0(R){let T=R.peek(DT.magicLength+7&-8);return T&&T.byteLength>=4?!(0,DT.checkForMagicArrowString)(T)?new Th(new uh(R)):new XB(new vO(R.read())):new Th(new uh(function*(){}()))}function Y0(R){return OR.__awaiter(this,void 0,void 0,function*(){let T=yield R.peek(DT.magicLength+7&-8);return T&&T.byteLength>=4?!(0,DT.checkForMagicArrowString)(T)?new Ah(new Zh(R)):new XB(new vO(yield R.read())):new Ah(new Zh(function(){return OR.__asyncGenerator(this,arguments,function*(){})}()))})}function Rn(R){return OR.__awaiter(this,void 0,void 0,function*(){let{size:T}=yield R.stat(),A=new jh.AsyncRandomAccessFile(R,T);if(T>=DT.magicX2AndPadding&&(0,DT.checkForMagicArrowString)(yield A.readAt(0,DT.magicLength+7&-8)))return new zO(new DI(A));return new Ah(new Zh(A))})}});var cI=a((WI)=>{Object.defineProperty(WI,"__esModule",{value:!0});WI.VectorAssembler=void 0;var Bn=dR(),Dn=ZR(),qI=NR(),_n=y9(),LI=bR(),mO=v9(),YO=BA(),VO=iR(),aI=q9();class IR extends Dn.Visitor{static assemble(...R){let T=(h)=>h.flatMap((C)=>Array.isArray(C)?T(C):C instanceof _n.RecordBatch?C.data.children:C.data),A=new IR;return A.visitMany(T(R)),A}constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(R){if(R instanceof Bn.Vector)return this.visitMany(R.data),this;let{type:T}=R;if(!VO.DataType.isDictionary(T)){let{length:A}=R;if(A>2147483647)throw RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(VO.DataType.isUnion(T))this.nodes.push(new YO.FieldNode(A,0));else{let{nullCount:h}=R;if(!VO.DataType.isNull(T))IT.call(this,h<=0?new Uint8Array(0):(0,mO.truncateBitmap)(R.offset,A,R.nullBitmap));this.nodes.push(new YO.FieldNode(A,h))}}return super.visit(R)}visitNull(R){return this}visitDictionary(R){return this.visit(R.clone(R.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}WI.VectorAssembler=IR;function IT(R){let T=R.byteLength+7&-8;return this.buffers.push(R),this.bufferRegions.push(new YO.BufferRegion(this._byteLength,T)),this._byteLength+=T,this}function On(R){var T;let{type:A,length:h,typeIds:C,valueOffsets:B}=R;if(IT.call(this,C),A.mode===qI.UnionMode.Sparse)return RH.call(this,R);else if(A.mode===qI.UnionMode.Dense)if(R.offset<=0)return IT.call(this,B),RH.call(this,R);else{let D=new Int32Array(h),_=Object.create(null),O=Object.create(null);for(let H,i,J=-1;++J<h;){if((H=C[J])===void 0)continue;if((i=_[H])===void 0)i=_[H]=B[J];D[J]=B[J]-i,O[H]=((T=O[H])!==null&&T!==void 0?T:0)+1}IT.call(this,D),this.visitMany(R.children.map((H,i)=>{let J=A.typeIds[i],P=_[J],U=O[J];return H.slice(P,Math.min(h,U))}))}return this}function Hn(R){let T;if(R.nullCount>=R.length)return IT.call(this,new Uint8Array(0));else if((T=R.values)instanceof Uint8Array)return IT.call(this,(0,mO.truncateBitmap)(R.offset,R.length,T));return IT.call(this,(0,mO.packBools)(R.values))}function mT(R){return IT.call(this,R.values.subarray(0,R.length*R.stride))}function GB(R){let{length:T,values:A,valueOffsets:h}=R,C=(0,aI.bigIntToNumber)(h[0]),B=(0,aI.bigIntToNumber)(h[T]),D=Math.min(B-C,A.byteLength-C);return IT.call(this,(0,LI.rebaseValueOffsets)(-C,T+1,h)),IT.call(this,A.subarray(C,C+D)),this}function TH(R){let{length:T,valueOffsets:A}=R;if(A){let{[0]:h,[T]:C}=A;return IT.call(this,(0,LI.rebaseValueOffsets)(-h,T+1,A)),this.visit(R.children[0].slice(h,C-h))}return this.visit(R.children[0])}function RH(R){return this.visitMany(R.type.children.map((T,A)=>R.children[A]).filter(Boolean))[0]}IR.prototype.visitBool=Hn;IR.prototype.visitInt=mT;IR.prototype.visitFloat=mT;IR.prototype.visitUtf8=GB;IR.prototype.visitLargeUtf8=GB;IR.prototype.visitBinary=GB;IR.prototype.visitLargeBinary=GB;IR.prototype.visitFixedSizeBinary=mT;IR.prototype.visitDate=mT;IR.prototype.visitTimestamp=mT;IR.prototype.visitTime=mT;IR.prototype.visitDecimal=mT;IR.prototype.visitList=TH;IR.prototype.visitStruct=RH;IR.prototype.visitUnion=On;IR.prototype.visitInterval=mT;IR.prototype.visitDuration=mT;IR.prototype.visitFixedSizeList=TH;IR.prototype.visitMap=TH});var kI=a((JI)=>{Object.defineProperty(JI,"__esModule",{value:!0});JI.JSONTypeAssembler=void 0;var qn=ZR(),sR=rA(),qA=NR();class oI extends qn.Visitor{visit(R){return R==null?void 0:super.visit(R)}visitNull({typeId:R}){return{name:sR.Type[R].toLowerCase()}}visitInt({typeId:R,bitWidth:T,isSigned:A}){return{name:sR.Type[R].toLowerCase(),bitWidth:T,isSigned:A}}visitFloat({typeId:R,precision:T}){return{name:sR.Type[R].toLowerCase(),precision:qA.Precision[T]}}visitBinary({typeId:R}){return{name:sR.Type[R].toLowerCase()}}visitLargeBinary({typeId:R}){return{name:sR.Type[R].toLowerCase()}}visitBool({typeId:R}){return{name:sR.Type[R].toLowerCase()}}visitUtf8({typeId:R}){return{name:sR.Type[R].toLowerCase()}}visitLargeUtf8({typeId:R}){return{name:sR.Type[R].toLowerCase()}}visitDecimal({typeId:R,scale:T,precision:A,bitWidth:h}){return{name:sR.Type[R].toLowerCase(),scale:T,precision:A,bitWidth:h}}visitDate({typeId:R,unit:T}){return{name:sR.Type[R].toLowerCase(),unit:qA.DateUnit[T]}}visitTime({typeId:R,unit:T,bitWidth:A}){return{name:sR.Type[R].toLowerCase(),unit:qA.TimeUnit[T],bitWidth:A}}visitTimestamp({typeId:R,timezone:T,unit:A}){return{name:sR.Type[R].toLowerCase(),unit:qA.TimeUnit[A],timezone:T}}visitInterval({typeId:R,unit:T}){return{name:sR.Type[R].toLowerCase(),unit:qA.IntervalUnit[T]}}visitDuration({typeId:R,unit:T}){return{name:sR.Type[R].toLocaleLowerCase(),unit:qA.TimeUnit[T]}}visitList({typeId:R}){return{name:sR.Type[R].toLowerCase()}}visitStruct({typeId:R}){return{name:sR.Type[R].toLowerCase()}}visitUnion({typeId:R,mode:T,typeIds:A}){return{name:sR.Type[R].toLowerCase(),mode:qA.UnionMode[T].toUpperCase(),typeIds:[...A]}}visitDictionary(R){return this.visit(R.dictionary)}visitFixedSizeBinary({typeId:R,byteWidth:T}){return{name:sR.Type[R].toLowerCase(),byteWidth:T}}visitFixedSizeList({typeId:R,listSize:T}){return{name:sR.Type[R].toLowerCase(),listSize:T}}visitMap({typeId:R,keysSorted:T}){return{name:sR.Type[R].toLowerCase(),keysSorted:T}}}JI.JSONTypeAssembler=oI});var gI=a((SI)=>{Object.defineProperty(SI,"__esModule",{value:!0});SI.JSONVectorAssembler=void 0;var an=FC(),wh=dR(),Ln=ZR(),Wn=NR(),AH=NR(),xB=v9(),hH=iR();class BH extends Ln.Visitor{static assemble(...R){let T=new BH;return R.map(({schema:A,data:h})=>{return T.visitMany(A.fields,h.children)})}visit({name:R},T){let{length:A}=T,{offset:h,nullCount:C,nullBitmap:B}=T,D=hH.DataType.isDictionary(T.type)?T.type.indices:T.type,_=Object.assign([],T.buffers,{[Wn.BufferType.VALIDITY]:void 0});return Object.assign({name:R,count:A,VALIDITY:hH.DataType.isNull(D)||hH.DataType.isUnion(D)?void 0:C<=0?Array.from({length:A},()=>1):[...new xB.BitIterator(B,h,A,null,xB.getBit)]},super.visit(T.clone(D,h,A,0,_)))}visitNull(){return{}}visitBool({values:R,offset:T,length:A}){return{DATA:[...new xB.BitIterator(R,T,A,null,xB.getBool)]}}visitInt(R){return{DATA:R.type.bitWidth<64?[...R.values]:[...E9(R.values,2)]}}visitFloat(R){return{DATA:[...R.values]}}visitUtf8(R){return{DATA:[...new wh.Vector([R])],OFFSET:[...R.valueOffsets]}}visitLargeUtf8(R){return{DATA:[...new wh.Vector([R])],OFFSET:[...E9(R.valueOffsets,2)]}}visitBinary(R){return{DATA:[...CH(new wh.Vector([R]))],OFFSET:[...R.valueOffsets]}}visitLargeBinary(R){return{DATA:[...CH(new wh.Vector([R]))],OFFSET:[...E9(R.valueOffsets,2)]}}visitFixedSizeBinary(R){return{DATA:[...CH(new wh.Vector([R]))]}}visitDate(R){return{DATA:R.type.unit===AH.DateUnit.DAY?[...R.values]:[...E9(R.values,2)]}}visitTimestamp(R){return{DATA:[...E9(R.values,2)]}}visitTime(R){return{DATA:R.type.unit<AH.TimeUnit.MICROSECOND?[...R.values]:[...E9(R.values,2)]}}visitDecimal(R){return{DATA:[...E9(R.values,4)]}}visitList(R){return{OFFSET:[...R.valueOffsets],children:this.visitMany(R.type.children,R.children)}}visitStruct(R){return{children:this.visitMany(R.type.children,R.children)}}visitUnion(R){return{TYPE_ID:[...R.typeIds],OFFSET:R.type.mode===AH.UnionMode.Dense?[...R.valueOffsets]:void 0,children:this.visitMany(R.type.children,R.children)}}visitInterval(R){return{DATA:[...R.values]}}visitDuration(R){return{DATA:[...E9(R.values,2)]}}visitFixedSizeList(R){return{children:this.visitMany(R.type.children,R.children)}}visitMap(R){return{OFFSET:[...R.valueOffsets],children:this.visitMany(R.type.children,R.children)}}}SI.JSONVectorAssembler=BH;function*CH(R){for(let T of R)yield T.reduce((A,h)=>{return`${A}${("0"+(h&255).toString(16)).slice(-2)}`},"").toUpperCase()}function*E9(R,T){let A=new Uint32Array(R.buffer);for(let h=-1,C=A.length/T;++h<C;)yield`${an.BN.new(A.subarray((h+0)*T,(h+1)*T),!1)}`}});var Qh=a((nI)=>{Object.defineProperty(nI,"__esModule",{value:!0});nI.RecordBatchJSONWriter=nI.RecordBatchFileWriter=nI.RecordBatchStreamWriter=nI.RecordBatchWriter=void 0;var sI=KR(),OH=vA(),Nn=pB(),cn=dR(),on=iR(),FB=BA(),DH=BA(),hh=K_(),HH=NR(),PI=Xh(),_H=rT(),tI=cI(),Jn=kI(),KI=gI(),In=bR(),eB=y9(),kn=kh(),eT=jT();class Uh extends kn.ReadableInterop{static throughNode(R){throw Error('"throughNode" not available in this environment')}static throughDOM(R,T){throw Error('"throughDOM" not available in this environment')}constructor(R){super();this._position=0,this._started=!1,this._sink=new _H.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(0,eT.isObject)(R)||(R={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof R.autoDestroy==="boolean"?R.autoDestroy:!0,this._writeLegacyIpcFormat=typeof R.writeLegacyIpcFormat==="boolean"?R.writeLegacyIpcFormat:!1}toString(R=!1){return this._sink.toString(R)}toUint8Array(R=!1){return this._sink.toUint8Array(R)}writeAll(R){if((0,eT.isPromise)(R))return R.then((T)=>this.writeAll(T));else if((0,eT.isAsyncIterable)(R))return WH(this,R);return LH(this,R)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(R){return this._sink.toDOMStream(R)}toNodeStream(R){return this._sink.toNodeStream(R)}close(){return this.reset()._sink.close()}abort(R){return this.reset()._sink.abort(R)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(R=this._sink,T=null){if(R===this._sink||R instanceof _H.AsyncByteQueue)this._sink=R;else if(this._sink=new _H.AsyncByteQueue,R&&(0,eT.isWritableDOMStream)(R))this.toDOMStream({type:"bytes"}).pipeTo(R);else if(R&&(0,eT.isWritableNodeStream)(R))this.toNodeStream({objectMode:!1}).pipe(R);if(this._started&&this._schema)this._writeFooter(this._schema);if(this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,!T||!(0,PI.compareSchemas)(T,this._schema))if(T==null)this._position=0,this._schema=null;else this._started=!0,this._schema=T,this._writeSchema(T);return this}write(R){let T=null;if(!this._sink)throw Error("RecordBatchWriter is closed");else if(R==null)return this.finish()&&void 0;else if(R instanceof OH.Table&&!(T=R.schema))return this.finish()&&void 0;else if(R instanceof eB.RecordBatch&&!(T=R.schema))return this.finish()&&void 0;if(T&&!(0,PI.compareSchemas)(T,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,T)}if(R instanceof eB.RecordBatch){if(!(R instanceof eB._InternalEmptyPlaceholderRecordBatch))this._writeRecordBatch(R)}else if(R instanceof OH.Table)this.writeAll(R.batches);else if((0,eT.isIterable)(R))this.writeAll(R)}_writeMessage(R,T=8){let A=T-1,h=FB.Message.encode(R),C=h.byteLength,B=!this._writeLegacyIpcFormat?8:4,D=C+B+A&~A,_=D-C-B;if(R.headerType===HH.MessageHeader.RecordBatch)this._recordBatchBlocks.push(new hh.FileBlock(D,R.bodyLength,this._position));else if(R.headerType===HH.MessageHeader.DictionaryBatch)this._dictionaryBlocks.push(new hh.FileBlock(D,R.bodyLength,this._position));if(!this._writeLegacyIpcFormat)this._write(Int32Array.of(-1));if(this._write(Int32Array.of(D-B)),C>0)this._write(h);return this._writePadding(_)}_write(R){if(this._started){let T=(0,In.toUint8Array)(R);if(T&&T.byteLength>0)this._sink.write(T),this._position+=T.byteLength}return this}_writeSchema(R){return this._writeMessage(FB.Message.from(R))}_writeFooter(R){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Nn.MAGIC)}_writePadding(R){return R>0?this._write(new Uint8Array(R)):this}_writeRecordBatch(R){let{byteLength:T,nodes:A,bufferRegions:h,buffers:C}=tI.VectorAssembler.assemble(R),B=new DH.RecordBatch(R.numRows,A,h),D=FB.Message.from(B,T);return this._writeDictionaries(R)._writeMessage(D)._writeBodyBuffers(C)}_writeDictionaryBatch(R,T,A=!1){let{byteLength:h,nodes:C,bufferRegions:B,buffers:D}=tI.VectorAssembler.assemble(new cn.Vector([R])),_=new DH.RecordBatch(R.length,C,B),O=new DH.DictionaryBatch(_,T,A),H=FB.Message.from(O,h);return this._writeMessage(H)._writeBodyBuffers(D)}_writeBodyBuffers(R){let T,A,h;for(let C=-1,B=R.length;++C<B;)if((T=R[C])&&(A=T.byteLength)>0){if(this._write(T),(h=(A+7&-8)-A)>0)this._writePadding(h)}return this}_writeDictionaries(R){var T,A;for(let[h,C]of R.dictionaries){let B=(T=C===null||C===void 0?void 0:C.data)!==null&&T!==void 0?T:[],D=this._seenDictionaries.get(h),_=(A=this._dictionaryDeltaOffsets.get(h))!==null&&A!==void 0?A:0;if(!D||D.data[0]!==B[0])for(let[O,H]of B.entries())this._writeDictionaryBatch(H,h,O>0);else if(_<B.length)for(let O of B.slice(_))this._writeDictionaryBatch(O,h,!0);this._seenDictionaries.set(h,C),this._dictionaryDeltaOffsets.set(h,B.length)}return this}}nI.RecordBatchWriter=Uh;class iH extends Uh{static writeAll(R,T){let A=new iH(T);if((0,eT.isPromise)(R))return R.then((h)=>A.writeAll(h));else if((0,eT.isAsyncIterable)(R))return WH(A,R);return LH(A,R)}}nI.RecordBatchStreamWriter=iH;class qH extends Uh{static writeAll(R){let T=new qH;if((0,eT.isPromise)(R))return R.then((A)=>T.writeAll(A));else if((0,eT.isAsyncIterable)(R))return WH(T,R);return LH(T,R)}constructor(){super();this._autoDestroy=!0}_writeSchema(R){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(R,T,A=!1){if(!A&&this._seenDictionaries.has(T))throw Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(R,T,A)}_writeFooter(R){let T=hh.Footer.encode(new hh.Footer(R,HH.MetadataVersion.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(R)._write(T)._write(Int32Array.of(T.byteLength))._writeMagic()}}nI.RecordBatchFileWriter=qH;class aH extends Uh{static writeAll(R){return new aH().writeAll(R)}constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._recordBatchesWithDictionaries=[]}_writeMessage(){return this}_writeFooter(R){return this}_writeSchema(R){return this._write(`{
  "schema": ${JSON.stringify({fields:R.fields.map((T)=>bI(T))},null,2)}`)}_writeDictionaries(R){if(R.dictionaries.size>0)this._recordBatchesWithDictionaries.push(R);return this}_writeDictionaryBatch(R,T,A=!1){return this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(Sn(R,T,A)),this._dictionaryBlocks.push(new hh.FileBlock(0,0,0)),this}_writeRecordBatch(R){return this._writeDictionaries(R),this._recordBatches.push(R),this}close(){if(this._recordBatchesWithDictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let R of this._recordBatchesWithDictionaries)super._writeDictionaries(R);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let R=-1,T=this._recordBatches.length;++R<T;)this._write(R===0?`,
  "batches": [
    `:`,
    `),this._write(yn(this._recordBatches[R])),this._recordBatchBlocks.push(new hh.FileBlock(0,0,0));this._write(`
  ]`)}if(this._schema)this._write(`
}`);return this._recordBatchesWithDictionaries=[],this._recordBatches=[],super.close()}}nI.RecordBatchJSONWriter=aH;function LH(R,T){let A=T;if(T instanceof OH.Table)A=T.batches,R.reset(void 0,T.schema);for(let h of A)R.write(h);return R.finish()}function WH(R,T){return sI.__awaiter(this,void 0,void 0,function*(){var A,h,C,B,D,_,O;try{for(A=!0,h=sI.__asyncValues(T);C=yield h.next(),B=C.done,!B;A=!0){O=C.value,A=!1;let H=O;R.write(H)}}catch(H){D={error:H}}finally{try{if(!A&&!B&&(_=h.return))yield _.call(h)}finally{if(D)throw D.error}}return R.finish()})}function bI({name:R,type:T,nullable:A}){let h=new Jn.JSONTypeAssembler;return{name:R,nullable:A,type:h.visit(T),children:(T.children||[]).map((C)=>bI(C)),dictionary:!on.DataType.isDictionary(T)?void 0:{id:T.id,isOrdered:T.isOrdered,indexType:h.visit(T.indices)}}}function Sn(R,T,A=!1){let[h]=KI.JSONVectorAssembler.assemble(new eB.RecordBatch({[T]:R}));return JSON.stringify({id:T,isDelta:A,data:{count:R.length,columns:h}},null,2)}function yn(R){let[T]=KI.JSONVectorAssembler.assemble(R);return JSON.stringify({count:R.numRows,columns:T},null,2)}});var eI=a((xI)=>{Object.defineProperty(xI,"__esModule",{value:!0});xI.toNodeStream=void 0;var $I=KR(),rI=w("node:stream"),pI=jT();function tn(R,T){if((0,pI.isAsyncIterable)(R))return new GI(R[Symbol.asyncIterator](),T);if((0,pI.isIterable)(R))return new XI(R[Symbol.iterator](),T);throw Error("toNodeStream() must be called with an Iterable or AsyncIterable")}xI.toNodeStream=tn;class XI extends rI.Readable{constructor(R,T){super(T);this._iterator=R,this._pulling=!1,this._bytesMode=!T||!T.objectMode}_read(R){let T=this._iterator;if(T&&!this._pulling&&(this._pulling=!0))this._pulling=this._pull(R,T)}_destroy(R,T){let A=this._iterator,h;A&&(h=R!=null&&A.throw||A.return),h===null||h===void 0||h.call(A,R),T&&T(null)}_pull(R,T){let A=this._bytesMode,h=null;while(this.readable&&!(h=T.next(A?R:null)).done){if(R!=null)R-=A&&ArrayBuffer.isView(h.value)?h.value.byteLength:1;if(!this.push(h.value)||R<=0)break}if(((h===null||h===void 0?void 0:h.done)||!this.readable)&&(this.push(null)||!0))T.return&&T.return();return!this.readable}}class GI extends rI.Readable{constructor(R,T){super(T);this._iterator=R,this._pulling=!1,this._bytesMode=!T||!T.objectMode}_read(R){let T=this._iterator;if(T&&!this._pulling&&(this._pulling=!0))(()=>$I.__awaiter(this,void 0,void 0,function*(){return this._pulling=yield this._pull(R,T)}))()}_destroy(R,T){let A=this._iterator,h;A&&(h=R!=null&&A.throw||A.return),(h===null||h===void 0?void 0:h.call(A,R).then(()=>T&&T(null)))||T&&T(null)}_pull(R,T){return $I.__awaiter(this,void 0,void 0,function*(){let A=this._bytesMode,h=null;while(this.readable&&!(h=yield T.next(A?R:null)).done){if(R!=null)R-=A&&ArrayBuffer.isView(h.value)?h.value.byteLength:1;if(!this.push(h.value)||R<=0)break}if(((h===null||h===void 0?void 0:h.done)||!this.readable)&&(this.push(null)||!0))T.return&&T.return();return!this.readable})}}});var uI=a((dI)=>{Object.defineProperty(dI,"__esModule",{value:!0});dI.builderThroughNodeStream=void 0;var Kn=w("node:stream"),bn=zA();function nn(R){return new lI((0,bn.makeBuilder)(R),R)}dI.builderThroughNodeStream=nn;class lI extends Kn.Duplex{constructor(R,T){let{queueingStrategy:A="count",autoDestroy:h=!0}=T,{highWaterMark:C=A!=="bytes"?1000:Math.pow(2,14)}=T;super({autoDestroy:h,highWaterMark:1,allowHalfOpen:!0,writableObjectMode:!0,readableObjectMode:!0});this._numChunks=0,this._finished=!1,this._builder=R,this._desiredSize=C,this._getSize=A!=="bytes"?En:$n}_read(R){this._maybeFlush(this._builder,this._desiredSize=R)}_final(R){this._maybeFlush(this._builder.finish(),this._desiredSize),R&&R()}_write(R,T,A){let h=this._maybeFlush(this._builder.append(R),this._desiredSize);return A&&A(),h}_destroy(R,T){this._builder.clear(),T&&T(R)}_maybeFlush(R,T){if(this._getSize(R)>=T)++this._numChunks&&this.push(R.toVector());if(R.finished){if(R.length>0||this._numChunks===0)++this._numChunks&&this.push(R.toVector());if(!this._finished&&(this._finished=!0))this.push(null);return!1}return this._getSize(R)<this.writableHighWaterMark}}var En=(R)=>R.length,$n=(R)=>R.byteLength});var QI=a((wI)=>{Object.defineProperty(wI,"__esModule",{value:!0});wI.recordBatchReaderThroughNodeStream=void 0;var NH=KR(),pn=w("node:stream"),rn=rT(),Xn=iA();function Gn(R){return new ZI(R)}wI.recordBatchReaderThroughNodeStream=Gn;class ZI extends pn.Duplex{constructor(R){super(Object.assign(Object.assign({allowHalfOpen:!1},R),{readableObjectMode:!0,writableObjectMode:!1}));this._pulling=!1,this._autoDestroy=!0,this._reader=null,this._pulling=!1,this._asyncQueue=new rn.AsyncByteQueue,this._autoDestroy=R&&typeof R.autoDestroy==="boolean"?R.autoDestroy:!0}_final(R){let T=this._asyncQueue;T===null||T===void 0||T.close(),R&&R()}_write(R,T,A){let h=this._asyncQueue;return h===null||h===void 0||h.write(R),A&&A(),!0}_read(R){let T=this._asyncQueue;if(T&&!this._pulling&&(this._pulling=!0))(()=>NH.__awaiter(this,void 0,void 0,function*(){if(!this._reader)this._reader=yield this._open(T);this._pulling=yield this._pull(R,this._reader)}))()}_destroy(R,T){let A=this._asyncQueue;if(A)R?A.abort(R):A.close();T(this._asyncQueue=this._reader=null)}_open(R){return NH.__awaiter(this,void 0,void 0,function*(){return yield(yield Xn.RecordBatchReader.from(R)).open({autoDestroy:this._autoDestroy})})}_pull(R,T){return NH.__awaiter(this,void 0,void 0,function*(){let A=null;while(this.readable&&!(A=yield T.next()).done)if(!this.push(A.value)||R!=null&&--R<=0)break;if(!this.readable||(A===null||A===void 0?void 0:A.done)&&(T.autoDestroy||(yield T.reset().open()).closed))this.push(null),yield T.cancel();return!this.readable})}}});var VI=a((MI)=>{Object.defineProperty(MI,"__esModule",{value:!0});MI.recordBatchWriterThroughNodeStream=void 0;var fI=KR(),xn=w("node:stream"),Fn=rT();function en(R){return new zI(new this(R))}MI.recordBatchWriterThroughNodeStream=en;class zI extends xn.Duplex{constructor(R,T){super(Object.assign(Object.assign({allowHalfOpen:!1},T),{writableObjectMode:!0,readableObjectMode:!1}));this._pulling=!1,this._writer=R,this._reader=new Fn.AsyncByteStream(R)}_final(R){let T=this._writer;T===null||T===void 0||T.close(),R&&R()}_write(R,T,A){let h=this._writer;return h===null||h===void 0||h.write(R),A&&A(),!0}_read(R){let T=this._reader;if(T&&!this._pulling&&(this._pulling=!0))(()=>fI.__awaiter(this,void 0,void 0,function*(){return this._pulling=yield this._pull(R,T)}))()}_destroy(R,T){let A=this._writer;if(A)R?A.abort(R):A.close();T(this._reader=this._writer=null)}_pull(R,T){return fI.__awaiter(this,void 0,void 0,function*(){let A=null;while(this.readable&&!(A=yield T.next(R||null)).done){if(R!=null&&A.value)R-=A.value.byteLength;if(!this.push(A.value)||R<=0)break}if((A===null||A===void 0?void 0:A.done)||!this.readable)this.push(null),yield T.cancel();return!this.readable})}}});var Ak=a((Rk)=>{Object.defineProperty(Rk,"__esModule",{value:!0});Rk.toDOMStream=void 0;var lB=KR(),YI=bR(),mI=jT();function ln(R,T){if((0,mI.isAsyncIterable)(R))return jn(R,T);if((0,mI.isIterable)(R))return dn(R,T);throw Error("toDOMStream() must be called with an Iterable or AsyncIterable")}Rk.toDOMStream=ln;function dn(R,T){let A=null,h=(T===null||T===void 0?void 0:T.type)==="bytes"||!1,C=(T===null||T===void 0?void 0:T.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},T),{start(D){B(D,A||(A=R[Symbol.iterator]()))},pull(D){A?B(D,A):D.close()},cancel(){((A===null||A===void 0?void 0:A.return)&&A.return()||!0)&&(A=null)}}),Object.assign({highWaterMark:h?C:void 0},T));function B(D,_){let O,H=null,i=D.desiredSize||null;while(!(H=_.next(h?i:null)).done){if(ArrayBuffer.isView(H.value)&&(O=(0,YI.toUint8Array)(H.value)))i!=null&&h&&(i=i-O.byteLength+1),H.value=O;if(D.enqueue(H.value),i!=null&&--i<=0)return}D.close()}}function jn(R,T){let A=null,h=(T===null||T===void 0?void 0:T.type)==="bytes"||!1,C=(T===null||T===void 0?void 0:T.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},T),{start(D){return lB.__awaiter(this,void 0,void 0,function*(){yield B(D,A||(A=R[Symbol.asyncIterator]()))})},pull(D){return lB.__awaiter(this,void 0,void 0,function*(){A?yield B(D,A):D.close()})},cancel(){return lB.__awaiter(this,void 0,void 0,function*(){((A===null||A===void 0?void 0:A.return)&&(yield A.return())||!0)&&(A=null)})}}),Object.assign({highWaterMark:h?C:void 0},T));function B(D,_){return lB.__awaiter(this,void 0,void 0,function*(){let O,H=null,i=D.desiredSize||null;while(!(H=yield _.next(h?i:null)).done){if(ArrayBuffer.isView(H.value)&&(O=(0,YI.toUint8Array)(H.value)))i!=null&&h&&(i=i-O.byteLength+1),H.value=O;if(D.enqueue(H.value),i!=null&&--i<=0)return}D.close()})}}});var _k=a((Bk)=>{Object.defineProperty(Bk,"__esModule",{value:!0});Bk.BuilderTransform=Bk.builderThroughDOMStream=void 0;var un=KR(),Zn=zA();function wn(R){return new cH(R)}Bk.builderThroughDOMStream=wn;class cH{constructor(R){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:T,["writableStrategy"]:A,["queueingStrategy"]:h="count"}=R,C=un.__rest(R,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,Zn.makeBuilder)(C),this._getSize=h!=="bytes"?hk:Ck;let{["highWaterMark"]:B=h==="bytes"?Math.pow(2,14):1000}=Object.assign({},T),{["highWaterMark"]:D=h==="bytes"?Math.pow(2,14):1000}=Object.assign({},A);this.readable=new ReadableStream({["cancel"]:()=>{this._builder.clear()},["pull"]:(_)=>{this._maybeFlush(this._builder,this._controller=_)},["start"]:(_)=>{this._maybeFlush(this._builder,this._controller=_)}},{highWaterMark:B,size:h!=="bytes"?hk:Ck}),this.writable=new WritableStream({["abort"]:()=>{this._builder.clear()},["write"]:()=>{this._maybeFlush(this._builder,this._controller)},["close"]:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:D,size:(_)=>this._writeValueAndReturnChunkSize(_)})}_writeValueAndReturnChunkSize(R){let T=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(R)),this._bufferedSize-T}_maybeFlush(R,T){if(T==null)return;if(this._bufferedSize>=T.desiredSize)++this._numChunks&&this._enqueue(T,R.toVector());if(R.finished){if(R.length>0||this._numChunks===0)++this._numChunks&&this._enqueue(T,R.toVector());if(!this._finished&&(this._finished=!0))this._enqueue(T,null)}}_enqueue(R,T){this._bufferedSize=0,this._controller=null,T==null?R.close():R.enqueue(T)}}Bk.BuilderTransform=cH;var hk=(R)=>{var T;return(T=R===null||R===void 0?void 0:R.length)!==null&&T!==void 0?T:0},Ck=(R)=>{var T;return(T=R===null||R===void 0?void 0:R.byteLength)!==null&&T!==void 0?T:0}});var ik=a((Ok)=>{Object.defineProperty(Ok,"__esModule",{value:!0});Ok.recordBatchReaderThroughDOMStream=void 0;var fh=KR(),Qn=rT(),fn=iA();function zn(R,T){let A=new Qn.AsyncByteQueue,h=null,C=new ReadableStream({cancel(){return fh.__awaiter(this,void 0,void 0,function*(){yield A.close()})},start(_){return fh.__awaiter(this,void 0,void 0,function*(){yield D(_,h||(h=yield B()))})},pull(_){return fh.__awaiter(this,void 0,void 0,function*(){h?yield D(_,h):_.close()})}});return{writable:new WritableStream(A,Object.assign({highWaterMark:Math.pow(2,14)},R)),readable:C};function B(){return fh.__awaiter(this,void 0,void 0,function*(){return yield(yield fn.RecordBatchReader.from(A)).open(T)})}function D(_,O){return fh.__awaiter(this,void 0,void 0,function*(){let H=_.desiredSize,i=null;while(!(i=yield O.next()).done)if(_.enqueue(i.value),H!=null&&--H<=0)return;_.close()})}}Ok.recordBatchReaderThroughDOMStream=zn});var Lk=a((qk)=>{Object.defineProperty(qk,"__esModule",{value:!0});qk.recordBatchWriterThroughDOMStream=void 0;var dB=KR(),Mn=rT();function vn(R,T){let A=new this(R),h=new Mn.AsyncByteStream(A),C=new ReadableStream({cancel(){return dB.__awaiter(this,void 0,void 0,function*(){yield h.cancel()})},pull(D){return dB.__awaiter(this,void 0,void 0,function*(){yield B(D)})},start(D){return dB.__awaiter(this,void 0,void 0,function*(){yield B(D)})}},Object.assign({highWaterMark:Math.pow(2,14)},T));return{writable:new WritableStream(A,R),readable:C};function B(D){return dB.__awaiter(this,void 0,void 0,function*(){let _=null,O=D.desiredSize;while(_=yield h.read(O||null))if(D.enqueue(_),O!=null&&(O-=_.byteLength)<=0)return;D.close()})}}qk.recordBatchWriterThroughDOMStream=vn});var Ik=a((ok)=>{Object.defineProperty(ok,"__esModule",{value:!0});ok.tableToIPC=ok.tableFromIPC=void 0;var Wk=vA(),Vn=jT(),mn=iA(),Nk=Qh();function ck(R){let T=mn.RecordBatchReader.from(R);if((0,Vn.isPromise)(T))return T.then((A)=>ck(A));if(T.isAsync())return T.readAll().then((A)=>new Wk.Table(A));return new Wk.Table(T.readAll())}ok.tableFromIPC=ck;function Yn(R,T="stream"){return(T==="stream"?Nk.RecordBatchStreamWriter:Nk.RecordBatchFileWriter).writeAll(R).toUint8Array(!0)}ok.tableToIPC=Yn});var sH=a((N)=>{Object.defineProperty(N,"__esModule",{value:!0});N.DenseUnion=N.Union=N.Struct=N.List=N.Decimal=N.TimeNanosecond=N.TimeMicrosecond=N.TimeMillisecond=N.TimeSecond=N.Time=N.TimestampNanosecond=N.TimestampMicrosecond=N.TimestampMillisecond=N.TimestampSecond=N.Timestamp=N.DateMillisecond=N.DateDay=N.Date_=N.FixedSizeBinary=N.LargeBinary=N.Binary=N.LargeUtf8=N.Utf8=N.Float64=N.Float32=N.Float16=N.Float=N.Uint64=N.Uint32=N.Uint16=N.Uint8=N.Int64=N.Int32=N.Int16=N.Int8=N.Int=N.Bool=N.Null=N.DataType=N.makeData=N.Data=N.MetadataVersion=N.IntervalUnit=N.UnionMode=N.Precision=N.TimeUnit=N.DateUnit=N.BufferType=N.Type=N.MessageHeader=void 0;N.TimeBuilder=N.Uint64Builder=N.Uint32Builder=N.Uint16Builder=N.Uint8Builder=N.Int64Builder=N.Int32Builder=N.Int16Builder=N.Int8Builder=N.IntBuilder=N.Float64Builder=N.Float32Builder=N.Float16Builder=N.FloatBuilder=N.FixedSizeBinaryBuilder=N.DictionaryBuilder=N.DecimalBuilder=N.DateMillisecondBuilder=N.DateDayBuilder=N.DateBuilder=N.NullBuilder=N.BoolBuilder=N.builderThroughAsyncIterable=N.builderThroughIterable=N.tableFromJSON=N.vectorFromArray=N.makeBuilder=N.Builder=N.StructRow=N.MapRow=N.Field=N.Schema=N.Visitor=N.makeVector=N.Vector=N.tableFromArrays=N.makeTable=N.Table=N.Map_=N.FixedSizeList=N.DurationNanosecond=N.DurationMicrosecond=N.DurationMillisecond=N.DurationSecond=N.Duration=N.IntervalYearMonth=N.IntervalDayTime=N.Interval=N.Dictionary=N.SparseUnion=void 0;N.util=N.RecordBatch=N.Message=N.JSONMessageReader=N.AsyncMessageReader=N.MessageReader=N.tableFromIPC=N.tableToIPC=N.RecordBatchJSONWriter=N.RecordBatchStreamWriter=N.RecordBatchFileWriter=N.RecordBatchWriter=N.AsyncRecordBatchStreamReader=N.AsyncRecordBatchFileReader=N.RecordBatchStreamReader=N.RecordBatchFileReader=N.RecordBatchReader=N.AsyncByteQueue=N.AsyncByteStream=N.ByteStream=N.DenseUnionBuilder=N.SparseUnionBuilder=N.UnionBuilder=N.StructBuilder=N.MapBuilder=N.FixedSizeListBuilder=N.ListBuilder=N.LargeBinaryBuilder=N.BinaryBuilder=N.LargeUtf8Builder=N.Utf8Builder=N.DurationNanosecondBuilder=N.DurationMicrosecondBuilder=N.DurationMillisecondBuilder=N.DurationSecondBuilder=N.DurationBuilder=N.IntervalYearMonthBuilder=N.IntervalDayTimeBuilder=N.IntervalBuilder=N.TimestampNanosecondBuilder=N.TimestampMicrosecondBuilder=N.TimestampMillisecondBuilder=N.TimestampSecondBuilder=N.TimestampBuilder=N.TimeNanosecondBuilder=N.TimeMicrosecondBuilder=N.TimeMillisecondBuilder=N.TimeSecondBuilder=void 0;var T1=XC();Object.defineProperty(N,"MessageHeader",{enumerable:!0,get:function(){return T1.MessageHeader}});var $9=NR();Object.defineProperty(N,"Type",{enumerable:!0,get:function(){return $9.Type}});Object.defineProperty(N,"BufferType",{enumerable:!0,get:function(){return $9.BufferType}});Object.defineProperty(N,"DateUnit",{enumerable:!0,get:function(){return $9.DateUnit}});Object.defineProperty(N,"TimeUnit",{enumerable:!0,get:function(){return $9.TimeUnit}});Object.defineProperty(N,"Precision",{enumerable:!0,get:function(){return $9.Precision}});Object.defineProperty(N,"UnionMode",{enumerable:!0,get:function(){return $9.UnionMode}});Object.defineProperty(N,"IntervalUnit",{enumerable:!0,get:function(){return $9.IntervalUnit}});Object.defineProperty(N,"MetadataVersion",{enumerable:!0,get:function(){return $9.MetadataVersion}});var kk=bT();Object.defineProperty(N,"Data",{enumerable:!0,get:function(){return kk.Data}});Object.defineProperty(N,"makeData",{enumerable:!0,get:function(){return kk.makeData}});var x=iR();Object.defineProperty(N,"DataType",{enumerable:!0,get:function(){return x.DataType}});Object.defineProperty(N,"Null",{enumerable:!0,get:function(){return x.Null}});Object.defineProperty(N,"Bool",{enumerable:!0,get:function(){return x.Bool}});Object.defineProperty(N,"Int",{enumerable:!0,get:function(){return x.Int}});Object.defineProperty(N,"Int8",{enumerable:!0,get:function(){return x.Int8}});Object.defineProperty(N,"Int16",{enumerable:!0,get:function(){return x.Int16}});Object.defineProperty(N,"Int32",{enumerable:!0,get:function(){return x.Int32}});Object.defineProperty(N,"Int64",{enumerable:!0,get:function(){return x.Int64}});Object.defineProperty(N,"Uint8",{enumerable:!0,get:function(){return x.Uint8}});Object.defineProperty(N,"Uint16",{enumerable:!0,get:function(){return x.Uint16}});Object.defineProperty(N,"Uint32",{enumerable:!0,get:function(){return x.Uint32}});Object.defineProperty(N,"Uint64",{enumerable:!0,get:function(){return x.Uint64}});Object.defineProperty(N,"Float",{enumerable:!0,get:function(){return x.Float}});Object.defineProperty(N,"Float16",{enumerable:!0,get:function(){return x.Float16}});Object.defineProperty(N,"Float32",{enumerable:!0,get:function(){return x.Float32}});Object.defineProperty(N,"Float64",{enumerable:!0,get:function(){return x.Float64}});Object.defineProperty(N,"Utf8",{enumerable:!0,get:function(){return x.Utf8}});Object.defineProperty(N,"LargeUtf8",{enumerable:!0,get:function(){return x.LargeUtf8}});Object.defineProperty(N,"Binary",{enumerable:!0,get:function(){return x.Binary}});Object.defineProperty(N,"LargeBinary",{enumerable:!0,get:function(){return x.LargeBinary}});Object.defineProperty(N,"FixedSizeBinary",{enumerable:!0,get:function(){return x.FixedSizeBinary}});Object.defineProperty(N,"Date_",{enumerable:!0,get:function(){return x.Date_}});Object.defineProperty(N,"DateDay",{enumerable:!0,get:function(){return x.DateDay}});Object.defineProperty(N,"DateMillisecond",{enumerable:!0,get:function(){return x.DateMillisecond}});Object.defineProperty(N,"Timestamp",{enumerable:!0,get:function(){return x.Timestamp}});Object.defineProperty(N,"TimestampSecond",{enumerable:!0,get:function(){return x.TimestampSecond}});Object.defineProperty(N,"TimestampMillisecond",{enumerable:!0,get:function(){return x.TimestampMillisecond}});Object.defineProperty(N,"TimestampMicrosecond",{enumerable:!0,get:function(){return x.TimestampMicrosecond}});Object.defineProperty(N,"TimestampNanosecond",{enumerable:!0,get:function(){return x.TimestampNanosecond}});Object.defineProperty(N,"Time",{enumerable:!0,get:function(){return x.Time}});Object.defineProperty(N,"TimeSecond",{enumerable:!0,get:function(){return x.TimeSecond}});Object.defineProperty(N,"TimeMillisecond",{enumerable:!0,get:function(){return x.TimeMillisecond}});Object.defineProperty(N,"TimeMicrosecond",{enumerable:!0,get:function(){return x.TimeMicrosecond}});Object.defineProperty(N,"TimeNanosecond",{enumerable:!0,get:function(){return x.TimeNanosecond}});Object.defineProperty(N,"Decimal",{enumerable:!0,get:function(){return x.Decimal}});Object.defineProperty(N,"List",{enumerable:!0,get:function(){return x.List}});Object.defineProperty(N,"Struct",{enumerable:!0,get:function(){return x.Struct}});Object.defineProperty(N,"Union",{enumerable:!0,get:function(){return x.Union}});Object.defineProperty(N,"DenseUnion",{enumerable:!0,get:function(){return x.DenseUnion}});Object.defineProperty(N,"SparseUnion",{enumerable:!0,get:function(){return x.SparseUnion}});Object.defineProperty(N,"Dictionary",{enumerable:!0,get:function(){return x.Dictionary}});Object.defineProperty(N,"Interval",{enumerable:!0,get:function(){return x.Interval}});Object.defineProperty(N,"IntervalDayTime",{enumerable:!0,get:function(){return x.IntervalDayTime}});Object.defineProperty(N,"IntervalYearMonth",{enumerable:!0,get:function(){return x.IntervalYearMonth}});Object.defineProperty(N,"Duration",{enumerable:!0,get:function(){return x.Duration}});Object.defineProperty(N,"DurationSecond",{enumerable:!0,get:function(){return x.DurationSecond}});Object.defineProperty(N,"DurationMillisecond",{enumerable:!0,get:function(){return x.DurationMillisecond}});Object.defineProperty(N,"DurationMicrosecond",{enumerable:!0,get:function(){return x.DurationMicrosecond}});Object.defineProperty(N,"DurationNanosecond",{enumerable:!0,get:function(){return x.DurationNanosecond}});Object.defineProperty(N,"FixedSizeList",{enumerable:!0,get:function(){return x.FixedSizeList}});Object.defineProperty(N,"Map_",{enumerable:!0,get:function(){return x.Map_}});var JH=vA();Object.defineProperty(N,"Table",{enumerable:!0,get:function(){return JH.Table}});Object.defineProperty(N,"makeTable",{enumerable:!0,get:function(){return JH.makeTable}});Object.defineProperty(N,"tableFromArrays",{enumerable:!0,get:function(){return JH.tableFromArrays}});var Sk=dR();Object.defineProperty(N,"Vector",{enumerable:!0,get:function(){return Sk.Vector}});Object.defineProperty(N,"makeVector",{enumerable:!0,get:function(){return Sk.makeVector}});var A1=ZR();Object.defineProperty(N,"Visitor",{enumerable:!0,get:function(){return A1.Visitor}});var yk=QR();Object.defineProperty(N,"Schema",{enumerable:!0,get:function(){return yk.Schema}});Object.defineProperty(N,"Field",{enumerable:!0,get:function(){return yk.Field}});var h1=Nh();Object.defineProperty(N,"MapRow",{enumerable:!0,get:function(){return h1.MapRow}});var C1=mC();Object.defineProperty(N,"StructRow",{enumerable:!0,get:function(){return C1.StructRow}});var B1=aR();Object.defineProperty(N,"Builder",{enumerable:!0,get:function(){return B1.Builder}});var zh=zA();Object.defineProperty(N,"makeBuilder",{enumerable:!0,get:function(){return zh.makeBuilder}});Object.defineProperty(N,"vectorFromArray",{enumerable:!0,get:function(){return zh.vectorFromArray}});Object.defineProperty(N,"tableFromJSON",{enumerable:!0,get:function(){return zh.tableFromJSON}});Object.defineProperty(N,"builderThroughIterable",{enumerable:!0,get:function(){return zh.builderThroughIterable}});Object.defineProperty(N,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return zh.builderThroughAsyncIterable}});var D1=x_();Object.defineProperty(N,"BoolBuilder",{enumerable:!0,get:function(){return D1.BoolBuilder}});var _1=DO();Object.defineProperty(N,"NullBuilder",{enumerable:!0,get:function(){return _1.NullBuilder}});var IH=d_();Object.defineProperty(N,"DateBuilder",{enumerable:!0,get:function(){return IH.DateBuilder}});Object.defineProperty(N,"DateDayBuilder",{enumerable:!0,get:function(){return IH.DateDayBuilder}});Object.defineProperty(N,"DateMillisecondBuilder",{enumerable:!0,get:function(){return IH.DateMillisecondBuilder}});var O1=u_();Object.defineProperty(N,"DecimalBuilder",{enumerable:!0,get:function(){return O1.DecimalBuilder}});var H1=Z_();Object.defineProperty(N,"DictionaryBuilder",{enumerable:!0,get:function(){return H1.DictionaryBuilder}});var i1=U_();Object.defineProperty(N,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return i1.FixedSizeBinaryBuilder}});var jB=f_();Object.defineProperty(N,"FloatBuilder",{enumerable:!0,get:function(){return jB.FloatBuilder}});Object.defineProperty(N,"Float16Builder",{enumerable:!0,get:function(){return jB.Float16Builder}});Object.defineProperty(N,"Float32Builder",{enumerable:!0,get:function(){return jB.Float32Builder}});Object.defineProperty(N,"Float64Builder",{enumerable:!0,get:function(){return jB.Float64Builder}});var YT=hO();Object.defineProperty(N,"IntBuilder",{enumerable:!0,get:function(){return YT.IntBuilder}});Object.defineProperty(N,"Int8Builder",{enumerable:!0,get:function(){return YT.Int8Builder}});Object.defineProperty(N,"Int16Builder",{enumerable:!0,get:function(){return YT.Int16Builder}});Object.defineProperty(N,"Int32Builder",{enumerable:!0,get:function(){return YT.Int32Builder}});Object.defineProperty(N,"Int64Builder",{enumerable:!0,get:function(){return YT.Int64Builder}});Object.defineProperty(N,"Uint8Builder",{enumerable:!0,get:function(){return YT.Uint8Builder}});Object.defineProperty(N,"Uint16Builder",{enumerable:!0,get:function(){return YT.Uint16Builder}});Object.defineProperty(N,"Uint32Builder",{enumerable:!0,get:function(){return YT.Uint32Builder}});Object.defineProperty(N,"Uint64Builder",{enumerable:!0,get:function(){return YT.Uint64Builder}});var Mh=oO();Object.defineProperty(N,"TimeBuilder",{enumerable:!0,get:function(){return Mh.TimeBuilder}});Object.defineProperty(N,"TimeSecondBuilder",{enumerable:!0,get:function(){return Mh.TimeSecondBuilder}});Object.defineProperty(N,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return Mh.TimeMillisecondBuilder}});Object.defineProperty(N,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return Mh.TimeMicrosecondBuilder}});Object.defineProperty(N,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return Mh.TimeNanosecondBuilder}});var vh=aO();Object.defineProperty(N,"TimestampBuilder",{enumerable:!0,get:function(){return vh.TimestampBuilder}});Object.defineProperty(N,"TimestampSecondBuilder",{enumerable:!0,get:function(){return vh.TimestampSecondBuilder}});Object.defineProperty(N,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return vh.TimestampMillisecondBuilder}});Object.defineProperty(N,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return vh.TimestampMicrosecondBuilder}});Object.defineProperty(N,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return vh.TimestampNanosecondBuilder}});var kH=V_();Object.defineProperty(N,"IntervalBuilder",{enumerable:!0,get:function(){return kH.IntervalBuilder}});Object.defineProperty(N,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return kH.IntervalDayTimeBuilder}});Object.defineProperty(N,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return kH.IntervalYearMonthBuilder}});var Vh=AO();Object.defineProperty(N,"DurationBuilder",{enumerable:!0,get:function(){return Vh.DurationBuilder}});Object.defineProperty(N,"DurationSecondBuilder",{enumerable:!0,get:function(){return Vh.DurationSecondBuilder}});Object.defineProperty(N,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return Vh.DurationMillisecondBuilder}});Object.defineProperty(N,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return Vh.DurationMicrosecondBuilder}});Object.defineProperty(N,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return Vh.DurationNanosecondBuilder}});var q1=kO();Object.defineProperty(N,"Utf8Builder",{enumerable:!0,get:function(){return q1.Utf8Builder}});var a1=yO();Object.defineProperty(N,"LargeUtf8Builder",{enumerable:!0,get:function(){return a1.LargeUtf8Builder}});var L1=NB();Object.defineProperty(N,"BinaryBuilder",{enumerable:!0,get:function(){return L1.BinaryBuilder}});var W1=cB();Object.defineProperty(N,"LargeBinaryBuilder",{enumerable:!0,get:function(){return W1.LargeBinaryBuilder}});var N1=CO();Object.defineProperty(N,"ListBuilder",{enumerable:!0,get:function(){return N1.ListBuilder}});var c1=Q_();Object.defineProperty(N,"FixedSizeListBuilder",{enumerable:!0,get:function(){return c1.FixedSizeListBuilder}});var o1=BO();Object.defineProperty(N,"MapBuilder",{enumerable:!0,get:function(){return o1.MapBuilder}});var J1=_O();Object.defineProperty(N,"StructBuilder",{enumerable:!0,get:function(){return J1.StructBuilder}});var SH=JO();Object.defineProperty(N,"UnionBuilder",{enumerable:!0,get:function(){return SH.UnionBuilder}});Object.defineProperty(N,"SparseUnionBuilder",{enumerable:!0,get:function(){return SH.SparseUnionBuilder}});Object.defineProperty(N,"DenseUnionBuilder",{enumerable:!0,get:function(){return SH.DenseUnionBuilder}});var yH=rT();Object.defineProperty(N,"ByteStream",{enumerable:!0,get:function(){return yH.ByteStream}});Object.defineProperty(N,"AsyncByteStream",{enumerable:!0,get:function(){return yH.AsyncByteStream}});Object.defineProperty(N,"AsyncByteQueue",{enumerable:!0,get:function(){return yH.AsyncByteQueue}});var mh=iA();Object.defineProperty(N,"RecordBatchReader",{enumerable:!0,get:function(){return mh.RecordBatchReader}});Object.defineProperty(N,"RecordBatchFileReader",{enumerable:!0,get:function(){return mh.RecordBatchFileReader}});Object.defineProperty(N,"RecordBatchStreamReader",{enumerable:!0,get:function(){return mh.RecordBatchStreamReader}});Object.defineProperty(N,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return mh.AsyncRecordBatchFileReader}});Object.defineProperty(N,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return mh.AsyncRecordBatchStreamReader}});var uB=Qh();Object.defineProperty(N,"RecordBatchWriter",{enumerable:!0,get:function(){return uB.RecordBatchWriter}});Object.defineProperty(N,"RecordBatchFileWriter",{enumerable:!0,get:function(){return uB.RecordBatchFileWriter}});Object.defineProperty(N,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return uB.RecordBatchStreamWriter}});Object.defineProperty(N,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return uB.RecordBatchJSONWriter}});var gk=Ik();Object.defineProperty(N,"tableToIPC",{enumerable:!0,get:function(){return gk.tableToIPC}});Object.defineProperty(N,"tableFromIPC",{enumerable:!0,get:function(){return gk.tableFromIPC}});var gH=pB();Object.defineProperty(N,"MessageReader",{enumerable:!0,get:function(){return gH.MessageReader}});Object.defineProperty(N,"AsyncMessageReader",{enumerable:!0,get:function(){return gH.AsyncMessageReader}});Object.defineProperty(N,"JSONMessageReader",{enumerable:!0,get:function(){return gH.JSONMessageReader}});var I1=BA();Object.defineProperty(N,"Message",{enumerable:!0,get:function(){return I1.Message}});var k1=y9();Object.defineProperty(N,"RecordBatch",{enumerable:!0,get:function(){return k1.RecordBatch}});var S1=FC(),y1=X_(),g1=v9(),s1=Wh(),P1=bR(),t1=ZA(),K1=ah(),oH=Xh();N.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},S1),y1),g1),s1),P1),t1),K1),{compareSchemas:oH.compareSchemas,compareFields:oH.compareFields,compareTypes:oH.compareTypes})});var Pk=a((W)=>{Object.defineProperty(W,"__esModule",{value:!0});W.Union=W.StructRow=W.Struct=W.List=W.Decimal=W.TimeNanosecond=W.TimeMicrosecond=W.TimeMillisecond=W.TimeSecond=W.Time=W.TimestampNanosecond=W.TimestampMicrosecond=W.TimestampMillisecond=W.TimestampSecond=W.Timestamp=W.DateMillisecond=W.DateDay=W.Date_=W.FixedSizeBinary=W.LargeBinary=W.Binary=W.LargeUtf8=W.Utf8=W.Float64=W.Float32=W.Float16=W.Float=W.Uint64=W.Uint32=W.Uint16=W.Uint8=W.Int64=W.Int32=W.Int16=W.Int8=W.Int=W.Bool=W.Null=W.DataType=W.makeData=W.Data=W.BufferType=W.UnionMode=W.Type=W.TimeUnit=W.Precision=W.MetadataVersion=W.MessageHeader=W.IntervalUnit=W.DateUnit=void 0;W.LargeBinaryBuilder=W.BinaryBuilder=W.builderThroughAsyncIterable=W.builderThroughIterable=W.makeBuilder=W.Builder=W.util=W.RecordBatch=W.Message=W.JSONMessageReader=W.AsyncMessageReader=W.MessageReader=W.tableToIPC=W.tableFromIPC=W.RecordBatchJSONWriter=W.RecordBatchStreamWriter=W.RecordBatchFileWriter=W.RecordBatchWriter=W.AsyncRecordBatchStreamReader=W.AsyncRecordBatchFileReader=W.RecordBatchStreamReader=W.RecordBatchFileReader=W.RecordBatchReader=W.AsyncByteQueue=W.AsyncByteStream=W.ByteStream=W.tableFromJSON=W.vectorFromArray=W.makeVector=W.Vector=W.Visitor=W.Field=W.Schema=W.tableFromArrays=W.makeTable=W.Table=W.MapRow=W.Map_=W.FixedSizeList=W.DurationNanosecond=W.DurationMicrosecond=W.DurationMillisecond=W.DurationSecond=W.Duration=W.IntervalYearMonth=W.IntervalDayTime=W.Interval=W.Dictionary=W.SparseUnion=W.DenseUnion=void 0;W.LargeUtf8Builder=W.Utf8Builder=W.SparseUnionBuilder=W.DenseUnionBuilder=W.UnionBuilder=W.TimeNanosecondBuilder=W.TimeMicrosecondBuilder=W.TimeMillisecondBuilder=W.TimeSecondBuilder=W.TimeBuilder=W.TimestampNanosecondBuilder=W.TimestampMicrosecondBuilder=W.TimestampMillisecondBuilder=W.TimestampSecondBuilder=W.TimestampBuilder=W.StructBuilder=W.NullBuilder=W.MapBuilder=W.ListBuilder=W.Uint64Builder=W.Uint32Builder=W.Uint16Builder=W.Uint8Builder=W.Int64Builder=W.Int32Builder=W.Int16Builder=W.Int8Builder=W.IntBuilder=W.DurationNanosecondBuilder=W.DurationMicrosecondBuilder=W.DurationMillisecondBuilder=W.DurationSecondBuilder=W.DurationBuilder=W.IntervalYearMonthBuilder=W.IntervalDayTimeBuilder=W.IntervalBuilder=W.Float64Builder=W.Float32Builder=W.Float16Builder=W.FloatBuilder=W.FixedSizeListBuilder=W.FixedSizeBinaryBuilder=W.DictionaryBuilder=W.DecimalBuilder=W.DateMillisecondBuilder=W.DateDayBuilder=W.DateBuilder=W.BoolBuilder=void 0;var E1=SA(),$1=aR(),PH=iA(),tH=Qh(),p1=Ak(),r1=_k(),KH=ik(),bH=Lk();E1.default.toDOMStream=p1.toDOMStream;$1.Builder.throughDOM=r1.builderThroughDOMStream;PH.RecordBatchReader.throughDOM=KH.recordBatchReaderThroughDOMStream;PH.RecordBatchFileReader.throughDOM=KH.recordBatchReaderThroughDOMStream;PH.RecordBatchStreamReader.throughDOM=KH.recordBatchReaderThroughDOMStream;tH.RecordBatchWriter.throughDOM=bH.recordBatchWriterThroughDOMStream;tH.RecordBatchFileWriter.throughDOM=bH.recordBatchWriterThroughDOMStream;tH.RecordBatchStreamWriter.throughDOM=bH.recordBatchWriterThroughDOMStream;var S=sH();Object.defineProperty(W,"DateUnit",{enumerable:!0,get:function(){return S.DateUnit}});Object.defineProperty(W,"IntervalUnit",{enumerable:!0,get:function(){return S.IntervalUnit}});Object.defineProperty(W,"MessageHeader",{enumerable:!0,get:function(){return S.MessageHeader}});Object.defineProperty(W,"MetadataVersion",{enumerable:!0,get:function(){return S.MetadataVersion}});Object.defineProperty(W,"Precision",{enumerable:!0,get:function(){return S.Precision}});Object.defineProperty(W,"TimeUnit",{enumerable:!0,get:function(){return S.TimeUnit}});Object.defineProperty(W,"Type",{enumerable:!0,get:function(){return S.Type}});Object.defineProperty(W,"UnionMode",{enumerable:!0,get:function(){return S.UnionMode}});Object.defineProperty(W,"BufferType",{enumerable:!0,get:function(){return S.BufferType}});Object.defineProperty(W,"Data",{enumerable:!0,get:function(){return S.Data}});Object.defineProperty(W,"makeData",{enumerable:!0,get:function(){return S.makeData}});Object.defineProperty(W,"DataType",{enumerable:!0,get:function(){return S.DataType}});Object.defineProperty(W,"Null",{enumerable:!0,get:function(){return S.Null}});Object.defineProperty(W,"Bool",{enumerable:!0,get:function(){return S.Bool}});Object.defineProperty(W,"Int",{enumerable:!0,get:function(){return S.Int}});Object.defineProperty(W,"Int8",{enumerable:!0,get:function(){return S.Int8}});Object.defineProperty(W,"Int16",{enumerable:!0,get:function(){return S.Int16}});Object.defineProperty(W,"Int32",{enumerable:!0,get:function(){return S.Int32}});Object.defineProperty(W,"Int64",{enumerable:!0,get:function(){return S.Int64}});Object.defineProperty(W,"Uint8",{enumerable:!0,get:function(){return S.Uint8}});Object.defineProperty(W,"Uint16",{enumerable:!0,get:function(){return S.Uint16}});Object.defineProperty(W,"Uint32",{enumerable:!0,get:function(){return S.Uint32}});Object.defineProperty(W,"Uint64",{enumerable:!0,get:function(){return S.Uint64}});Object.defineProperty(W,"Float",{enumerable:!0,get:function(){return S.Float}});Object.defineProperty(W,"Float16",{enumerable:!0,get:function(){return S.Float16}});Object.defineProperty(W,"Float32",{enumerable:!0,get:function(){return S.Float32}});Object.defineProperty(W,"Float64",{enumerable:!0,get:function(){return S.Float64}});Object.defineProperty(W,"Utf8",{enumerable:!0,get:function(){return S.Utf8}});Object.defineProperty(W,"LargeUtf8",{enumerable:!0,get:function(){return S.LargeUtf8}});Object.defineProperty(W,"Binary",{enumerable:!0,get:function(){return S.Binary}});Object.defineProperty(W,"LargeBinary",{enumerable:!0,get:function(){return S.LargeBinary}});Object.defineProperty(W,"FixedSizeBinary",{enumerable:!0,get:function(){return S.FixedSizeBinary}});Object.defineProperty(W,"Date_",{enumerable:!0,get:function(){return S.Date_}});Object.defineProperty(W,"DateDay",{enumerable:!0,get:function(){return S.DateDay}});Object.defineProperty(W,"DateMillisecond",{enumerable:!0,get:function(){return S.DateMillisecond}});Object.defineProperty(W,"Timestamp",{enumerable:!0,get:function(){return S.Timestamp}});Object.defineProperty(W,"TimestampSecond",{enumerable:!0,get:function(){return S.TimestampSecond}});Object.defineProperty(W,"TimestampMillisecond",{enumerable:!0,get:function(){return S.TimestampMillisecond}});Object.defineProperty(W,"TimestampMicrosecond",{enumerable:!0,get:function(){return S.TimestampMicrosecond}});Object.defineProperty(W,"TimestampNanosecond",{enumerable:!0,get:function(){return S.TimestampNanosecond}});Object.defineProperty(W,"Time",{enumerable:!0,get:function(){return S.Time}});Object.defineProperty(W,"TimeSecond",{enumerable:!0,get:function(){return S.TimeSecond}});Object.defineProperty(W,"TimeMillisecond",{enumerable:!0,get:function(){return S.TimeMillisecond}});Object.defineProperty(W,"TimeMicrosecond",{enumerable:!0,get:function(){return S.TimeMicrosecond}});Object.defineProperty(W,"TimeNanosecond",{enumerable:!0,get:function(){return S.TimeNanosecond}});Object.defineProperty(W,"Decimal",{enumerable:!0,get:function(){return S.Decimal}});Object.defineProperty(W,"List",{enumerable:!0,get:function(){return S.List}});Object.defineProperty(W,"Struct",{enumerable:!0,get:function(){return S.Struct}});Object.defineProperty(W,"StructRow",{enumerable:!0,get:function(){return S.StructRow}});Object.defineProperty(W,"Union",{enumerable:!0,get:function(){return S.Union}});Object.defineProperty(W,"DenseUnion",{enumerable:!0,get:function(){return S.DenseUnion}});Object.defineProperty(W,"SparseUnion",{enumerable:!0,get:function(){return S.SparseUnion}});Object.defineProperty(W,"Dictionary",{enumerable:!0,get:function(){return S.Dictionary}});Object.defineProperty(W,"Interval",{enumerable:!0,get:function(){return S.Interval}});Object.defineProperty(W,"IntervalDayTime",{enumerable:!0,get:function(){return S.IntervalDayTime}});Object.defineProperty(W,"IntervalYearMonth",{enumerable:!0,get:function(){return S.IntervalYearMonth}});Object.defineProperty(W,"Duration",{enumerable:!0,get:function(){return S.Duration}});Object.defineProperty(W,"DurationSecond",{enumerable:!0,get:function(){return S.DurationSecond}});Object.defineProperty(W,"DurationMillisecond",{enumerable:!0,get:function(){return S.DurationMillisecond}});Object.defineProperty(W,"DurationMicrosecond",{enumerable:!0,get:function(){return S.DurationMicrosecond}});Object.defineProperty(W,"DurationNanosecond",{enumerable:!0,get:function(){return S.DurationNanosecond}});Object.defineProperty(W,"FixedSizeList",{enumerable:!0,get:function(){return S.FixedSizeList}});Object.defineProperty(W,"Map_",{enumerable:!0,get:function(){return S.Map_}});Object.defineProperty(W,"MapRow",{enumerable:!0,get:function(){return S.MapRow}});Object.defineProperty(W,"Table",{enumerable:!0,get:function(){return S.Table}});Object.defineProperty(W,"makeTable",{enumerable:!0,get:function(){return S.makeTable}});Object.defineProperty(W,"tableFromArrays",{enumerable:!0,get:function(){return S.tableFromArrays}});Object.defineProperty(W,"Schema",{enumerable:!0,get:function(){return S.Schema}});Object.defineProperty(W,"Field",{enumerable:!0,get:function(){return S.Field}});Object.defineProperty(W,"Visitor",{enumerable:!0,get:function(){return S.Visitor}});Object.defineProperty(W,"Vector",{enumerable:!0,get:function(){return S.Vector}});Object.defineProperty(W,"makeVector",{enumerable:!0,get:function(){return S.makeVector}});Object.defineProperty(W,"vectorFromArray",{enumerable:!0,get:function(){return S.vectorFromArray}});Object.defineProperty(W,"tableFromJSON",{enumerable:!0,get:function(){return S.tableFromJSON}});Object.defineProperty(W,"ByteStream",{enumerable:!0,get:function(){return S.ByteStream}});Object.defineProperty(W,"AsyncByteStream",{enumerable:!0,get:function(){return S.AsyncByteStream}});Object.defineProperty(W,"AsyncByteQueue",{enumerable:!0,get:function(){return S.AsyncByteQueue}});Object.defineProperty(W,"RecordBatchReader",{enumerable:!0,get:function(){return S.RecordBatchReader}});Object.defineProperty(W,"RecordBatchFileReader",{enumerable:!0,get:function(){return S.RecordBatchFileReader}});Object.defineProperty(W,"RecordBatchStreamReader",{enumerable:!0,get:function(){return S.RecordBatchStreamReader}});Object.defineProperty(W,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return S.AsyncRecordBatchFileReader}});Object.defineProperty(W,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return S.AsyncRecordBatchStreamReader}});Object.defineProperty(W,"RecordBatchWriter",{enumerable:!0,get:function(){return S.RecordBatchWriter}});Object.defineProperty(W,"RecordBatchFileWriter",{enumerable:!0,get:function(){return S.RecordBatchFileWriter}});Object.defineProperty(W,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return S.RecordBatchStreamWriter}});Object.defineProperty(W,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return S.RecordBatchJSONWriter}});Object.defineProperty(W,"tableFromIPC",{enumerable:!0,get:function(){return S.tableFromIPC}});Object.defineProperty(W,"tableToIPC",{enumerable:!0,get:function(){return S.tableToIPC}});Object.defineProperty(W,"MessageReader",{enumerable:!0,get:function(){return S.MessageReader}});Object.defineProperty(W,"AsyncMessageReader",{enumerable:!0,get:function(){return S.AsyncMessageReader}});Object.defineProperty(W,"JSONMessageReader",{enumerable:!0,get:function(){return S.JSONMessageReader}});Object.defineProperty(W,"Message",{enumerable:!0,get:function(){return S.Message}});Object.defineProperty(W,"RecordBatch",{enumerable:!0,get:function(){return S.RecordBatch}});Object.defineProperty(W,"util",{enumerable:!0,get:function(){return S.util}});Object.defineProperty(W,"Builder",{enumerable:!0,get:function(){return S.Builder}});Object.defineProperty(W,"makeBuilder",{enumerable:!0,get:function(){return S.makeBuilder}});Object.defineProperty(W,"builderThroughIterable",{enumerable:!0,get:function(){return S.builderThroughIterable}});Object.defineProperty(W,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return S.builderThroughAsyncIterable}});var l=sH();Object.defineProperty(W,"BinaryBuilder",{enumerable:!0,get:function(){return l.BinaryBuilder}});Object.defineProperty(W,"LargeBinaryBuilder",{enumerable:!0,get:function(){return l.LargeBinaryBuilder}});Object.defineProperty(W,"BoolBuilder",{enumerable:!0,get:function(){return l.BoolBuilder}});Object.defineProperty(W,"DateBuilder",{enumerable:!0,get:function(){return l.DateBuilder}});Object.defineProperty(W,"DateDayBuilder",{enumerable:!0,get:function(){return l.DateDayBuilder}});Object.defineProperty(W,"DateMillisecondBuilder",{enumerable:!0,get:function(){return l.DateMillisecondBuilder}});Object.defineProperty(W,"DecimalBuilder",{enumerable:!0,get:function(){return l.DecimalBuilder}});Object.defineProperty(W,"DictionaryBuilder",{enumerable:!0,get:function(){return l.DictionaryBuilder}});Object.defineProperty(W,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return l.FixedSizeBinaryBuilder}});Object.defineProperty(W,"FixedSizeListBuilder",{enumerable:!0,get:function(){return l.FixedSizeListBuilder}});Object.defineProperty(W,"FloatBuilder",{enumerable:!0,get:function(){return l.FloatBuilder}});Object.defineProperty(W,"Float16Builder",{enumerable:!0,get:function(){return l.Float16Builder}});Object.defineProperty(W,"Float32Builder",{enumerable:!0,get:function(){return l.Float32Builder}});Object.defineProperty(W,"Float64Builder",{enumerable:!0,get:function(){return l.Float64Builder}});Object.defineProperty(W,"IntervalBuilder",{enumerable:!0,get:function(){return l.IntervalBuilder}});Object.defineProperty(W,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return l.IntervalDayTimeBuilder}});Object.defineProperty(W,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return l.IntervalYearMonthBuilder}});Object.defineProperty(W,"DurationBuilder",{enumerable:!0,get:function(){return l.DurationBuilder}});Object.defineProperty(W,"DurationSecondBuilder",{enumerable:!0,get:function(){return l.DurationSecondBuilder}});Object.defineProperty(W,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return l.DurationMillisecondBuilder}});Object.defineProperty(W,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return l.DurationMicrosecondBuilder}});Object.defineProperty(W,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return l.DurationNanosecondBuilder}});Object.defineProperty(W,"IntBuilder",{enumerable:!0,get:function(){return l.IntBuilder}});Object.defineProperty(W,"Int8Builder",{enumerable:!0,get:function(){return l.Int8Builder}});Object.defineProperty(W,"Int16Builder",{enumerable:!0,get:function(){return l.Int16Builder}});Object.defineProperty(W,"Int32Builder",{enumerable:!0,get:function(){return l.Int32Builder}});Object.defineProperty(W,"Int64Builder",{enumerable:!0,get:function(){return l.Int64Builder}});Object.defineProperty(W,"Uint8Builder",{enumerable:!0,get:function(){return l.Uint8Builder}});Object.defineProperty(W,"Uint16Builder",{enumerable:!0,get:function(){return l.Uint16Builder}});Object.defineProperty(W,"Uint32Builder",{enumerable:!0,get:function(){return l.Uint32Builder}});Object.defineProperty(W,"Uint64Builder",{enumerable:!0,get:function(){return l.Uint64Builder}});Object.defineProperty(W,"ListBuilder",{enumerable:!0,get:function(){return l.ListBuilder}});Object.defineProperty(W,"MapBuilder",{enumerable:!0,get:function(){return l.MapBuilder}});Object.defineProperty(W,"NullBuilder",{enumerable:!0,get:function(){return l.NullBuilder}});Object.defineProperty(W,"StructBuilder",{enumerable:!0,get:function(){return l.StructBuilder}});Object.defineProperty(W,"TimestampBuilder",{enumerable:!0,get:function(){return l.TimestampBuilder}});Object.defineProperty(W,"TimestampSecondBuilder",{enumerable:!0,get:function(){return l.TimestampSecondBuilder}});Object.defineProperty(W,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return l.TimestampMillisecondBuilder}});Object.defineProperty(W,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return l.TimestampMicrosecondBuilder}});Object.defineProperty(W,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return l.TimestampNanosecondBuilder}});Object.defineProperty(W,"TimeBuilder",{enumerable:!0,get:function(){return l.TimeBuilder}});Object.defineProperty(W,"TimeSecondBuilder",{enumerable:!0,get:function(){return l.TimeSecondBuilder}});Object.defineProperty(W,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return l.TimeMillisecondBuilder}});Object.defineProperty(W,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return l.TimeMicrosecondBuilder}});Object.defineProperty(W,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return l.TimeNanosecondBuilder}});Object.defineProperty(W,"UnionBuilder",{enumerable:!0,get:function(){return l.UnionBuilder}});Object.defineProperty(W,"DenseUnionBuilder",{enumerable:!0,get:function(){return l.DenseUnionBuilder}});Object.defineProperty(W,"SparseUnionBuilder",{enumerable:!0,get:function(){return l.SparseUnionBuilder}});Object.defineProperty(W,"Utf8Builder",{enumerable:!0,get:function(){return l.Utf8Builder}});Object.defineProperty(W,"LargeUtf8Builder",{enumerable:!0,get:function(){return l.LargeUtf8Builder}})});var ZB=a((nH)=>{Object.defineProperty(nH,"__esModule",{value:!0});var F1=KR(),e1=SA(),l1=aR(),d1=iA(),j1=Qh(),u1=eI(),Z1=uI(),w1=QI(),U1=VI();e1.default.toNodeStream=u1.toNodeStream;l1.Builder.throughNode=Z1.builderThroughNodeStream;d1.RecordBatchReader.throughNode=w1.recordBatchReaderThroughNodeStream;j1.RecordBatchWriter.throughNode=U1.recordBatchWriterThroughNodeStream;F1.__exportStar(Pk(),nH)});var EH=a(()=>{/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var tk;(function(R){(function(T){var A=typeof globalThis==="object"?globalThis:typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:_(),h=C(R);if(typeof A.Reflect<"u")h=C(A.Reflect,h);if(T(h,A),typeof A.Reflect>"u")A.Reflect=R;function C(O,H){return function(i,J){if(Object.defineProperty(O,i,{configurable:!0,writable:!0,value:J}),H)H(i,J)}}function B(){try{return Function("return this;")()}catch(O){}}function D(){try{return(0,eval)("(function() { return this; })()")}catch(O){}}function _(){return B()||D()}})(function(T,A){var h=Object.prototype.hasOwnProperty,C=typeof Symbol==="function",B=C&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",D=C&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",_=typeof Object.create==="function",O={__proto__:[]}instanceof Array,H=!_&&!O,i={create:_?function(){return BD(Object.create(null))}:O?function(){return BD({__proto__:null})}:function(){return BD({})},has:H?function(q,o){return h.call(q,o)}:function(q,o){return o in q},get:H?function(q,o){return h.call(q,o)?q[o]:void 0}:function(q,o){return q[o]}},J=Object.getPrototypeOf(Function),P=typeof Map==="function"&&typeof Map.prototype.entries==="function"?Map:cS(),U=typeof Set==="function"&&typeof Set.prototype.entries==="function"?Set:oS(),t=typeof WeakMap==="function"?WeakMap:JS(),Y=C?Symbol.for("@reflect-metadata:registry"):void 0,WR=LS(),xR=WS(WR);function AR(q,o,k,y){if(!Z(k)){if(!Ii(q))throw TypeError();if(!kR(o))throw TypeError();if(!kR(y)&&!Z(y)&&!oA(y))throw TypeError();if(oA(y))y=void 0;return k=yT(k),DS(q,o,k,y)}else{if(!Ii(q))throw TypeError();if(!ki(o))throw TypeError();return BS(q,o)}}T("decorate",AR);function FR(q,o){function k(y,E){if(!kR(y))throw TypeError();if(!Z(E)&&!qS(E))throw TypeError();Wi(q,o,y,E)}return k}T("metadata",FR);function fR(q,o,k,y){if(!kR(k))throw TypeError();if(!Z(y))y=yT(y);return Wi(q,o,k,y)}T("defineMetadata",fR);function HT(q,o,k){if(!kR(o))throw TypeError();if(!Z(k))k=yT(k);return qi(q,o,k)}T("hasMetadata",HT);function dT(q,o,k){if(!kR(o))throw TypeError();if(!Z(k))k=yT(k);return AD(q,o,k)}T("hasOwnMetadata",dT);function RS(q,o,k){if(!kR(o))throw TypeError();if(!Z(k))k=yT(k);return ai(q,o,k)}T("getMetadata",RS);function TS(q,o,k){if(!kR(o))throw TypeError();if(!Z(k))k=yT(k);return Li(q,o,k)}T("getOwnMetadata",TS);function AS(q,o){if(!kR(q))throw TypeError();if(!Z(o))o=yT(o);return Ni(q,o)}T("getMetadataKeys",AS);function hS(q,o){if(!kR(q))throw TypeError();if(!Z(o))o=yT(o);return ci(q,o)}T("getOwnMetadataKeys",hS);function CS(q,o,k){if(!kR(o))throw TypeError();if(!Z(k))k=yT(k);if(!kR(o))throw TypeError();if(!Z(k))k=yT(k);var y=Hh(o,k,!1);if(Z(y))return!1;return y.OrdinaryDeleteMetadata(q,o,k)}T("deleteMetadata",CS);function BS(q,o){for(var k=q.length-1;k>=0;--k){var y=q[k],E=y(o);if(!Z(E)&&!oA(E)){if(!ki(E))throw TypeError();o=E}}return o}function DS(q,o,k,y){for(var E=q.length-1;E>=0;--E){var SR=q[E],PR=SR(o,k,y);if(!Z(PR)&&!oA(PR)){if(!kR(PR))throw TypeError();y=PR}}return y}function qi(q,o,k){var y=AD(q,o,k);if(y)return!0;var E=CD(o);if(!oA(E))return qi(q,E,k);return!1}function AD(q,o,k){var y=Hh(o,k,!1);if(Z(y))return!1;return Ji(y.OrdinaryHasOwnMetadata(q,o,k))}function ai(q,o,k){var y=AD(q,o,k);if(y)return Li(q,o,k);var E=CD(o);if(!oA(E))return ai(q,E,k);return}function Li(q,o,k){var y=Hh(o,k,!1);if(Z(y))return;return y.OrdinaryGetOwnMetadata(q,o,k)}function Wi(q,o,k,y){var E=Hh(k,y,!0);E.OrdinaryDefineOwnMetadata(q,o,k,y)}function Ni(q,o){var k=ci(q,o),y=CD(q);if(y===null)return k;var E=Ni(y,o);if(E.length<=0)return k;if(k.length<=0)return E;var SR=new U,PR=[];for(var M=0,s=k;M<s.length;M++){var K=s[M],b=SR.has(K);if(!b)SR.add(K),PR.push(K)}for(var n=0,v=E;n<v.length;n++){var K=v[n],b=SR.has(K);if(!b)SR.add(K),PR.push(K)}return PR}function ci(q,o){var k=Hh(q,o,!1);if(!k)return[];return k.OrdinaryOwnMetadataKeys(q,o)}function oi(q){if(q===null)return 1;switch(typeof q){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return q===null?1:6;default:return 6}}function Z(q){return q===void 0}function oA(q){return q===null}function _S(q){return typeof q==="symbol"}function kR(q){return typeof q==="object"?q!==null:typeof q==="function"}function OS(q,o){switch(oi(q)){case 0:return q;case 1:return q;case 2:return q;case 3:return q;case 4:return q;case 5:return q}var k=o===3?"string":o===5?"number":"default",y=Si(q,B);if(y!==void 0){var E=y.call(q,k);if(kR(E))throw TypeError();return E}return HS(q,k==="default"?"number":k)}function HS(q,o){if(o==="string"){var k=q.toString;if(JA(k)){var y=k.call(q);if(!kR(y))return y}var E=q.valueOf;if(JA(E)){var y=E.call(q);if(!kR(y))return y}}else{var E=q.valueOf;if(JA(E)){var y=E.call(q);if(!kR(y))return y}var SR=q.toString;if(JA(SR)){var y=SR.call(q);if(!kR(y))return y}}throw TypeError()}function Ji(q){return!!q}function iS(q){return""+q}function yT(q){var o=OS(q,3);if(_S(o))return o;return iS(o)}function Ii(q){return Array.isArray?Array.isArray(q):q instanceof Object?q instanceof Array:Object.prototype.toString.call(q)==="[object Array]"}function JA(q){return typeof q==="function"}function ki(q){return typeof q==="function"}function qS(q){switch(oi(q)){case 3:return!0;case 4:return!0;default:return!1}}function hD(q,o){return q===o||q!==q&&o!==o}function Si(q,o){var k=q[o];if(k===void 0||k===null)return;if(!JA(k))throw TypeError();return k}function yi(q){var o=Si(q,D);if(!JA(o))throw TypeError();var k=o.call(q);if(!kR(k))throw TypeError();return k}function gi(q){return q.value}function si(q){var o=q.next();return o.done?!1:o}function Pi(q){var o=q.return;if(o)o.call(q)}function CD(q){var o=Object.getPrototypeOf(q);if(typeof q!=="function"||q===J)return o;if(o!==J)return o;var k=q.prototype,y=k&&Object.getPrototypeOf(k);if(y==null||y===Object.prototype)return o;var E=y.constructor;if(typeof E!=="function")return o;if(E===q)return o;return E}function aS(){var q;if(!Z(Y)&&typeof A.Reflect<"u"&&!(Y in A.Reflect)&&typeof A.Reflect.defineMetadata==="function")q=NS(A.Reflect);var o,k,y,E=new t,SR={registerProvider:PR,getProvider:s,setProvider:b};return SR;function PR(n){if(!Object.isExtensible(SR))throw Error("Cannot add provider to a frozen registry.");switch(!0){case q===n:break;case Z(o):o=n;break;case o===n:break;case Z(k):k=n;break;case k===n:break;default:if(y===void 0)y=new U;y.add(n);break}}function M(n,v){if(!Z(o)){if(o.isProviderFor(n,v))return o;if(!Z(k)){if(k.isProviderFor(n,v))return o;if(!Z(y)){var qR=yi(y);while(!0){var yR=si(qR);if(!yR)return;var iT=gi(yR);if(iT.isProviderFor(n,v))return Pi(qR),iT}}}}if(!Z(q)&&q.isProviderFor(n,v))return q;return}function s(n,v){var qR=E.get(n),yR;if(!Z(qR))yR=qR.get(v);if(!Z(yR))return yR;if(yR=M(n,v),!Z(yR)){if(Z(qR))qR=new P,E.set(n,qR);qR.set(v,yR)}return yR}function K(n){if(Z(n))throw TypeError();return o===n||k===n||!Z(y)&&y.has(n)}function b(n,v,qR){if(!K(qR))throw Error("Metadata provider not registered.");var yR=s(n,v);if(yR!==qR){if(!Z(yR))return!1;var iT=E.get(n);if(Z(iT))iT=new P,E.set(n,iT);iT.set(v,qR)}return!0}}function LS(){var q;if(!Z(Y)&&kR(A.Reflect)&&Object.isExtensible(A.Reflect))q=A.Reflect[Y];if(Z(q))q=aS();if(!Z(Y)&&kR(A.Reflect)&&Object.isExtensible(A.Reflect))Object.defineProperty(A.Reflect,Y,{enumerable:!1,configurable:!1,writable:!1,value:q});return q}function WS(q){var o=new t,k={isProviderFor:function(K,b){var n=o.get(K);if(Z(n))return!1;return n.has(b)},OrdinaryDefineOwnMetadata:PR,OrdinaryHasOwnMetadata:E,OrdinaryGetOwnMetadata:SR,OrdinaryOwnMetadataKeys:M,OrdinaryDeleteMetadata:s};return WR.registerProvider(k),k;function y(K,b,n){var v=o.get(K),qR=!1;if(Z(v)){if(!n)return;v=new P,o.set(K,v),qR=!0}var yR=v.get(b);if(Z(yR)){if(!n)return;if(yR=new P,v.set(b,yR),!q.setProvider(K,b,k)){if(v.delete(b),qR)o.delete(K);throw Error("Wrong provider for target.")}}return yR}function E(K,b,n){var v=y(b,n,!1);if(Z(v))return!1;return Ji(v.has(K))}function SR(K,b,n){var v=y(b,n,!1);if(Z(v))return;return v.get(K)}function PR(K,b,n,v){var qR=y(n,v,!0);qR.set(K,b)}function M(K,b){var n=[],v=y(K,b,!1);if(Z(v))return n;var qR=v.keys(),yR=yi(qR),iT=0;while(!0){var ti=si(yR);if(!ti)return n.length=iT,n;var IS=gi(ti);try{n[iT]=IS}catch(kS){try{Pi(yR)}finally{throw kS}}iT++}}function s(K,b,n){var v=y(b,n,!1);if(Z(v))return!1;if(!v.delete(K))return!1;if(v.size===0){var qR=o.get(b);if(!Z(qR)){if(qR.delete(n),qR.size===0)o.delete(qR)}}return!0}}function NS(q){var{defineMetadata:o,hasOwnMetadata:k,getOwnMetadata:y,getOwnMetadataKeys:E,deleteMetadata:SR}=q,PR=new t,M={isProviderFor:function(s,K){var b=PR.get(s);if(!Z(b)&&b.has(K))return!0;if(E(s,K).length){if(Z(b))b=new U,PR.set(s,b);return b.add(K),!0}return!1},OrdinaryDefineOwnMetadata:o,OrdinaryHasOwnMetadata:k,OrdinaryGetOwnMetadata:y,OrdinaryOwnMetadataKeys:E,OrdinaryDeleteMetadata:SR};return M}function Hh(q,o,k){var y=WR.getProvider(q,o);if(!Z(y))return y;if(k){if(WR.setProvider(q,o,xR))return xR;throw Error("Illegal state.")}return}function cS(){var q={},o=[],k=function(){function M(s,K,b){this._index=0,this._keys=s,this._values=K,this._selector=b}return M.prototype["@@iterator"]=function(){return this},M.prototype[D]=function(){return this},M.prototype.next=function(){var s=this._index;if(s>=0&&s<this._keys.length){var K=this._selector(this._keys[s],this._values[s]);if(s+1>=this._keys.length)this._index=-1,this._keys=o,this._values=o;else this._index++;return{value:K,done:!1}}return{value:void 0,done:!0}},M.prototype.throw=function(s){if(this._index>=0)this._index=-1,this._keys=o,this._values=o;throw s},M.prototype.return=function(s){if(this._index>=0)this._index=-1,this._keys=o,this._values=o;return{value:s,done:!0}},M}(),y=function(){function M(){this._keys=[],this._values=[],this._cacheKey=q,this._cacheIndex=-2}return Object.defineProperty(M.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),M.prototype.has=function(s){return this._find(s,!1)>=0},M.prototype.get=function(s){var K=this._find(s,!1);return K>=0?this._values[K]:void 0},M.prototype.set=function(s,K){var b=this._find(s,!0);return this._values[b]=K,this},M.prototype.delete=function(s){var K=this._find(s,!1);if(K>=0){var b=this._keys.length;for(var n=K+1;n<b;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];if(this._keys.length--,this._values.length--,hD(s,this._cacheKey))this._cacheKey=q,this._cacheIndex=-2;return!0}return!1},M.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=q,this._cacheIndex=-2},M.prototype.keys=function(){return new k(this._keys,this._values,E)},M.prototype.values=function(){return new k(this._keys,this._values,SR)},M.prototype.entries=function(){return new k(this._keys,this._values,PR)},M.prototype["@@iterator"]=function(){return this.entries()},M.prototype[D]=function(){return this.entries()},M.prototype._find=function(s,K){if(!hD(this._cacheKey,s)){this._cacheIndex=-1;for(var b=0;b<this._keys.length;b++)if(hD(this._keys[b],s)){this._cacheIndex=b;break}}if(this._cacheIndex<0&&K)this._cacheIndex=this._keys.length,this._keys.push(s),this._values.push(void 0);return this._cacheIndex},M}();return y;function E(M,s){return M}function SR(M,s){return s}function PR(M,s){return[M,s]}}function oS(){var q=function(){function o(){this._map=new P}return Object.defineProperty(o.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),o.prototype.has=function(k){return this._map.has(k)},o.prototype.add=function(k){return this._map.set(k,k),this},o.prototype.delete=function(k){return this._map.delete(k)},o.prototype.clear=function(){this._map.clear()},o.prototype.keys=function(){return this._map.keys()},o.prototype.values=function(){return this._map.keys()},o.prototype.entries=function(){return this._map.entries()},o.prototype["@@iterator"]=function(){return this.keys()},o.prototype[D]=function(){return this.keys()},o}();return q}function JS(){var q=16,o=i.create(),k=y();return function(){function s(){this._key=y()}return s.prototype.has=function(K){var b=E(K,!1);return b!==void 0?i.has(b,this._key):!1},s.prototype.get=function(K){var b=E(K,!1);return b!==void 0?i.get(b,this._key):void 0},s.prototype.set=function(K,b){var n=E(K,!0);return n[this._key]=b,this},s.prototype.delete=function(K){var b=E(K,!1);return b!==void 0?delete b[this._key]:!1},s.prototype.clear=function(){this._key=y()},s}();function y(){var s;do s="@@WeakMap@@"+M();while(i.has(o,s));return o[s]=!0,s}function E(s,K){if(!h.call(s,k)){if(!K)return;Object.defineProperty(s,k,{value:i.create()})}return s[k]}function SR(s,K){for(var b=0;b<K;++b)s[b]=Math.random()*255|0;return s}function PR(s){if(typeof Uint8Array==="function"){var K=new Uint8Array(s);if(typeof crypto<"u")crypto.getRandomValues(K);else if(typeof msCrypto<"u")msCrypto.getRandomValues(K);else SR(K,s);return K}return SR(Array(s),s)}function M(){var s=PR(q);s[6]=s[6]&79|64,s[8]=s[8]&191|128;var K="";for(var b=0;b<q;++b){var n=s[b];if(b===4||b===6||b===8)K+="-";if(n<16)K+="0";K+=n.toString(16).toLowerCase()}return K}}function BD(q){return q.__=void 0,delete q.__,q}})})(tk||(tk={}))});var aA=a((bk)=>{Object.defineProperty(bk,"__esModule",{value:!0});bk.EmbeddingFunctionRegistry=void 0;bk.register=Q1;bk.getRegistry=f1;EH();class $H{#R=new Map;#T=new Map;length(){return this.#R.size}register(R){let T=this;return function(A){if(!R)R=A.name;if(T.#R.has(R))throw Error(`Embedding function with alias "${R}" already exists`);return T.#R.set(R,A),Reflect.defineMetadata("lancedb::embedding::name",R,A),A}}get(R){let T=this.#R.get(R);if(!T)return;let A;if(T.prototype.init)A=async function(h){let C=new T(h);return await C.init(),C};else A=(h)=>new T(h);return{create:A}}reset(){this.#R.clear()}async parseFunctions(R){if(!R.has("embedding_functions"))return new Map;else{let T=JSON.parse(R.get("embedding_functions")),A=await Promise.all(T.map(async(h)=>{if(!this.get(h.name))throw Error(`Function "${h.name}" not found in registry`);let B=await this.get(h.name).create(h.model);return[h.name,{sourceColumn:h.sourceColumn,vectorColumn:h.vectorColumn,function:B}]}));return new Map(A)}}functionToMetadata(R){let T={},A=Reflect.getMetadata("lancedb::embedding::name",R.function.constructor);return T.sourceColumn=R.sourceColumn,T.vectorColumn=R.vectorColumn??"vector",T.name=A??R.function.constructor.name,T.model=R.function.toJSON(),T}getTableMetadata(R){let T=new Map,A=R.map((h)=>this.functionToMetadata(h));return T.set("embedding_functions",JSON.stringify(A)),T}setVar(R,T){if(R.includes(":"))throw Error("Variable names cannot contain colons");this.#T.set(R,T)}getVar(R){return this.#T.get(R)}}bk.EmbeddingFunctionRegistry=$H;var Kk=new $H;function Q1(R){return Kk.register(R)}function f1(){return Kk}});var Bh=a((Qk)=>{Object.defineProperty(Qk,"__esModule",{value:!0});Qk.sanitizeMetadata=rH;Qk.sanitizeInt=Ek;Qk.sanitizeFloat=$k;Qk.sanitizeDecimal=pk;Qk.sanitizeDate=rk;Qk.sanitizeTime=Xk;Qk.sanitizeTimestamp=Gk;Qk.sanitizeTypedTimestamp=Yh;Qk.sanitizeInterval=xk;Qk.sanitizeList=Fk;Qk.sanitizeStruct=ek;Qk.sanitizeUnion=lk;Qk.sanitizeTypedUnion=pH;Qk.sanitizeFixedSizeBinary=dk;Qk.sanitizeFixedSizeList=jk;Qk.sanitizeMap=uk;Qk.sanitizeDuration=Zk;Qk.sanitizeDictionary=wk;Qk.sanitizeType=wB;Qk.sanitizeField=p9;Qk.sanitizeSchema=XH;Qk.sanitizeTable=v1;Qk.dataTypeFromName=Uk;var Ch=ZB(),I=kT();function rH(R){if(R===void 0||R===null)return;if(!(R instanceof Map))throw Error("Expected metadata, if present, to be a Map<string, string>");for(let T of R)if(!(typeof T[0]==="string"||typeof T[1]!=="string"))throw Error("Expected metadata, if present, to be a Map<string, string> but it had non-string keys or values");return R}function Ek(R){if(!("bitWidth"in R)||typeof R.bitWidth!=="number"||!("isSigned"in R)||typeof R.isSigned!=="boolean")throw Error("Expected an Int Type to have a `bitWidth` and `isSigned` property");return new I.Int(R.isSigned,R.bitWidth)}function $k(R){if(!("precision"in R)||typeof R.precision!=="number")throw Error("Expected a Float Type to have a `precision` property");return new I.Float(R.precision)}function pk(R){if(!("scale"in R)||typeof R.scale!=="number"||!("precision"in R)||typeof R.precision!=="number"||!("bitWidth"in R)||typeof R.bitWidth!=="number")throw Error("Expected a Decimal Type to have `scale`, `precision`, and `bitWidth` properties");return new I.Decimal(R.scale,R.precision,R.bitWidth)}function rk(R){if(!("unit"in R)||typeof R.unit!=="number")throw Error("Expected a Date type to have a `unit` property");return new I.Date_(R.unit)}function Xk(R){if(!("unit"in R)||typeof R.unit!=="number"||!("bitWidth"in R)||typeof R.bitWidth!=="number")throw Error("Expected a Time type to have `unit` and `bitWidth` properties");return new I.Time(R.unit,R.bitWidth)}function Gk(R){if(!("unit"in R)||typeof R.unit!=="number")throw Error("Expected a Timestamp type to have a `unit` property");let T=null;if("timezone"in R&&typeof R.timezone==="string")T=R.timezone;return new I.Timestamp(R.unit,T)}function Yh(R,T){let A=null;if("timezone"in R&&typeof R.timezone==="string")A=R.timezone;return new T(A)}function xk(R){if(!("unit"in R)||typeof R.unit!=="number")throw Error("Expected an Interval type to have a `unit` property");return new I.Interval(R.unit)}function Fk(R){if(!("children"in R)||!Array.isArray(R.children))throw Error("Expected a List type to have an array-like `children` property");if(R.children.length!==1)throw Error("Expected a List type to have exactly one child");return new I.List(p9(R.children[0]))}function ek(R){if(!("children"in R)||!Array.isArray(R.children))throw Error("Expected a Struct type to have an array-like `children` property");return new I.Struct(R.children.map((T)=>p9(T)))}function lk(R){if(!("typeIds"in R)||!("mode"in R)||typeof R.mode!=="number")throw Error("Expected a Union type to have `typeIds` and `mode` properties");if(!("children"in R)||!Array.isArray(R.children))throw Error("Expected a Union type to have an array-like `children` property");return new I.Union(R.mode,R.typeIds,R.children.map((T)=>p9(T)))}function pH(R,T){if(!("typeIds"in R))throw Error("Expected a DenseUnion/SparseUnion type to have a `typeIds` property");if(!("children"in R)||!Array.isArray(R.children))throw Error("Expected a DenseUnion/SparseUnion type to have an array-like `children` property");return new T(R.typeIds,R.children.map((A)=>p9(A)))}function dk(R){if(!("byteWidth"in R)||typeof R.byteWidth!=="number")throw Error("Expected a FixedSizeBinary type to have a `byteWidth` property");return new I.FixedSizeBinary(R.byteWidth)}function jk(R){if(!("listSize"in R)||typeof R.listSize!=="number")throw Error("Expected a FixedSizeList type to have a `listSize` property");if(!("children"in R)||!Array.isArray(R.children))throw Error("Expected a FixedSizeList type to have an array-like `children` property");if(R.children.length!==1)throw Error("Expected a FixedSizeList type to have exactly one child");return new I.FixedSizeList(R.listSize,p9(R.children[0]))}function uk(R){if(!("children"in R)||!Array.isArray(R.children))throw Error("Expected a Map type to have an array-like `children` property");if(!("keysSorted"in R)||typeof R.keysSorted!=="boolean")throw Error("Expected a Map type to have a `keysSorted` property");return new I.Map_(R.children.map((T)=>p9(T)),R.keysSorted)}function Zk(R){if(!("unit"in R)||typeof R.unit!=="number")throw Error("Expected a Duration type to have a `unit` property");return new I.Duration(R.unit)}function wk(R){if(!("id"in R)||typeof R.id!=="number")throw Error("Expected a Dictionary type to have an `id` property");if(!("indices"in R)||typeof R.indices!=="object")throw Error("Expected a Dictionary type to have an `indices` property");if(!("dictionary"in R)||typeof R.dictionary!=="object")throw Error("Expected a Dictionary type to have an `dictionary` property");if(!("isOrdered"in R)||typeof R.isOrdered!=="boolean")throw Error("Expected a Dictionary type to have an `isOrdered` property");return new I.Dictionary(wB(R.dictionary),wB(R.indices),R.id,R.isOrdered)}function wB(R){if(typeof R==="string")return Uk(R);if(typeof R!=="object"||R===null)throw Error("Expected a Type but object was null/undefined");if(!("typeId"in R)||!(typeof R.typeId!=="function"||typeof R.typeId!=="number"))throw Error("Expected a Type to have a typeId property");let T;if(typeof R.typeId==="function")T=R.typeId();else if(typeof R.typeId==="number")T=R.typeId;else throw Error("Type's typeId property was not a function or number");switch(T){case I.Type.NONE:throw Error("Received a Type with a typeId of NONE");case I.Type.Null:return new I.Null;case I.Type.Int:return Ek(R);case I.Type.Float:return $k(R);case I.Type.Binary:return new I.Binary;case I.Type.Utf8:return new I.Utf8;case I.Type.Bool:return new I.Bool;case I.Type.Decimal:return pk(R);case I.Type.Date:return rk(R);case I.Type.Time:return Xk(R);case I.Type.Timestamp:return Gk(R);case I.Type.Interval:return xk(R);case I.Type.List:return Fk(R);case I.Type.Struct:return ek(R);case I.Type.Union:return lk(R);case I.Type.FixedSizeBinary:return dk(R);case I.Type.FixedSizeList:return jk(R);case I.Type.Map:return uk(R);case I.Type.Duration:return Zk(R);case I.Type.Dictionary:return wk(R);case I.Type.Int8:return new I.Int8;case I.Type.Int16:return new I.Int16;case I.Type.Int32:return new I.Int32;case I.Type.Int64:return new I.Int64;case I.Type.Uint8:return new I.Uint8;case I.Type.Uint16:return new I.Uint16;case I.Type.Uint32:return new I.Uint32;case I.Type.Uint64:return new I.Uint64;case I.Type.Float16:return new I.Float16;case I.Type.Float32:return new I.Float32;case I.Type.Float64:return new I.Float64;case I.Type.DateMillisecond:return new I.DateMillisecond;case I.Type.DateDay:return new I.DateDay;case I.Type.TimeNanosecond:return new I.TimeNanosecond;case I.Type.TimeMicrosecond:return new I.TimeMicrosecond;case I.Type.TimeMillisecond:return new I.TimeMillisecond;case I.Type.TimeSecond:return new I.TimeSecond;case I.Type.TimestampNanosecond:return Yh(R,I.TimestampNanosecond);case I.Type.TimestampMicrosecond:return Yh(R,I.TimestampMicrosecond);case I.Type.TimestampMillisecond:return Yh(R,I.TimestampMillisecond);case I.Type.TimestampSecond:return Yh(R,I.TimestampSecond);case I.Type.DenseUnion:return pH(R,I.DenseUnion);case I.Type.SparseUnion:return pH(R,I.SparseUnion);case I.Type.IntervalDayTime:return new I.IntervalDayTime;case I.Type.IntervalYearMonth:return new I.IntervalYearMonth;case I.Type.DurationNanosecond:return new I.DurationNanosecond;case I.Type.DurationMicrosecond:return new I.DurationMicrosecond;case I.Type.DurationMillisecond:return new I.DurationMillisecond;case I.Type.DurationSecond:return new I.DurationSecond;default:throw Error("Unrecognized type id in schema: "+T)}}function p9(R){if(R instanceof I.Field)return R;if(typeof R!=="object"||R===null)throw Error("Expected a Field but object was null/undefined");if(!("type"in R)||!("name"in R)||!("nullable"in R))throw Error("The field passed in is missing a `type`/`name`/`nullable` property");let T;try{T=wB(R.type)}catch(B){throw Error(`Unable to sanitize type for field: ${R.name} due to error: ${B}`,{cause:B})}let A=R.name;if(typeof A!=="string")throw Error("The field passed in had a non-string `name` property");let h=R.nullable;if(typeof h!=="boolean")throw Error("The field passed in had a non-boolean `nullable` property");let C;if("metadata"in R)C=rH(R.metadata);return new I.Field(A,T,h,C)}function XH(R){if(R instanceof I.Schema)return R;if(typeof R!=="object"||R===null)throw Error("Expected a Schema but object was null/undefined");if(!("fields"in R))throw Error("The schema passed in does not appear to be a schema (no 'fields' property)");let T;if("metadata"in R)T=rH(R.metadata);if(!Array.isArray(R.fields))throw Error("The schema passed in had a 'fields' property but it was not an array");let A=R.fields.map((h)=>p9(h));return new I.Schema(A,T)}function v1(R){if(R instanceof I.Table)return R;if(typeof R!=="object"||R===null)throw Error("Expected a Table but object was null/undefined");if(!("schema"in R))throw Error("The table passed in does not appear to be a table (no 'schema' property)");if(!("batches"in R))throw Error("The table passed in does not appear to be a table (no 'columns' property)");let T=XH(R.schema),A=R.batches.map(V1);return new I.Table(T,A)}function V1(R){if(R instanceof I.RecordBatch)return R;if(typeof R!=="object"||R===null)throw Error("Expected a RecordBatch but object was null/undefined");if(!("schema"in R))throw Error("The record batch passed in does not appear to be a record batch (no 'schema' property)");if(!("data"in R))throw Error("The record batch passed in does not appear to be a record batch (no 'data' property)");let T=XH(R.schema),A=m1(R.data);return new I.RecordBatch(T,A)}function m1(R){if(R instanceof Ch.Data)return R;return new Ch.Data(R.type,R.offset,R.length,R.nullCount,{[Ch.BufferType.OFFSET]:R.valueOffsets,[Ch.BufferType.DATA]:R.values,[Ch.BufferType.VALIDITY]:R.nullBitmap,[Ch.BufferType.TYPE]:R.typeIds})}var Y1={null:()=>new I.Null,binary:()=>new I.Binary,utf8:()=>new I.Utf8,bool:()=>new I.Bool,int8:()=>new I.Int8,int16:()=>new I.Int16,int32:()=>new I.Int32,int64:()=>new I.Int64,uint8:()=>new I.Uint8,uint16:()=>new I.Uint16,uint32:()=>new I.Uint32,uint64:()=>new I.Uint64,float16:()=>new I.Float16,float32:()=>new I.Float32,float64:()=>new I.Float64,datemillisecond:()=>new I.DateMillisecond,dateday:()=>new I.DateDay,timenanosecond:()=>new I.TimeNanosecond,timemicrosecond:()=>new I.TimeMicrosecond,timemillisecond:()=>new I.TimeMillisecond,timesecond:()=>new I.TimeSecond,intervaldaytime:()=>new I.IntervalDayTime,intervalyearmonth:()=>new I.IntervalYearMonth,durationnanosecond:()=>new I.DurationNanosecond,durationmicrosecond:()=>new I.DurationMicrosecond,durationmillisecond:()=>new I.DurationMillisecond,durationsecond:()=>new I.DurationSecond};function Uk(R){let T=R.toLowerCase(),A=Y1[T];if(!A)throw Error("Unrecognized type name in schema: "+R);return A()}});var kT=a((u)=>{var gE=u&&u.__createBinding||(Object.create?function(R,T,A,h){if(h===void 0)h=A;var C=Object.getOwnPropertyDescriptor(T,A);if(!C||("get"in C?!T.__esModule:C.writable||C.configurable))C={enumerable:!0,get:function(){return T[A]}};Object.defineProperty(R,h,C)}:function(R,T,A,h){if(h===void 0)h=A;R[h]=T[A]}),sE=u&&u.__exportStar||function(R,T){for(var A in R)if(A!=="default"&&!Object.prototype.hasOwnProperty.call(T,A))gE(T,R,A)};Object.defineProperty(u,"__esModule",{value:!0});u.MakeArrowTableOptions=u.VectorColumnOptions=void 0;u.isMultiVector=tE;u.isIntoVector=zk;u.isArrowTable=Mk;u.isNull=KE;u.isInt=bE;u.isFloat=nE;u.isBinary=EE;u.isLargeBinary=$E;u.isUtf8=pE;u.isLargeUtf8=rE;u.isBool=XE;u.isDecimal=GE;u.isDate=xE;u.isTime=FE;u.isTimestamp=eE;u.isInterval=lE;u.isDuration=dE;u.isList=jE;u.isStruct=uE;u.isUnion=ZE;u.isFixedSizeBinary=wE;u.isFixedSizeList=lH;u.makeArrowTable=uH;u.makeEmptyTable=fE;u.convertToTable=zB;u.newVectorType=FH;u.fromRecordsToBuffer=vE;u.fromRecordsToStreamBuffer=VE;u.fromTableToBuffer=QB;u.fromDataToBuffer=mE;u.fromBufferToRecordBatch=YE;u.fromRecordBatchToBuffer=R$;u.fromTableToStreamBuffer=T$;u.createEmptyTable=h$;u.ensureNestedFieldsExist=Yk;u.dataTypeToJson=fB;var L=ZB(),fk=aA(),_T=Bh();function PE(R){let T=R.toLowerCase();return T.includes("vector")||T.includes("embedding")}sE(ZB(),u);function tE(R){return Array.isArray(R)&&zk(R[0])}function zk(R){return R instanceof Float32Array||R instanceof Float64Array||Array.isArray(R)&&!Array.isArray(R[0])}function Mk(R){if(R instanceof L.Table)return!0;return"schema"in R&&"batches"in R}function KE(R){return R instanceof L.Null||L.DataType.isNull(R)}function bE(R){return R instanceof L.Int||L.DataType.isInt(R)}function nE(R){return R instanceof L.Float||L.DataType.isFloat(R)}function EE(R){return R instanceof L.Binary||L.DataType.isBinary(R)}function $E(R){return R instanceof L.LargeBinary||L.DataType.isLargeBinary(R)}function pE(R){return R instanceof L.Utf8||L.DataType.isUtf8(R)}function rE(R){return R instanceof L.Utf8||L.DataType.isLargeUtf8(R)}function XE(R){return R instanceof L.Utf8||L.DataType.isBool(R)}function GE(R){return R instanceof L.Utf8||L.DataType.isDecimal(R)}function xE(R){return R instanceof L.Utf8||L.DataType.isDate(R)}function FE(R){return R instanceof L.Utf8||L.DataType.isTime(R)}function eE(R){return R instanceof L.Utf8||L.DataType.isTimestamp(R)}function lE(R){return R instanceof L.Utf8||L.DataType.isInterval(R)}function dE(R){return R instanceof L.Utf8||L.DataType.isDuration(R)}function jE(R){return R instanceof L.List||L.DataType.isList(R)}function uE(R){return R instanceof L.Struct||L.DataType.isStruct(R)}function ZE(R){return R instanceof L.Struct||L.DataType.isUnion(R)}function wE(R){return R instanceof L.FixedSizeBinary||L.DataType.isFixedSizeBinary(R)}function lH(R){return R instanceof L.FixedSizeList||L.DataType.isFixedSizeList(R)}class dH{type=new L.Float32;constructor(R){Object.assign(this,R)}}u.VectorColumnOptions=dH;function UB(R,T){if(L.DataType.isFixedSizeList(T)&&L.DataType.isFloat(T.valueType)){let A=[...R,Array(T.listSize).fill(0)];return(0,L.vectorFromArray)(A,T).slice(0,R.length)}else if(T===void 0)return(0,L.vectorFromArray)(R);else return(0,L.vectorFromArray)(R,T)}class jH{schema;vectorColumns={vector:new dH};embeddings;embeddingFunction;dictionaryEncodeStrings=!1;constructor(R){Object.assign(this,R)}}u.MakeArrowTableOptions=jH;function uH(R,T,A){let h=new jH(T!==void 0?T:{}),C=void 0;if(h.schema!==void 0&&h.schema!==null)C=(0,_T.sanitizeSchema)(h.schema),C=C$(C,R,T?.embeddingFunction);let B=C?.metadata||new Map;if(A!==void 0)B=new Map([...B,...A]);if(R.length===0&&(T?.schema===void 0||T?.schema===null))throw Error("At least one record or a schema needs to be provided");else if(R.length===0)if(C===void 0)throw Error("A schema must be provided if data is empty");else return C=new L.Schema(C.fields,B),new L.Table(C);let D=UE(R,C,h);D=new L.Schema(D.fields,B);let _={};for(let O of D.fields)_[O.name]=mk(R,O);return new L.Table(D,_)}function UE(R,T,A){let h=new LA;for(let[C,B]of R.entries())for(let[D,_]of vk(B))if(!h.has(D))if(T!==void 0){let O=QE(T,D);if(O===void 0)throw Error(`Found field not in schema: ${D.join(".")} at row ${C}`);else h.set(D,O.type)}else{let O=xH(_,D,A);if(O===void 0)throw Error(`Failed to infer data type for field ${D.join(".")} at row ${C}.                              Consider providing an explicit schema.`);h.set(D,O)}else if(T===void 0){let O=h.get(D),H=xH(_,D,A);if(O!==H)Error(`Failed to infer schema for data. Previously inferred type                      ${O} but found ${H} at row ${C}. Consider                      providing an explicit schema.`)}if(T===void 0){let C=function(D){let _=[];for(let[O,H]of D.map.entries())if(H instanceof LA){let i=C(H);_.push(new L.Field(O,new L.Struct(i),!0))}else _.push(new L.Field(O,H,!0));return _},B=C(h);return new L.Schema(B)}else{let C=function(D,_){let O=[];for(let H of D)if(_.map.has(H.name)){let i=_.get([H.name]);if(i instanceof LA){let J=H.type,P=C(J.children,i);O.push(new L.Field(H.name,new L.Struct(P),H.nullable))}else O.push(new L.Field(H.name,i,H.nullable))}return O},B=C(T.fields,h);return new L.Schema(B)}}function*vk(R,T=[]){for(let[A,h]of Object.entries(R))if(Vk(h))yield*vk(h,[...T,A]);else if(h!==void 0)yield[[...T,A],h]}function Vk(R){return typeof R==="object"&&R!==null&&!Array.isArray(R)&&!(R instanceof RegExp)&&!(R instanceof Date)&&!(R instanceof Set)&&!(R instanceof Map)&&!(R instanceof Buffer)}function QE(R,T){let A=R;for(let h of T)if(A instanceof L.Schema){let C=A.fields.find((B)=>B.name===h);if(C===void 0)return;A=C}else if(A instanceof L.Field&&L.DataType.isStruct(A.type)){let B=A.type.children.find((D)=>D.name===h);if(B===void 0)return;A=B}else return;if(A instanceof L.Field)return A;else return}function xH(R,T,A){if(typeof R==="bigint")return new L.Int64;else if(typeof R==="number")return new L.Float64;else if(typeof R==="string")if(A.dictionaryEncodeStrings)return new L.Dictionary(new L.Utf8,new L.Int32);else return new L.Utf8;else if(typeof R==="boolean")return new L.Bool;else if(R instanceof Buffer)return new L.Binary;else if(Array.isArray(R)){if(R.length===0)return;if(T.length===1&&Object.hasOwn(A.vectorColumns,T[0])){let C=(0,_T.sanitizeType)(A.vectorColumns[T[0]].type);return new L.FixedSizeList(R.length,new L.Field("item",C,!0))}let h=xH(R[0],T,A);if(h===void 0)return;if(PE(T[T.length-1]))if(R instanceof Uint8Array){let C=new L.Field("item",new L.Uint8,!0);return new L.FixedSizeList(R.length,C)}else{let C=new L.Field("item",new L.Float32,!0);return new L.FixedSizeList(R.length,C)}else{let C=new L.Field("item",h,!0);return new L.List(C)}}else return}class LA{map;constructor(R){if(this.map=new Map,R!==void 0)for(let[T,A]of R)this.set(T,A)}has(R){let T=this;for(let A of R){if(!(T instanceof LA)||!T.map.has(A))return!1;T=T.map.get(A)}return!0}get(R){let T=this;for(let A of R){if(!(T instanceof LA)||!T.map.has(A))return;T=T.map.get(A)}return T}set(R,T){let A=this;for(let h of R.slice(0,R.length-1)){if(!A.map.has(h))A.map.set(h,new LA);A=A.map.get(h)}A.map.set(R[R.length-1],T)}}function mk(R,T,A=[]){if(T.type instanceof L.Struct){let h=T.type.children,C=[...A,T.name],B=h.map((_)=>{return mk(R,_,C)}),D=(0,L.makeData)({type:T.type,children:B});return(0,L.makeVector)(D)}else{let h=[...A,T.name],C=R.map((B)=>{let D=B;for(let _ of h){if(D==null)return null;if(Vk(D)&&(Object.hasOwn(D,_)||(_ in D)))D=D[_];else return null}return D});return WA(C,T.type,void 0,T.nullable)}}function fE(R,T){return uH([],{schema:R},T)}function zE(R){if(R.length===0||R[0].length===0)throw Error("Cannot infer list vector from empty array or empty list");let T=R[0],A;try{A=WA(T).type}catch(C){throw Error(`Cannot infer list vector.  Cannot infer inner type: ${C}`)}let h=(0,L.makeBuilder)({type:new L.List(new L.Field("item",A,!0))});for(let C of R)h.append(C);return h.finish().toVector()}function WA(R,T,A,h){if(T!==void 0){if(h)R=R.map((B)=>B===void 0?null:B);if(L.DataType.isBool(T)){if(!R.some((D)=>D!==null&&D!==void 0)){let D=new Uint8Array(Math.ceil(R.length/8)),_=(0,L.makeData)({type:T,length:R.length,nullCount:R.length,nullBitmap:D});return(0,L.makeVector)(_)}}if(T instanceof L.Int)if(L.DataType.isInt(T)&&T.bitWidth===64)R=R.map((B)=>{if(B===null)return B;else if(typeof B==="bigint")return B;else if(typeof B==="number")return BigInt(B);else return B});else R=R.map((B)=>{if(typeof B=="bigint")return Number(B);else return B});return UB(R,T)}if(R.length===0)throw Error("makeVector requires at least one value or the type must be specfied");let C=R.find((B)=>B!==null&&B!==void 0);if(C===void 0)throw Error("makeVector cannot infer the type if all values are null or undefined");if(Array.isArray(C))return zE(R);else if(Buffer.isBuffer(C))return UB(R,new L.Binary);else if(!(A??!1)&&(typeof C==="string"||C instanceof String))return UB(R,new L.Utf8);else return UB(R)}async function ME(R,T){let h=await(0,fk.getRegistry)().parseFunctions(T.metadata),C=Object.fromEntries(R.schema.fields.map((D)=>[D.name,R.getChild(D.name)]));for(let D of h.values()){let _=C[D.sourceColumn],O=D.vectorColumn??"vector";if(_===void 0)throw Error(`Cannot apply embedding function because the source column '${D.sourceColumn}' was not present in the data`);if(C[O]!==void 0){let t=C[O];if(t.nullCount!==t.length)continue}if(R.batches.length>1)throw Error("Internal error: `makeArrowTable` unexpectedly created a table with more than one batch");let H=_.toArray(),i=await D.function.computeSourceEmbeddings(H);if(i.length!==H.length)throw Error("Embedding function did not return an embedding for each input element");let J,P=T.fields.find((t)=>t.name===O).type;if(lH(P))J=(0,_T.sanitizeType)(P);else throw Error("Expected FixedSizeList as datatype for vector field, instead got: "+P);let U=WA(i,J);C[O]=U}for(let D of T.fields)if(!(D.name in C)){let _=Array(R.numRows).fill(null);C[D.name]=WA(_,D.type,void 0,D.nullable)}let B=new L.Table(C);return eH(B,T)}async function ZH(R,T,A){if(A!==void 0&&A!==null)A=(0,_T.sanitizeSchema)(A);if(A?.metadata.has("embedding_functions"))return ME(R,A);else if(T==null||T===void 0)return R;let h=A?.metadata||new Map;if(!(T==null||T===void 0)){let J=(0,fk.getRegistry)().getTableMetadata([T]);h=new Map([...h,...J])}let C=[...Array(R.numCols).keys()].map((i,J)=>{let P=R.schema.fields[J].name,U=R.getChildAt(J);return[P,U]}),B=Object.fromEntries(C),D=B[T.sourceColumn],_=T.vectorColumn??"vector",O=T.function.embeddingDataType()??new L.Float32;if(D===void 0)throw Error(`Cannot apply embedding function because the source column '${T.sourceColumn}' was not present in the data`);if(R.numRows===0){if(Object.prototype.hasOwnProperty.call(B,_))return R;let i=T.function.ndims();if(i!==void 0){let J=FH(i,O);B[_]=WA([],J)}else if(A!=null){let J=A.fields.find((P)=>P.name===_);if(J!=null)B[_]=WA([],J.type,void 0,J.nullable);else throw Error(`Attempt to apply embeddings to an empty table failed because schema was missing embedding column '${_}'`)}else throw Error("Attempt to apply embeddings to an empty table when the embeddings function does not specify `embeddingDimension`")}else{if(Object.prototype.hasOwnProperty.call(B,_)){let U=B[_];if(U.nullCount!==U.length){let t=new L.Table(B);if(A!=null)t=eH(t,A);return new L.Table(new L.Schema(t.schema.fields,h),t.batches)}}if(R.batches.length>1)throw Error("Internal error: `makeArrowTable` unexpectedly created a table with more than one batch");let i=D.toArray(),J=await T.function.computeSourceEmbeddings(i);if(J.length!==i.length)throw Error("Embedding function did not return an embedding for each input element");let P=FH(J[0].length,O);B[_]=WA(J,P)}let H=new L.Table(B);if(A!=null){if(A.fields.find((i)=>i.name===_)===void 0)throw Error(`When using embedding functions and specifying a schema the schema should include the embedding column but the column ${_} was missing`);H=eH(H,A)}return H=new L.Table(new L.Schema(H.schema.fields,h),H.batches),H}async function zB(R,T,A){let h=R;if(A?.schema&&A.schema.metadata?.has("embedding_functions"))h=Yk(R,A.schema);let C=uH(h,A);return await ZH(C,T,A?.schema)}function FH(R,T){let A=new L.Field("item",(0,_T.sanitizeType)(T),!0);return new L.FixedSizeList(R,A)}async function vE(R,T,A){if(A!==void 0&&A!==null)A=(0,_T.sanitizeSchema)(A);let h=await zB(R,T,{schema:A}),C=L.RecordBatchFileWriter.writeAll(h);return Buffer.from(await C.toUint8Array())}async function VE(R,T,A){if(A!==void 0&&A!==null)A=(0,_T.sanitizeSchema)(A);let h=await zB(R,T,{schema:A}),C=L.RecordBatchStreamWriter.writeAll(h);return Buffer.from(await C.toUint8Array())}async function QB(R,T,A){if(A!==void 0&&A!==null)A=(0,_T.sanitizeSchema)(A);let h=await ZH(R,T,A),C=L.RecordBatchFileWriter.writeAll(h);return Buffer.from(await C.toUint8Array())}async function mE(R,T,A){if(A!==void 0&&A!==null)A=(0,_T.sanitizeSchema)(A);if(Mk(R)){let h=(0,_T.sanitizeTable)(R);if(A&&A.metadata?.has("embedding_functions")){let C=B$(h,A);return QB(C,T,A)}else return QB(h,T,A)}else{let h=await zB(R,T,{schema:A});return QB(h)}}async function YE(R){return(await L.RecordBatchFileReader.readAll(Buffer.from(R)).next().value)?.next().value||null}async function R$(R){let T=new L.RecordBatchFileWriter().writeAll([R]);return Buffer.from(await T.toUint8Array())}async function T$(R,T,A){let h=await ZH(R,T,A),C=L.RecordBatchStreamWriter.writeAll(h);return Buffer.from(await C.toUint8Array())}function A$(R,T){let A=[];for(let C of T.fields){let B=R.schema.fields?.findIndex((D)=>D.name===C.name);if(B<0)throw Error(`The column ${C.name} was not found in the Arrow Table`);A.push(R.data.children[B])}let h=(0,L.makeData)({type:new L.Struct(T.fields),length:R.numRows,nullCount:R.nullCount,children:A});return new L.RecordBatch(T,h)}function eH(R,T){let A=R.batches.map((h)=>A$(h,T));return new L.Table(T,A)}function h$(R){return new L.Table((0,_T.sanitizeSchema)(R))}function C$(R,T,A){let h=[],C=[];for(let B of R.fields)if(lH(B.type))if(B=(0,_T.sanitizeField)(B),T.length!==0&&T?.[0]?.[B.name]===void 0){let D=!1;if(R.metadata.has("embedding_functions")){if(JSON.parse(R.metadata.get("embedding_functions")).find((O)=>O.vectorColumn===B.name))D=!0}if(A&&A.vectorColumn===B.name)D=!0;if(B.nullable&&!D)h.push(B);else if(D)h.push(B);else C.push(B)}else h.push(B);else h.push(B);if(C.length>0&&A===void 0)throw Error(`Table has embeddings: "${C.map((B)=>B.name).join(",")}", but no embedding function was provided`);return new L.Schema(h,R.metadata)}function Yk(R,T){return R.map((A)=>{let h={};for(let C of T.fields)if(C.name in A)if(C.type.constructor.name==="Struct"&&A[C.name]!==null&&A[C.name]!==void 0){let B=A[C.name];h[C.name]=R6(B,C.type)}else h[C.name]=A[C.name];else h[C.name]=null;return h})}function R6(R,T){let A={};for(let h of T.children)if(h.name in R)if(h.type.constructor.name==="Struct"&&R[h.name]!==null&&R[h.name]!==void 0)A[h.name]=R6(R[h.name],h.type);else A[h.name]=R[h.name];else A[h.name]=null;return A}function fB(R){switch(R.typeId){case L.Type.Null:return{type:"null"};case L.Type.Bool:return{type:"bool"};case L.Type.Int8:return{type:"int8"};case L.Type.Int16:return{type:"int16"};case L.Type.Int32:return{type:"int32"};case L.Type.Int64:return{type:"int64"};case L.Type.Uint8:return{type:"uint8"};case L.Type.Uint16:return{type:"uint16"};case L.Type.Uint32:return{type:"uint32"};case L.Type.Uint64:return{type:"uint64"};case L.Type.Int:{let T=R.bitWidth;return{type:`${R.isSigned?"":"u"}int${T}`}}case L.Type.Float:{switch(R.precision){case L.Precision.HALF:return{type:"halffloat"};case L.Precision.SINGLE:return{type:"float"};case L.Precision.DOUBLE:return{type:"double"}}throw Error("Unsupported float precision")}case L.Type.Float16:return{type:"halffloat"};case L.Type.Float32:return{type:"float"};case L.Type.Float64:return{type:"double"};case L.Type.Utf8:return{type:"string"};case L.Type.Binary:return{type:"binary"};case L.Type.LargeUtf8:return{type:"large_string"};case L.Type.LargeBinary:return{type:"large_binary"};case L.Type.List:return{type:"list",fields:[GH(R.children[0])]};case L.Type.FixedSizeList:{let T=R;return{type:"fixed_size_list",fields:[GH(T.children[0])],length:T.listSize}}case L.Type.Struct:return{type:"struct",fields:R.children.map(GH)};case L.Type.Date:return{type:R.unit===L.DateUnit.DAY?"date32:day":"date64:ms"};case L.Type.Timestamp:{let T=R,A=T.timezone||"-";return{type:`timestamp:${T.unit}:${A}`}}case L.Type.Decimal:{let T=R;return{type:`decimal:${T.bitWidth}:${T.precision}:${T.scale}`}}case L.Type.Duration:return{type:`duration:${R.unit}`};case L.Type.FixedSizeBinary:return{type:`fixed_size_binary:${R.byteWidth}`};case L.Type.Dictionary:{let T=R,A=fB(T.indices);return{type:`dict:${fB(T.valueType).type}:${A.type}:false`}}}throw Error("Unsupported data type")}function GH(R){return{name:R.name,type:fB(R.type),nullable:R.nullable,metadata:R.metadata}}function B$(R,T){let A=new Map;for(let C of R.schema.fields)A.set(C.name,R.getChild(C.name));let h={};for(let C of T.fields)if(A.has(C.name))h[C.name]=A.get(C.name);else h[C.name]=T6(C,R.numRows);return new L.Table(T,h)}function T6(R,T){if(R.type.constructor.name==="Struct"){let A=R.type,h=A.children.map((B)=>T6(B,T)),C=(0,L.makeData)({type:A,length:T,nullCount:0,children:h.map((B)=>B.data[0])});return(0,L.makeVector)(C)}else{let A=new Uint8Array(Math.ceil(T/8)),h=(0,L.makeData)({type:R.type,length:T,nullCount:T,nullBitmap:A});return(0,L.makeVector)(h)}}});var wH=a((A6)=>{Object.defineProperty(A6,"__esModule",{value:!0});A6.MergeInsertBuilder=void 0;var D$=kT();class Dh{#R;#T;constructor(R,T){this.#R=R,this.#T=T}whenMatchedUpdateAll(R){return new Dh(this.#R.whenMatchedUpdateAll(R?.where),this.#T)}whenNotMatchedInsertAll(){return new Dh(this.#R.whenNotMatchedInsertAll(),this.#T)}whenNotMatchedBySourceDelete(R){return new Dh(this.#R.whenNotMatchedBySourceDelete(R?.where),this.#T)}useIndex(R){return new Dh(this.#R.useIndex(R),this.#T)}async execute(R,T){let A;if(this.#T instanceof Promise)A=await this.#T,this.#T=A;else A=this.#T;if(T?.timeoutMs!==void 0)this.#R.setTimeout(T.timeoutMs);let h=await(0,D$.fromDataToBuffer)(R,void 0,A);return await this.#R.execute(h)}}A6.MergeInsertBuilder=Dh});var C6=a((Dj,_$)=>{_$.exports=w("./lancedb.darwin-arm64-f27yjbpw.node")});var r9=a((s$,GR)=>{var __dirname="/Users/kyle/rules/node_modules/@lancedb/lancedb/dist",{existsSync:$R,readFileSync:O$}=w("fs"),{join:pR}=w("path"),{platform:B6,arch:ST}=process,z=null,V=!1,tR=null;function MB(){if(!process.report||typeof process.report.getReport!=="function")try{let R=w("child_process").execSync("which ldd").toString().trim();return O$(R,"utf8").includes("musl")}catch(R){return!0}else{let{glibcVersionRuntime:R}=process.report.getReport().header;return!R}}switch(B6){case"android":switch(ST){case"arm64":V=$R(pR(__dirname,"lancedb.android-arm64.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.android-arm64.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-android-arm64");})()}catch(R){tR=R}break;case"arm":V=$R(pR(__dirname,"lancedb.android-arm-eabi.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.android-arm-eabi.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-android-arm-eabi");})()}catch(R){tR=R}break;default:throw Error(`Unsupported architecture on Android ${ST}`)}break;case"win32":switch(ST){case"x64":V=$R(pR(__dirname,"lancedb.win32-x64-msvc.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.win32-x64-msvc.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-win32-x64-msvc");})()}catch(R){tR=R}break;case"ia32":V=$R(pR(__dirname,"lancedb.win32-ia32-msvc.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.win32-ia32-msvc.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-win32-ia32-msvc");})()}catch(R){tR=R}break;case"arm64":V=$R(pR(__dirname,"lancedb.win32-arm64-msvc.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.win32-arm64-msvc.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-win32-arm64-msvc");})()}catch(R){tR=R}break;default:throw Error(`Unsupported architecture on Windows: ${ST}`)}break;case"darwin":V=$R(pR(__dirname,"lancedb.darwin-universal.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.darwin-universal.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-darwin-universal");})();break}catch{}switch(ST){case"x64":V=$R(pR(__dirname,"lancedb.darwin-x64.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.darwin-x64.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-darwin-x64");})()}catch(R){tR=R}break;case"arm64":V=$R(pR(__dirname,"lancedb.darwin-arm64.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.darwin-arm64.node");})();else z=C6()}catch(R){tR=R}break;default:throw Error(`Unsupported architecture on macOS: ${ST}`)}break;case"freebsd":if(ST!=="x64")throw Error(`Unsupported architecture on FreeBSD: ${ST}`);V=$R(pR(__dirname,"lancedb.freebsd-x64.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.freebsd-x64.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-freebsd-x64");})()}catch(R){tR=R}break;case"linux":switch(ST){case"x64":if(MB()){V=$R(pR(__dirname,"lancedb.linux-x64-musl.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-x64-musl.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-x64-musl");})()}catch(R){tR=R}}else{V=$R(pR(__dirname,"lancedb.linux-x64-gnu.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-x64-gnu.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-x64-gnu");})()}catch(R){tR=R}}break;case"arm64":if(MB()){V=$R(pR(__dirname,"lancedb.linux-arm64-musl.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-arm64-musl.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-arm64-musl");})()}catch(R){tR=R}}else{V=$R(pR(__dirname,"lancedb.linux-arm64-gnu.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-arm64-gnu.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-arm64-gnu");})()}catch(R){tR=R}}break;case"arm":if(MB()){V=$R(pR(__dirname,"lancedb.linux-arm-musleabihf.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-arm-musleabihf.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-arm-musleabihf");})()}catch(R){tR=R}}else{V=$R(pR(__dirname,"lancedb.linux-arm-gnueabihf.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-arm-gnueabihf.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-arm-gnueabihf");})()}catch(R){tR=R}}break;case"riscv64":if(MB()){V=$R(pR(__dirname,"lancedb.linux-riscv64-musl.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-riscv64-musl.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-riscv64-musl");})()}catch(R){tR=R}}else{V=$R(pR(__dirname,"lancedb.linux-riscv64-gnu.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-riscv64-gnu.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-riscv64-gnu");})()}catch(R){tR=R}}break;case"s390x":V=$R(pR(__dirname,"lancedb.linux-s390x-gnu.node"));try{if(V)z=(()=>{throw new Error("Cannot require module "+"./lancedb.linux-s390x-gnu.node");})();else z=(()=>{throw new Error("Cannot require module "+"@lancedb/lancedb-linux-s390x-gnu");})()}catch(R){tR=R}break;default:throw Error(`Unsupported architecture on Linux: ${ST}`)}break;default:throw Error(`Unsupported OS: ${B6}, architecture: ${ST}`)}if(!z){if(tR)throw tR;throw Error("Failed to load native binding")}var{Connection:H$,JsHeaderProvider:i$,Index:q$,RecordBatchIterator:a$,NativeMergeInsertBuilder:L$,Query:W$,VectorQuery:N$,TakeQuery:c$,JsFullTextQuery:o$,Reranker:J$,RrfReranker:I$,Session:k$,Table:S$,TagContents:y$,Tags:g$}=z;s$.Connection=H$;s$.JsHeaderProvider=i$;s$.Index=q$;s$.RecordBatchIterator=a$;s$.NativeMergeInsertBuilder=L$;s$.Query=W$;s$.VectorQuery=N$;s$.TakeQuery=c$;s$.JsFullTextQuery=o$;s$.Reranker=J$;s$.RrfReranker=I$;s$.Session=k$;s$.Table=S$;s$.TagContents=y$;s$.Tags=g$});var UH=a((N6)=>{Object.defineProperty(N6,"__esModule",{value:!0});N6.BooleanQuery=N6.MultiMatchQuery=N6.BoostQuery=N6.PhraseQuery=N6.MatchQuery=N6.Occur=N6.Operator=N6.FullTextQueryType=N6.Query=N6.TakeQuery=N6.VectorQuery=N6.StandardQueryBase=N6.QueryBase=N6.RecordBatchIterator=void 0;N6.instanceOfFullTextQuery=d$;var RC=kT(),Oh=r9();class TC{promisedInner;inner;constructor(R){this.promisedInner=R}async next(){if(this.inner===void 0)this.inner=await this.promisedInner;if(this.inner===void 0)throw Error("Invalid iterator state state");let R=await this.inner.next();if(R==null)return Promise.resolve({done:!0,value:null});let T=(0,RC.tableFromIPC)(R);if(T.batches.length!=1)throw Error("Expected only one batch");return Promise.resolve({done:!1,value:T.batches[0]})}}N6.RecordBatchIterator=TC;class _6{inner;options;constructor(R,T){this.inner=R,this.options=T}[Symbol.asyncIterator](){return new TC(this.inner.execute(this.options?.maxBatchLength,this.options?.timeoutMs))}}class VB{inner;constructor(R){this.inner=R}doCall(R){if(this.inner instanceof Promise)this.inner=this.inner.then((T)=>{return R(T),T});else R(this.inner)}select(R){let T=(h)=>{this.doCall((C)=>{C.selectColumns(h)})},A=(h)=>{this.doCall((C)=>{C.select(h)})};if(typeof R==="string")T([R]);else if(Array.isArray(R))T(R);else if(R instanceof Map)A(Array.from(R.entries()));else A(Object.entries(R));return this}withRowId(){return this.doCall((R)=>R.withRowId()),this}nativeExecute(R){if(this.inner instanceof Promise)return this.inner.then((T)=>T.execute(R?.maxBatchLength,R?.timeoutMs));else return this.inner.execute(R?.maxBatchLength,R?.timeoutMs)}execute(R){return new TC(this.nativeExecute(R))}[Symbol.asyncIterator](){let R=this.nativeExecute();return new TC(R)}async toArrow(R){let T=[],A;if(this.inner instanceof Promise)A=await this.inner;else A=this.inner;for await(let h of new _6(A,R))T.push(h);return new RC.Table(T)}async toArray(R){return(await this.toArrow(R)).toArray()}async explainPlan(R=!1){if(this.inner instanceof Promise)return this.inner.then((T)=>T.explainPlan(R));else return this.inner.explainPlan(R)}async analyzePlan(){if(this.inner instanceof Promise)return this.inner.then((R)=>R.analyzePlan());else return this.inner.analyzePlan()}}N6.QueryBase=VB;class mB extends VB{constructor(R){super(R)}where(R){return this.doCall((T)=>T.onlyIf(R)),this}filter(R){return this.where(R)}fullTextSearch(R,T){let A=null;if(T){if(typeof T.columns==="string")A=[T.columns];else if(Array.isArray(T.columns))A=T.columns}return this.doCall((h)=>{if(typeof R==="string")h.fullTextSearch({query:R,columns:A});else h.fullTextSearch({query:R.inner})}),this}limit(R){return this.doCall((T)=>T.limit(R)),this}offset(R){return this.doCall((T)=>T.offset(R)),this}fastSearch(){return this.doCall((R)=>R.fastSearch()),this}}N6.StandardQueryBase=mB;class _h extends mB{constructor(R){super(R)}nprobes(R){return super.doCall((T)=>T.nprobes(R)),this}minimumNprobes(R){return super.doCall((T)=>T.minimumNprobes(R)),this}maximumNprobes(R){return super.doCall((T)=>T.maximumNprobes(R)),this}distanceRange(R,T){return super.doCall((A)=>A.distanceRange(R,T)),this}ef(R){return super.doCall((T)=>T.ef(R)),this}column(R){return super.doCall((T)=>T.column(R)),this}distanceType(R){return super.doCall((T)=>T.distanceType(R)),this}refineFactor(R){return super.doCall((T)=>T.refineFactor(R)),this}postfilter(){return super.doCall((R)=>R.postfilter()),this}bypassVectorIndex(){return super.doCall((R)=>R.bypassVectorIndex()),this}addQueryVector(R){if(R instanceof Promise){let T=(async()=>{try{let A=await R,h=Float32Array.from(A);return this.addQueryVector(h).inner}catch(A){return Promise.reject(A)}})();return new _h(T)}else return super.doCall((T)=>{T.addQueryVector(Float32Array.from(R))}),this}rerank(R){return super.doCall((T)=>T.rerank({rerankHybrid:async(A,h)=>{let C=await(0,RC.fromBufferToRecordBatch)(h.vecResults),B=await(0,RC.fromBufferToRecordBatch)(h.ftsResults),D=await R.rerankHybrid(h.query,C,B);return(0,RC.fromRecordBatchToBuffer)(D)}})),this}}N6.VectorQuery=_h;class O6 extends VB{constructor(R){super(R)}}N6.TakeQuery=O6;class H6 extends mB{constructor(R){super(R.query())}nearestTo(R){if(this.inner instanceof Promise){let T=this.inner.then(async(A)=>{if(R instanceof Promise){let h=await R.then((C)=>Float32Array.from(C));return A.nearestTo(h)}else return A.nearestTo(Float32Array.from(R))});return new _h(T)}if(R instanceof Promise){let T=(async()=>{try{let A=await R,h=Float32Array.from(A);return this.nearestTo(h).inner}catch(A){return Promise.reject(A)}})();return new _h(T)}else{let T=this.inner.nearestTo(Float32Array.from(R));return new _h(T)}}nearestToText(R,T){return this.doCall((A)=>{if(typeof R==="string")A.fullTextSearch({query:R,columns:T});else A.fullTextSearch({query:R.inner})}),this}}N6.Query=H6;var NA;(function(R){R.Match="match",R.MatchPhrase="match_phrase",R.Boost="boost",R.MultiMatch="multi_match",R.Boolean="boolean"})(NA||(N6.FullTextQueryType=NA={}));var vB;(function(R){R.And="AND",R.Or="OR"})(vB||(N6.Operator=vB={}));var D6;(function(R){R.Should="SHOULD",R.Must="MUST",R.MustNot="MUST_NOT"})(D6||(N6.Occur=D6={}));function d$(R){return R!=null&&R.inner instanceof Oh.JsFullTextQuery}class i6{inner;constructor(R,T,A){let h=A?.fuzziness;if(h===void 0)h=0;this.inner=Oh.JsFullTextQuery.matchQuery(R,T,A?.boost??1,h,A?.maxExpansions??50,A?.operator??vB.Or,A?.prefixLength??0)}queryType(){return NA.Match}}N6.MatchQuery=i6;class q6{inner;constructor(R,T,A){this.inner=Oh.JsFullTextQuery.phraseQuery(R,T,A?.slop??0)}queryType(){return NA.MatchPhrase}}N6.PhraseQuery=q6;class a6{inner;constructor(R,T,A){this.inner=Oh.JsFullTextQuery.boostQuery(R.inner,T.inner,A?.negativeBoost)}queryType(){return NA.Boost}}N6.BoostQuery=a6;class L6{inner;constructor(R,T,A){this.inner=Oh.JsFullTextQuery.multiMatchQuery(R,T,A?.boosts,A?.operator??vB.Or)}queryType(){return NA.MultiMatch}}N6.MultiMatchQuery=L6;class W6{inner;constructor(R){this.inner=Oh.JsFullTextQuery.booleanQuery(R.map(([T,A])=>[T,A.inner]))}queryType(){return NA.Boolean}}N6.BooleanQuery=W6});var QH=a((I6)=>{Object.defineProperty(I6,"__esModule",{value:!0});I6.TTLCache=void 0;I6.toSQL=o6;I6.packBits=Tp;function o6(R){if(typeof R==="string")return`'${R.replace(/'/g,"''")}'`;else if(typeof R==="number")return R.toString();else if(typeof R==="boolean")return R?"TRUE":"FALSE";else if(R===null)return"NULL";else if(R instanceof Date)return`'${R.toISOString()}'`;else if(Array.isArray(R))return`[${R.map(o6).join(", ")}]`;else if(Buffer.isBuffer(R))return`X'${R.toString("hex")}'`;else if(R instanceof ArrayBuffer)return`X'${Buffer.from(R).toString("hex")}'`;else throw Error(`Unsupported value type: ${typeof R} value: (${R})`)}function Tp(R){let T=Array(R.length>>3).fill(0);for(let A=0;A<R.length;A++){let h=A>>3,C=A&7;T[h]|=R[A]<<C}return T}class J6{ttl;cache;constructor(R){this.ttl=R,this.cache=new Map}get(R){let T=this.cache.get(R);if(T===void 0)return;if(T.expires<Date.now()){this.cache.delete(R);return}return T.value}set(R,T){this.cache.set(R,{value:T,expires:Date.now()+this.ttl})}delete(R){this.cache.delete(R)}}I6.TTLCache=J6});var zH=a((s6)=>{Object.defineProperty(s6,"__esModule",{value:!0});s6.LocalTable=s6.Table=void 0;var YB=kT(),S6=aA(),Cp=wH(),AC=UH(),Bp=Bh(),y6=QH();class fH{[Symbol.for("nodejs.util.inspect.custom")](){return this.display()}}s6.Table=fH;class g6 extends fH{inner;constructor(R){super();this.inner=R}get name(){return this.inner.name}isOpen(){return this.inner.isOpen()}close(){this.inner.close()}display(){return this.inner.display()}async getEmbeddingFunctions(){let R=await this.schema();return(0,S6.getRegistry)().parseFunctions(R.metadata)}async schema(){let R=await this.inner.schema();return(0,YB.tableFromIPC)(R).schema}async add(R,T){let A=T?.mode??"append",h=await this.schema(),C=await(0,YB.fromDataToBuffer)(R,void 0,h);return await this.inner.add(C,A)}async update(R,T){let A="values"in R&&typeof R.values!=="string",h="valuesSql"in R&&typeof R.valuesSql!=="string",C=(_)=>{return _ instanceof Map},B,D;switch(!0){case C(R):D=Array.from(R.entries()),B=T?.where;break;case(A&&C(R.values)):D=Array.from(R.values.entries()).map(([_,O])=>[_,(0,y6.toSQL)(O)]),B=R.where;break;case(A&&!C(R.values)):D=Object.entries(R.values).map(([_,O])=>[_,(0,y6.toSQL)(O)]),B=R.where;break;case(h&&C(R.valuesSql)):D=Array.from(R.valuesSql.entries()),B=R.where;break;case(h&&!C(R.valuesSql)):D=Object.entries(R.valuesSql).map(([_,O])=>[_,O]),B=R.where;break;default:D=Object.entries(R),B=T?.where}return await this.inner.update(B,D)}async countRows(R){return await this.inner.countRows(R)}async delete(R){return await this.inner.delete(R)}async createIndex(R,T){let A=T?.config?.inner;await this.inner.createIndex(A,R,T?.replace,T?.waitTimeoutSeconds,T?.name,T?.train)}async dropIndex(R){await this.inner.dropIndex(R)}async prewarmIndex(R){await this.inner.prewarmIndex(R)}async waitForIndex(R,T){await this.inner.waitForIndex(R,T)}takeOffsets(R){return new AC.TakeQuery(this.inner.takeOffsets(R))}takeRowIds(R){return new AC.TakeQuery(this.inner.takeRowIds(R))}query(){return new AC.Query(this.inner)}search(R,T="auto",A){if(typeof R!=="string"&&!(0,AC.instanceOfFullTextQuery)(R)){if(T==="fts")throw Error("Cannot perform full text search on a vector query");return this.vectorSearch(R)}if(T==="fts")return this.query().fullTextSearch(R,{columns:A});if(T==="auto"&&((0,S6.getRegistry)().length()===0||(0,AC.instanceOfFullTextQuery)(R)))return this.query().fullTextSearch(R,{columns:A});let h=this.getEmbeddingFunctions().then(async(C)=>{let B=C.values().next().value;if(!B)return Promise.reject(Error("No embedding functions are defined in the table"));return await B.function.computeQueryEmbeddings(R)});return this.query().nearestTo(h)}vectorSearch(R){if((0,YB.isMultiVector)(R)){let T=this.query().nearestTo(R[0]);for(let A of R.slice(1))T.addQueryVector(A);return T}return this.query().nearestTo(R)}async addColumns(R){return await this.inner.addColumns(R)}async alterColumns(R){let T=R.map((A)=>{if(typeof A.dataType==="string")return{...A,dataType:JSON.stringify({type:A.dataType})};else if(A.dataType===void 0)return{...A,dataType:void 0};else{let h=(0,Bp.sanitizeType)(A.dataType);return{...A,dataType:JSON.stringify((0,YB.dataTypeToJson)(h))}}});return await this.inner.alterColumns(T)}async dropColumns(R){return await this.inner.dropColumns(R)}async version(){return await this.inner.version()}async checkout(R){if(typeof R==="string")return this.inner.checkoutTag(R);return this.inner.checkout(R)}async checkoutLatest(){await this.inner.checkoutLatest()}async listVersions(){return(await this.inner.listVersions()).map((R)=>({version:R.version,timestamp:new Date(R.timestamp/1000),metadata:R.metadata}))}async restore(){await this.inner.restore()}async tags(){return await this.inner.tags()}async optimize(R){let T;if(R?.cleanupOlderThan!==void 0&&R?.cleanupOlderThan!==null)T=new Date().getTime()-R.cleanupOlderThan.getTime();return await this.inner.optimize(T,R?.deleteUnverified)}async listIndices(){return await this.inner.listIndices()}async toArrow(){return await this.query().toArrow()}async indexStats(R){let T=await this.inner.indexStats(R);if(T===null)return;return T}async stats(){return await this.inner.stats()}mergeInsert(R){return R=Array.isArray(R)?R:[R],new Cp.MergeInsertBuilder(this.inner.mergeInsert(R),this.schema())}async usesV2ManifestPaths(){return await this.inner.usesV2ManifestPaths()}async migrateManifestPathsV2(){await this.inner.migrateManifestPathsV2()}}s6.LocalTable=g6});var YH=a((K6)=>{Object.defineProperty(K6,"__esModule",{value:!0});K6.LocalConnection=K6.Connection=void 0;K6.cleanseStorageOptions=VH;var MH=kT(),vH=kT(),_p=aA(),Op=Bh(),RD=zH();class mH{[Symbol.for("nodejs.util.inspect.custom")](){return this.display()}}K6.Connection=mH;class t6 extends mH{inner;constructor(R){super();this.inner=R}isOpen(){return this.inner.isOpen()}close(){this.inner.close()}display(){return this.inner.display()}async tableNames(R,T){let A,h;if(Array.isArray(R))A=R,h=T;else A=void 0,h=R;return this.inner.tableNames(A??[],h?.startAfter,h?.limit)}async openTable(R,T,A){let h=await this.inner.openTable(R,T??[],VH(A?.storageOptions),A?.indexCacheSize);return new RD.LocalTable(h)}async cloneTable(R,T,A){let h=await this.inner.cloneTable(R,T,A?.targetNamespace??[],A?.sourceVersion??null,A?.sourceTag??null,A?.isShallow??!0);return new RD.LocalTable(h)}getStorageOptions(R){if(R?.dataStorageVersion!==void 0){if(R.storageOptions===void 0)R.storageOptions={};R.storageOptions.newTableDataStorageVersion=R.dataStorageVersion}if(R?.enableV2ManifestPaths!==void 0){if(R.storageOptions===void 0)R.storageOptions={};R.storageOptions.newTableEnableV2ManifestPaths=R.enableV2ManifestPaths?"true":"false"}return VH(R?.storageOptions)}async createTable(R,T,A,h){if(typeof R!=="string"&&"name"in R){let{name:O,data:H,...i}=R,J=T;return this._createTableImpl(O,H,J,i)}let C=R,B=T,D,_;if(Array.isArray(A))D=A,_=h;else D=void 0,_=A;return this._createTableImpl(C,B,D,_)}async _createTableImpl(R,T,A,h){if(T===void 0)throw Error("data is required");let{buf:C,mode:B}=await ip(T,h),D=this.getStorageOptions(h),_=await this.inner.createTable(R,C,B,A??[],D);return new RD.LocalTable(_)}async createEmptyTable(R,T,A,h){let C,B;if(Array.isArray(A))C=A,B=h;else C=void 0,B=A;let D=B?.mode??"create",_=B?.existOk??!1;if(D==="create"&&_)D="exist_ok";let O=void 0;if(B?.embeddingFunction!==void 0){let U=B.embeddingFunction;O=(0,_p.getRegistry)().getTableMetadata([U])}let H=this.getStorageOptions(B),i=(0,vH.makeEmptyTable)(T,O),J=await(0,vH.fromTableToBuffer)(i),P=await this.inner.createEmptyTable(R,J,D,C??[],H);return new RD.LocalTable(P)}async dropTable(R,T){return this.inner.dropTable(R,T??[])}async dropAllTables(R){return this.inner.dropAllTables(R??[])}}K6.LocalConnection=t6;function VH(R){if(R===void 0)return;let T={};for(let[A,h]of Object.entries(R))if(h!==void 0){let C=Hp(A);T[C]=h}return T}function Hp(R){if(R.includes("_"))return R;if(R.toLocaleUpperCase()===R)return R;let T=R.replace(/[A-Z]/g,(A)=>`_${A.toLowerCase()}`);if(T.startsWith("_"))T=T.slice(1);return T}async function ip(R,T,A=!1){let h=T?.mode??"create",C=T?.existOk??!1;if(h==="create"&&C)h="exist_ok";let B;if((0,MH.isArrowTable)(R))B=(0,Op.sanitizeTable)(R);else B=(0,MH.makeArrowTable)(R,T);if(A)return{buf:await(0,MH.fromTableToStreamBuffer)(B,T?.embeddingFunction,T?.schema),mode:h};else return{buf:await(0,vH.fromTableToBuffer)(B,T?.embeddingFunction,T?.schema),mode:h}}});var $6=a((n6)=>{Object.defineProperty(n6,"__esModule",{value:!0});n6.Index=void 0;var X9=r9();class lT{inner;constructor(R){this.inner=R}static ivfPq(R){return new lT(X9.Index.ivfPq(R?.distanceType,R?.numPartitions,R?.numSubVectors,R?.maxIterations,R?.sampleRate))}static ivfFlat(R){return new lT(X9.Index.ivfFlat(R?.distanceType,R?.numPartitions,R?.maxIterations,R?.sampleRate))}static btree(){return new lT(X9.Index.btree())}static bitmap(){return new lT(X9.Index.bitmap())}static labelList(){return new lT(X9.Index.labelList())}static fts(R){return new lT(X9.Index.fts(R?.withPosition,R?.baseTokenizer,R?.language,R?.maxTokenLength,R?.lowercase,R?.stem,R?.removeStopWords,R?.asciiFolding,R?.ngramMinLength,R?.ngramMaxLength,R?.prefixOnly))}static hnswPq(R){return new lT(X9.Index.hnswPq(R?.distanceType,R?.numPartitions,R?.numSubVectors,R?.maxIterations,R?.sampleRate,R?.m,R?.efConstruction))}static hnswSq(R){return new lT(X9.Index.hnswSq(R?.distanceType,R?.numPartitions,R?.maxIterations,R?.sampleRate,R?.m,R?.efConstruction))}}n6.Index=lT});var x6=a((X6)=>{Object.defineProperty(X6,"__esModule",{value:!0});X6.OAuthHeaderProvider=X6.StaticHeaderProvider=X6.HeaderProvider=void 0;class TD{}X6.HeaderProvider=TD;class p6 extends TD{_headers;constructor(R){super();this._headers={...R}}getHeaders(){return{...this._headers}}}X6.StaticHeaderProvider=p6;class r6 extends TD{_tokenFetcher;_refreshBufferSeconds;_currentToken=null;_tokenExpiresAt=null;_refreshPromise=null;constructor(R,T=300){super();this._tokenFetcher=R,this._refreshBufferSeconds=T}_needsRefresh(){if(this._currentToken===null)return!0;if(this._tokenExpiresAt===null)return!1;return Date.now()/1000>=this._tokenExpiresAt-this._refreshBufferSeconds}async _refreshTokenIfNeeded(){if(!this._needsRefresh())return;if(this._refreshPromise){await this._refreshPromise;return}this._refreshPromise=(async()=>{try{let R=await this._tokenFetcher();if(this._currentToken=R.accessToken,!this._currentToken)throw Error("Token fetcher did not return 'accessToken'");if(R.expiresIn)this._tokenExpiresAt=Date.now()/1000+R.expiresIn;else this._tokenExpiresAt=null}finally{this._refreshPromise=null}})(),await this._refreshPromise}getHeaders(){if(!this._currentToken&&!this._refreshPromise)throw Error("Token not initialized. Call refreshToken() first or use async initialization.");if(!this._currentToken)throw Error("Failed to obtain OAuth token");return{authorization:`Bearer ${this._currentToken}`}}async refreshToken(){this._currentToken=null,await this._refreshTokenIfNeeded()}}X6.OAuthHeaderProvider=r6});var d6=a((e6)=>{Object.defineProperty(e6,"__esModule",{value:!0});e6.TextEmbeddingFunction=e6.EmbeddingFunction=void 0;EH();var R9=kT(),Ri=Bh(),Np=aA();class Ti{TOptions;#R;toJSON(){return JSON.parse(JSON.stringify(this.#R))}constructor(){this.#R={}}getSensitiveKeys(){return[]}resolveVariables(R){this.#R=R;let T=(0,Np.getRegistry)(),A={...R};for(let[h,C]of Object.entries(A)){if(this.getSensitiveKeys().includes(h)&&!C.startsWith("$var:"))throw Error(`The key "${h}" is sensitive and cannot be set directly. Please use the $var: syntax to set it.`);let B=h;if(typeof C==="string"&&C.startsWith("$var:")){let[D,_]=C.slice(5).split(":",2),O=T.getVar(D);if(!O)if(_)A[B]=_;else throw Error(`Variable "${D}" not found`);else A[B]=O}}return A}sourceField(R){let T="datatype"in R?R.datatype:R;if(!T)throw Error("Datatype is required");T=(0,Ri.sanitizeType)(T);let A=new Map;return A.set("source_column_for",this),[T,A]}vectorField(R){let T,A,h=this.ndims();if(R===void 0)T=new R9.Float32;else if(!("datatype"in R))T=(0,Ri.sanitizeType)(R);else h=h??R?.dims,T=(0,Ri.sanitizeType)(R?.datatype);if(T!==void 0)if((0,R9.isFixedSizeList)(T))A=T;else if((0,R9.isFloat)(T)){if(h===void 0)throw Error("ndims is required for vector field");A=(0,R9.newVectorType)(h,T)}else throw Error("Expected FixedSizeList or Float as datatype for vector field");else{if(h===void 0)throw Error("ndims is required for vector field");A=new R9.FixedSizeList(h,new R9.Field("item",new R9.Float32,!0))}let C=new Map;return C.set("vector_column_for",this),[A,C]}ndims(){return}async computeQueryEmbeddings(R){return this.computeSourceEmbeddings([R]).then((T)=>T[0])}}e6.EmbeddingFunction=Ti;class F6 extends Ti{async computeQueryEmbeddings(R){return this.generateEmbeddings([R]).then((T)=>T[0])}embeddingDataType(){return new R9.Float32}sourceField(){return super.sourceField(new R9.Utf8)}computeSourceEmbeddings(R){return this.generateEmbeddings(R)}}e6.TextEmbeddingFunction=F6});var Z6=a((OT)=>{var op=OT&&OT.__createBinding||(Object.create?function(R,T,A,h){if(h===void 0)h=A;var C=Object.getOwnPropertyDescriptor(T,A);if(!C||("get"in C?!T.__esModule:C.writable||C.configurable))C={enumerable:!0,get:function(){return T[A]}};Object.defineProperty(R,h,C)}:function(R,T,A,h){if(h===void 0)h=A;R[h]=T[A]}),Jp=OT&&OT.__exportStar||function(R,T){for(var A in R)if(A!=="default"&&!Object.prototype.hasOwnProperty.call(T,A))op(T,R,A)};Object.defineProperty(OT,"__esModule",{value:!0});OT.TextEmbeddingFunction=OT.EmbeddingFunction=void 0;OT.LanceSchema=kp;var Ai=kT(),j6=Bh(),Ip=aA(),u6=d6();Object.defineProperty(OT,"EmbeddingFunction",{enumerable:!0,get:function(){return u6.EmbeddingFunction}});Object.defineProperty(OT,"TextEmbeddingFunction",{enumerable:!0,get:function(){return u6.TextEmbeddingFunction}});Jp(aA(),OT);function kp(R){let T=[],A=new Map;Object.entries(R).forEach(([D,_])=>{if(Array.isArray(_)){let[O,H]=_;T.push(new Ai.Field(D,(0,j6.sanitizeType)(O),!0)),Sp(A,D,H)}else T.push(new Ai.Field(D,(0,j6.sanitizeType)(_),!0))});let C=(0,Ip.getRegistry)().getTableMetadata(Array.from(A.values()));return new Ai.Schema(T,C)}function Sp(R,T,A){if(A.has("source_column_for")){let h=A.get("source_column_for"),C=R.get(h);if(C!==void 0)R.set(h,{...C,sourceColumn:T});else R.set(h,{sourceColumn:T,function:h})}else if(A.has("vector_column_for")){let h=A.get("vector_column_for"),C=R.get(h);if(C!==void 0)R.set(h,{...C,vectorColumn:T});else R.set(h,{vectorColumn:T,function:h})}}});var Q6=a((w6)=>{Object.defineProperty(w6,"__esModule",{value:!0});w6.RRFReranker=void 0;var hi=kT(),yp=r9();class Ci{inner;constructor(R){this.inner=R}static async create(R=60){return new Ci(await yp.RrfReranker.tryNew(new Float32Array([R])))}async rerankHybrid(R,T,A){let h=await this.inner.rerankHybrid(R,await(0,hi.fromRecordBatchToBuffer)(T),await(0,hi.fromRecordBatchToBuffer)(A));return await(0,hi.fromBufferToRecordBatch)(h)}}w6.RRFReranker=Ci});var f6=a((cA)=>{var gp=cA&&cA.__createBinding||(Object.create?function(R,T,A,h){if(h===void 0)h=A;var C=Object.getOwnPropertyDescriptor(T,A);if(!C||("get"in C?!T.__esModule:C.writable||C.configurable))C={enumerable:!0,get:function(){return T[A]}};Object.defineProperty(R,h,C)}:function(R,T,A,h){if(h===void 0)h=A;R[h]=T[A]}),sp=cA&&cA.__exportStar||function(R,T){for(var A in R)if(A!=="default"&&!Object.prototype.hasOwnProperty.call(T,A))gp(T,R,A)};Object.defineProperty(cA,"__esModule",{value:!0});sp(Q6(),cA)});var v6=a((TR)=>{Object.defineProperty(TR,"__esModule",{value:!0});TR.packBits=TR.rerankers=TR.embedding=TR.MergeInsertBuilder=TR.OAuthHeaderProvider=TR.StaticHeaderProvider=TR.HeaderProvider=TR.Table=TR.Index=TR.Occur=TR.Operator=TR.FullTextQueryType=TR.BooleanQuery=TR.MultiMatchQuery=TR.BoostQuery=TR.PhraseQuery=TR.MatchQuery=TR.RecordBatchIterator=TR.TakeQuery=TR.VectorQuery=TR.QueryBase=TR.Query=TR.Session=TR.Connection=TR.VectorColumnOptions=TR.MakeArrowTableOptions=TR.makeArrowTable=TR.TagContents=TR.Tags=TR.NativeJsHeaderProvider=void 0;TR.connect=pp;var z6=YH(),Bi=r9(),Pp=r9();Object.defineProperty(TR,"NativeJsHeaderProvider",{enumerable:!0,get:function(){return Pp.JsHeaderProvider}});var M6=r9();Object.defineProperty(TR,"Tags",{enumerable:!0,get:function(){return M6.Tags}});Object.defineProperty(TR,"TagContents",{enumerable:!0,get:function(){return M6.TagContents}});var Di=kT();Object.defineProperty(TR,"makeArrowTable",{enumerable:!0,get:function(){return Di.makeArrowTable}});Object.defineProperty(TR,"MakeArrowTableOptions",{enumerable:!0,get:function(){return Di.MakeArrowTableOptions}});Object.defineProperty(TR,"VectorColumnOptions",{enumerable:!0,get:function(){return Di.VectorColumnOptions}});var tp=YH();Object.defineProperty(TR,"Connection",{enumerable:!0,get:function(){return tp.Connection}});var Kp=r9();Object.defineProperty(TR,"Session",{enumerable:!0,get:function(){return Kp.Session}});var VR=UH();Object.defineProperty(TR,"Query",{enumerable:!0,get:function(){return VR.Query}});Object.defineProperty(TR,"QueryBase",{enumerable:!0,get:function(){return VR.QueryBase}});Object.defineProperty(TR,"VectorQuery",{enumerable:!0,get:function(){return VR.VectorQuery}});Object.defineProperty(TR,"TakeQuery",{enumerable:!0,get:function(){return VR.TakeQuery}});Object.defineProperty(TR,"RecordBatchIterator",{enumerable:!0,get:function(){return VR.RecordBatchIterator}});Object.defineProperty(TR,"MatchQuery",{enumerable:!0,get:function(){return VR.MatchQuery}});Object.defineProperty(TR,"PhraseQuery",{enumerable:!0,get:function(){return VR.PhraseQuery}});Object.defineProperty(TR,"BoostQuery",{enumerable:!0,get:function(){return VR.BoostQuery}});Object.defineProperty(TR,"MultiMatchQuery",{enumerable:!0,get:function(){return VR.MultiMatchQuery}});Object.defineProperty(TR,"BooleanQuery",{enumerable:!0,get:function(){return VR.BooleanQuery}});Object.defineProperty(TR,"FullTextQueryType",{enumerable:!0,get:function(){return VR.FullTextQueryType}});Object.defineProperty(TR,"Operator",{enumerable:!0,get:function(){return VR.Operator}});Object.defineProperty(TR,"Occur",{enumerable:!0,get:function(){return VR.Occur}});var bp=$6();Object.defineProperty(TR,"Index",{enumerable:!0,get:function(){return bp.Index}});var np=zH();Object.defineProperty(TR,"Table",{enumerable:!0,get:function(){return np.Table}});var _i=x6();Object.defineProperty(TR,"HeaderProvider",{enumerable:!0,get:function(){return _i.HeaderProvider}});Object.defineProperty(TR,"StaticHeaderProvider",{enumerable:!0,get:function(){return _i.StaticHeaderProvider}});Object.defineProperty(TR,"OAuthHeaderProvider",{enumerable:!0,get:function(){return _i.OAuthHeaderProvider}});var Ep=wH();Object.defineProperty(TR,"MergeInsertBuilder",{enumerable:!0,get:function(){return Ep.MergeInsertBuilder}});TR.embedding=Z6();TR.rerankers=f6();var $p=QH();Object.defineProperty(TR,"packBits",{enumerable:!0,get:function(){return $p.packBits}});async function pp(R,T,A,h){let C,B={},D;if(typeof R!=="string"){let{uri:H,...i}=R;C=H,B=i}else{if(C=R,T&&"inner"in T)B={};else B=T||{};if(A&&(typeof A==="function"||("getHeaders"in A)))D=A;else D=h}if(!C)throw Error("uri is required");B=B??{},B.storageOptions=(0,z6.cleanseStorageOptions)(B.storageOptions);let _;if(D){if(typeof D==="function")_=new Bi.JsHeaderProvider(D);else if(D&&typeof D.getHeaders==="function")_=new Bi.JsHeaderProvider(async()=>D.getHeaders())}let O=await Bi.Connection.new(C,B,_);return new z6.LocalConnection(O)}});var Hi=V6(v6(),1);import Fp from"node:path";import Oi from"node:fs";function G9(R,T=1536){let A=R.toLowerCase().split(/\s+/),h=Array(T).fill(0);for(let B of A){let D=0;for(let _=0;_<B.length;_++)D=(D<<5)-D+B.charCodeAt(_),D=D&D;for(let _=0;_<T;_++)h[_]+=Math.sin(D*(_+1))*0.1}let C=Math.sqrt(h.reduce((B,D)=>B+D*D,0));if(C>0)return h.map((B)=>B/C);return h}class ii{db=null;table=null;metadata;indexPath;dimensions;tableName="vectors";constructor(R,T){this.indexPath=R,this.dimensions=T,this.metadata={dimensions:T,count:0}}async initialize(){if(this.db)return;try{let R=Fp.dirname(this.indexPath);if(!Oi.existsSync(R))Oi.mkdirSync(R,{recursive:!0});if(this.db=await Hi.connect(this.indexPath),!(await this.db.tableNames()).includes(this.tableName)){let A=[{id:"init",vector:Array(this.dimensions).fill(0),type:"code",content:"",category:"",language:""}];this.table=await this.db.createTable(this.tableName,A),await this.table.delete("id = ?",["init"]),console.error(`[INFO] Created new LanceDB table: ${this.tableName}`)}else{this.table=await this.db.openTable(this.tableName);try{this.metadata.count=await this.table.countRows(),console.error(`[INFO] Loaded LanceDB table with ${this.metadata.count} vectors`)}catch(A){this.metadata.count=0}}}catch(R){console.error("[ERROR] Failed to initialize LanceDB:",R),this.useFallback=!0}}useFallback=!1;fallbackData=new Map;async save(){if(this.useFallback){console.error("[INFO] Using fallback storage - save is no-op");return}console.error("[INFO] LanceDB saves automatically")}async addDocument(R){if(R.embedding.length!==this.dimensions)throw Error(`Embedding dimension mismatch: expected ${this.dimensions}, got ${R.embedding.length}`);if(this.useFallback){this.fallbackData.set(R.id,R),this.metadata.count=this.fallbackData.size;return}await this.initialize();try{await this.table.add([{id:R.id,vector:R.embedding,type:R.metadata.type,content:R.metadata.content,category:R.metadata.category,language:R.metadata.language}]),this.metadata.count++}catch(T){console.error("[ERROR] Failed to add document, falling back:",T),this.useFallback=!0,this.fallbackData.set(R.id,R),this.metadata.count=this.fallbackData.size}}async addDocuments(R){if(R.length===0)return;for(let T of R)if(T.embedding.length!==this.dimensions)throw Error(`Embedding dimension mismatch: expected ${this.dimensions}, got ${T.embedding.length}`);if(this.useFallback){for(let T of R)this.fallbackData.set(T.id,T);this.metadata.count=this.fallbackData.size;return}await this.initialize();try{let T=R.map((A)=>({id:A.id,vector:A.embedding,type:A.metadata.type,content:A.metadata.content,category:A.metadata.category,language:A.metadata.language}));await this.table.add(T),this.metadata.count+=R.length,console.error(`[INFO] Added ${R.length} documents to LanceDB`)}catch(T){console.error("[ERROR] Failed to add documents, falling back:",T),this.useFallback=!0;for(let A of R)this.fallbackData.set(A.id,A);this.metadata.count=this.fallbackData.size}}async search(R,T={}){if(R.length!==this.dimensions)throw Error(`Query embedding dimension mismatch: expected ${this.dimensions}, got ${R.length}`);let{k:A=5,filter:h}=T;if(this.useFallback){let C=[];for(let B of this.fallbackData.values()){if(h&&!h(B))continue;let D=this.cosineSimilarity(R,B.embedding);C.push({doc:B,similarity:D})}return C.sort((B,D)=>D.similarity-B.similarity).slice(0,A)}await this.initialize();try{let B=await this.table.vectorSearch(R).limit(A*2).toArray(),D=[];for(let _ of B){let O={id:_.id,embedding:_.vector,metadata:{type:_.type,content:_.content||"",category:_.category||"",language:_.language||""}};if(h&&!h(O))continue;let i=1/(1+(_._distance||0));if(D.push({doc:O,similarity:i}),D.length>=A)break}return D}catch(C){return console.error("[ERROR] Vector search failed, falling back:",C),this.search(R,T)}}async getDocument(R){if(this.useFallback)return this.fallbackData.get(R);await this.initialize();try{let A=(await this.table.limit(1000).toArray()).find((h)=>h.id===R);if(!A)return;return{id:A.id,embedding:A.vector,metadata:{type:A.type,content:A.content||"",category:A.category||"",language:A.language||""}}}catch(T){return console.error("[ERROR] Failed to get document:",T),this.fallbackData.get(R)}}async getAllDocuments(){if(this.useFallback)return Array.from(this.fallbackData.values());await this.initialize();try{return(await this.table.toArray()).map((T)=>({id:T.id,embedding:T.vector,metadata:{type:T.type,content:T.content||"",category:T.category||"",language:T.language||""}}))}catch(R){return console.error("[ERROR] Failed to get all documents:",R),Array.from(this.fallbackData.values())}}getMetadata(){return{...this.metadata}}async clear(){if(this.useFallback){this.fallbackData.clear(),this.metadata.count=0;return}await this.initialize();try{await this.db.dropTable(this.tableName);let R=[{id:"init",vector:Array(this.dimensions).fill(0),type:"code",content:"",category:"",language:""}];this.table=await this.db.createTable(this.tableName,R),await this.table.delete("id = ?",["init"]),this.metadata.count=0,console.error("[INFO] Cleared all vectors from LanceDB")}catch(R){console.error("[ERROR] Failed to clear vectors:",R),this.fallbackData.clear(),this.metadata.count=0}}static async load(R){try{if(!Oi.existsSync(R))return null;if((await(await Hi.connect(R)).tableNames()).length===0)return null;return new ii(R,1536)}catch(T){return console.error("[ERROR] Failed to load LanceDB storage:",T),null}}cosineSimilarity(R,T){if(R.length!==T.length)return 0;let A=0,h=0,C=0;for(let B=0;B<R.length;B++)A+=R[B]*T[B],h+=R[B]*R[B],C+=T[B]*T[B];if(h===0||C===0)return 0;return A/(Math.sqrt(h)*Math.sqrt(C))}}class m6{name="openai";dimensions=1536;apiKey;model;baseURL;constructor(R={}){if(this.apiKey=R.apiKey||process.env.OPENAI_API_KEY||"",this.model=R.model||"text-embedding-3-small",this.baseURL=R.baseURL||"https://api.openai.com/v1",this.model==="text-embedding-3-large")this.dimensions=3072;else if(this.model==="text-embedding-ada-002")this.dimensions=1536;if(!this.apiKey)console.warn("[WARN] OPENAI_API_KEY not set. Embeddings will use mock implementation.")}async generateEmbedding(R){if(!this.apiKey)return console.warn("[WARN] Using mock embedding (no API key)"),G9(R,this.dimensions);try{let T=await fetch(`${this.baseURL}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:this.model,input:R})});if(!T.ok){let h=await T.text();throw Error(`OpenAI API error: ${T.status} ${h}`)}return(await T.json()).data[0].embedding}catch(T){return console.error("[ERROR] Failed to generate OpenAI embedding:",T),console.warn("[WARN] Falling back to mock embedding"),G9(R,this.dimensions)}}async generateEmbeddings(R){if(!this.apiKey)return console.warn("[WARN] Using mock embeddings (no API key)"),R.map((T)=>G9(T,this.dimensions));try{let T=await fetch(`${this.baseURL}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:this.model,input:R})});if(!T.ok){let h=await T.text();throw Error(`OpenAI API error: ${T.status} ${h}`)}return(await T.json()).data.map((h)=>h.embedding)}catch(T){return console.error("[ERROR] Failed to generate OpenAI embeddings:",T),console.warn("[WARN] Falling back to mock embeddings"),R.map((A)=>G9(A,this.dimensions))}}async listModels(){if(!this.apiKey)throw Error("API key required to list models");try{let R=await fetch(`${this.baseURL}/models`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}});if(!R.ok){let A=await R.text();throw Error(`OpenAI API error: ${R.status} ${A}`)}return(await R.json()).data.map((A)=>({id:A.id,object:A.object,created:A.created,owned_by:A.owned_by}))}catch(R){if(R instanceof Error)throw Error(`Failed to list models: ${R.message}`);throw Error("Failed to list models: Unknown error")}}async listEmbeddingModels(){return(await this.listModels()).filter((T)=>T.id.includes("embedding")||T.id.includes("text-embedding"))}async testConnection(){try{return await this.listModels(),!0}catch(R){return!1}}async getEmbeddingModelOptions(){return(await this.listEmbeddingModels()).map((T)=>({id:T.id,description:this.getModelDescription(T.id)}))}getModelDescription(R){return{"text-embedding-3-small":"Latest small embedding model (1536 dimensions)","text-embedding-3-large":"Latest large embedding model (3072 dimensions)","text-embedding-ada-002":"Legacy embedding model (1536 dimensions)"}[R]||`Embedding model: ${R}`}}class Y6{name="mock";dimensions;constructor(R=1536){this.dimensions=R}async generateEmbedding(R){return G9(R,this.dimensions)}async generateEmbeddings(R){return R.map((T)=>G9(T,this.dimensions))}}async function Vj(){let R={};try{let{secretUtils:C}=await import("./secret-utils-22z224pj.js");R=await C.loadSecrets(process.cwd()).catch(()=>({}))}catch(C){}let T=R.OPENAI_API_KEY||process.env.OPENAI_API_KEY,A=R.OPENAI_BASE_URL||process.env.OPENAI_BASE_URL,h=R.EMBEDDING_MODEL||process.env.EMBEDDING_MODEL;if(T)return console.error(`[INFO] Using OpenAI embeddings (${h||"text-embedding-3-small"})`),new m6({apiKey:T,baseURL:A,model:h});return console.error("[INFO] Using mock embeddings (no OPENAI_API_KEY)"),new Y6}function mj(R,T={}){let{maxChunkSize:A=1000,overlap:h=100}=T,C=[],B=0;while(B<R.length){let D=Math.min(B+A,R.length),_=R.slice(B,D);if(C.push(_),B=D-h,B>=R.length)break}return C}export{Vj as getDefaultEmbeddingProvider,mj as chunkText,m6 as OpenAIEmbeddingProvider,Y6 as MockEmbeddingProvider};
export{ii as q,m6 as r,Vj as s};
