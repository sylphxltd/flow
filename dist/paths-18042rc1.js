import{v as H,y as M}from"./index-xjb31h4e.js";import"./index-stxe79vq.js";M();import J from"node:fs";import q from"node:path";import{fileURLToPath as N}from"node:url";function Q(){let k=N(import.meta.url),z=k.lastIndexOf("/dist/");if(z===-1){let B=k.lastIndexOf("/src/");if(B!==-1){let F=k.substring(0,B),G=q.join(F,"dist");if(J.existsSync(G))return G;return F}throw Error("Code must run from dist/ directory or be in a project with dist/ available")}return k.substring(0,z+5)}var C=q.join(Q(),"assets");function V(){return q.join(C,"agents")}function W(){return q.join(C,"templates")}function K(){return q.join(C,"rules")}function b(){return q.join(C,"knowledge")}function v(k){if(!k||typeof k!=="string")throw Error("Filename must be a non-empty string");if(k.includes("..")||k.includes("/")||k.includes("\\"))throw Error(`Invalid filename: ${k}. Path traversal not allowed.`);if(!/^[a-zA-Z0-9._-]+$/.test(k))throw Error(`Filename contains invalid characters: ${k}`);let z=K(),B=H.safeJoin(z,k);if(!J.existsSync(B))throw Error(`Rule file not found: ${k} (looked in ${z})`);return B}function L(){return{assetsRoot:C,agents:V(),templates:W(),rules:K()}}export{W as getTemplatesDir,K as getRulesDir,v as getRuleFile,L as getPathsInfo,b as getKnowledgeDir,V as getAgentsDir};
export{V as r,b as s,v as t};
