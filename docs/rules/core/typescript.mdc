---
description: TypeScript type system and language features
globs: ["**/*.{ts,tsx}"]
alwaysApply: true
---

# TypeScript Key Rules

## Core
- Strict mode; no implicit any.
- Annotate export returns; interfaces for contracts.
- Doc breaking changes.

## Avoid Unsafe
- `as any`/`@ts-ignore` w/o justification.
- Global ambients outside .d.ts.
- Prod console/debugger.

## Advanced
- Leverage infer for precise type extraction from generics, unions, and conditionals in domain modeling.
- Generics/discrim unions/conditionals for domain.
- Utility types (Pick/Omit); template literals for patterns.
- Prefer explicit or inferred types; minimize any/unknown usageâ€”refactor to strengthen type safety.

## Testing
- Vitest (`*.test.ts`/ `__tests__`); 80%+ coverage (100% critical).
- `@vitest/coverage-v8`; mock externals.

## CI
- Type check/Vitest pre-commit/CI.
- `.env.test` params; parallel/timeouts.
